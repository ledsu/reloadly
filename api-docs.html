<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Reloadly Mobile Top Up API for Developers | Mobile Recharge API</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Cross border mobile top up API to send credits to 5 billion phones designed for easy developer implementation on apps and other platforms.">
        <meta property="og:url" content="https://reloadly.com">
        <meta property="og:type" content="website">
        <meta property="og:title" content="Reloadly">
        <meta property="og:description" content="The Reloadly API platform is built for developers, the world's first toolkit for mobile airtime and mobile operator
  services connecting you to billions of mobile subscribers">
        <meta property="og:image" content="https://reloadly.com/assets/images/reloadly.png">
        <meta name="Description" content="The Reloadly API platform is built for developers, the worlds first toolkit for mobile airtime and mobile operator services connecting you to billions of mobile subscribers">
        <meta property="Keywords" content="Top Up API, Mobile Recharge API, Prepaid top up API, Telecom API, Mobile Airtime API">
		<style type="text/css" media="screen">
            @font-face {font-family: "Futura PT Bold";font-weight: bold; src: url("fonts/ftn85-webfont.woff") format("woff");}
			@font-face {font-family: "Futura PT Book"; font-weight: normal; src: url("fonts/ftn45-webfont.woff") format("woff");}
		</style>
        <link href="css/bootstrap.css" rel="stylesheet" type="text/css" media="all" />
        <link href="css/stack-interface.css" rel="stylesheet" type="text/css" media="all" />
        <link href="css/socicon.css" rel="stylesheet" type="text/css" media="all" />
        <link href="css/lightbox.min.css" rel="stylesheet" type="text/css" media="all" />
        <link href="css/flickity.css" rel="stylesheet" type="text/css" media="all" />
        <link href="css/iconsmind.css" rel="stylesheet" type="text/css" media="all" />
        <link href="css/jquery.steps.css" rel="stylesheet" type="text/css" media="all" />
        <link href="css/theme.css" rel="stylesheet" type="text/css" media="all" />
        <link href="css/custom.css" rel="stylesheet" type="text/css" media="all" />
		<link href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700,700i" rel="stylesheet"> 
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    </head>
<body class="secondary-page" id="api-docs">
        <a id="start"></a>      
  <div class="nav-container">
    <div class="bar bar--sm visible-xs visible-sm visible-md visible-lg">
       	 <div class="container">
            <div class="row">
        	  <div class="col-lg-11 col-md-12 text-right text-left-xs text-left-sm">
            	 <div class="col-3 col-md-2">
                        <a href="index.html"><img class="logo" alt="logo" src="img/logo.svg" /> </a>
                 </div> 
              </div>
            </div>
         </div> 
     </div>
     
<nav role='navigation'>
  <div id="menuToggle" onclick="nav.menu()">
    <input type="checkbox"/><span></span><span></span><span></span>
    <ul id="menu" class="main-menu">
      <li><div class="signup hidden-sm hidden-md hidden-lg"><a href="signup.html" target="_blank">Sign up</a></div></li>
      <li><div class="login hidden-sm hidden-md hidden-lg"><a href="login.html" target="_blank">Log in</a></div></li>
	  <li><a href="index.html" target="_blank">Home</a></li>
	  <li><a href="about.html" target="_blank">About Us</a></li>
	  <li><a href="#" id="products">Products</a>
	  	<ul id="sub-menu">
	  		<li><a href="airtime.html" target="_blank">Airtime</a></li>
	  		<li><a href="data-bundles.html" target="_blank">Data bundles</a></li>
	  		<li><a href="digital-gifts.html" target="_blank">Digital gifts</a></li>
       </ul></li>
      <li><a href="mobile-app.html" target="_blank">Mobile App</a></li>
      <li><a href="pricing.html" target="_blank">Pricing</a></li>
      <li><a href="use-cases.html" target="_blank">Use Cases</a></li>
      <li><a href="support.html" target="_blank">Support</a></li>
      <li><a href="blog.html" target="_blank">Blog</a></li>
      <li><a href="careers.html" target="_blank">Careers</a></li>
      <li><a href="api-docs.html" target="_blank">API Docs</a></li>
    </ul>
  </div>
</nav>

	</div><!--end module-->
        <div class="main-container">
        	<div class="bgd"></div>
        	<div class="right-bgd"></div>
        	<div class="api-right">
                  <label>Select Language : </label>
                  <select name="language">
                      <option value="shell">shell</option>
                      <option value="java">java</option>
                      <option value="javascript">javascript</option>
                      <option value="julia">julia</option>
                      <option value="perl">perl</option>
                      <option value="python">python</option>
                      <option value="php">php</option>
                      <option value="ruby">ruby</option>
                      <option value="go">go</option>
                      <option value="csharp">csharp</option>
                      <option value="vb">vb</option>
                      <option value="groovy">groovy</option>
                      <option value="objective_c">objective_c</option>
                      <option value="swift">swift</option>
                  </select>
            </div>
            <ul class="search-results"></ul>
            <div class="api-left">
            <ul>
           	<li><div class="search"><input type="text" class="search" id="input-search" placeholder="Search">
        	  	</div></li>
            <li><a href="#introduction" onclick="show();" class="active" data-title="Introduction">Introduction</a></li>
            <li><a href="#get-started" onclick="show();" data-title="GET STARTED">GET STARTED</a></li>
                <ul class="sub-ul">
	  			<li><a href="#authentication-and-authorization" onclick="show();" data-title="Authentication &#38; authorization">Authentication &#38; authorization</a></li>
	  			<li><a href="#api-requests" onclick="show();" data-title="API requests">API requests</a></li>
	  			<li><a href="#api-responses" onclick="show();" data-title="API responses">API responses</a></li>
	  			<li><a href="#error-codes" onclick="show();" data-title="Error codes">Error codes</a></li>
	  			<li><a href="#first-call" onclick="show();" data-title="Make your first call">Make your first call</a></li>
       		    </ul></li>
            <li><a href="#api-ref" onclick="show();" data-title="API REFERENCE">API REFERENCE</a></li>
               <ul class="sub-ul">
               <li><a href="#toppups-api" onclick="show();" data-title="Topups API">Topups API</a></li>
               </ul></li>
            <li><a href="#introduction" onclick="show();" data-title="Account balance">Account balance</a></li>
            <li><a href="#introduction" onclick="show();" data-title="Commissions collection">Commissions collection</a></li>
            <li><a href="#introduction" onclick="show();" data-title="Country collection">Country collection</a></li>
            <li><a href="#introduction" onclick="show();" data-title="Operators collection">Operators collection</a></li>
            <li><a href="#introduction" onclick="show();" data-title="Promotions collection">Promotions collection</a></li>
            <li><a href="#introduction" onclick="show();" data-title="Topup a phone">Topup a phone</a></li>
            <li><a href="#introduction" onclick="show();" data-title="Transaction history">Transaction history</a></li>
            </div>
			
        <div class="api-center">
          <div class="row text-left col-md-7">
<h1 id='introduction'>Introduction</h1>
<p>Reloadly Mobile top up API enables your apps, websites and any other platforms to send mobile credit top ups to over 4.5 billion phones covering 600+ mobile operators worldwide.
We provide a commission for every operator available. First you will need to create your account if you haven’t done so. Also, we suggest you download the Reloadly app to view and play with the user functionalities. This will better help guide you when integrating our APIs.</p>
<h1 id='get-started'>GET STARTED</h1><h2 id='authentication-amp-authorization'>Authentication &amp; Authorization</h2>
<p>The Reloadly APIs are HTTP-based RESTful APIs that use OAuth 2.0 protocol for authorization. API request and response bodies are formatted in JSON.</p>
<p>OAuth is an open standard that many companies use to provide secure access to protected resources.</p>
<p>When you create a developer account. Reloadly generates a set of OAuth client ID and secret credentials for your app for both sandbox and live environments. You pass these credentials in the <code>Authorization</code> header in the get access token request.</p>
<p>In exchange for these credentials, the Reloadly authorization server issues access tokens called bearer tokens that you use for authorization when you make REST API requests. A bearer token enables you to complete actions on behalf of, and with the approval of the resource owner.</p>
<p>The <code>access_token</code> field in the get access token response contains a bearer token, indicated by the <code>token_type</code> of <code>Bearer</code> :</p>
<h5 class="force-middle">
<p>Response 200 (application/json)</p>
</h5>
<pre class="force-middle">
{
      "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa",
      "scope": "<scopes>",
      "expires_in": "5184000",
      "token_type": "Bearer"
}
</pre>
<p>Include this bearer token in API requests in the <code>Authorization</code> header with the <code>Bearer</code> authentication scheme.</p>
<p>This sample request uses a bearer token to list topup transactions for an user account :</p>
<pre class="force-middle">
curl -v -X GET https://topups-sandbox.reloadly.com/transactions?page=1&size=3 \
    -H "Accept: application/com.reloadly.topups-v1+json" \
    -H "Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa" \
</pre>
<p>Access tokens have a finite lifetime. The <code>expires_in</code> field in the get <a href="#acess_token_response">access token response</a> indicates the lifetime, in seconds, of the access token. For example, an expiry value of 3600 indicates that the access token expires in one hour from the time the response was generated.</p>
<p>To detect when an access token expires, write code to either :</p>
<ul>
<li>Keep track of the <code>expires_in</code> value in the token response. The value is expressed in seconds.</li>
<li>Handle the HTTP <code>401 Unauthorized</code> status code and the <code>TOKEN_EXPIRED</code> error code in the <a href="#error_response_message">error response message</a>. The API endpoint issues this status code when it detects an expired token.</li>
</ul>
<p>Before you create another token, re-use the access token until it expires. See the <a href="#rate_limiting_guidlines">rate limiting guidelines</a>.</p>
<h2 id='api-requests'>API Requests</h2>
<p>To construct a REST API request, combine these components :</p>
<table><thead>
<tr>
<th>Component</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>The HTTP method</td>
<td><ul><li> <code>GET</code>. Requests data from a resource.</li><li><code>POST</code>. Submits data to a resource to process.</li><li><code>PUT</code>. Updates a resource</li><li><code>PATCH</code>. Partially updates a resource.</li><li><code>DELETE</code>. Deletes a resource.</li></ul></td>
</tr>
<tr>
<td>The URL to the API service</td>
<td><ul><li>Sandbox. <code>https://topups-sandbox.reloadly.com</code></li><li>Live. <code>https://topups.reloadly.com</code></li></ul></td>
</tr>
<tr>
<td>The URI to the resource</td>
<td>The resource to query, submit data to, update, or delete. For example, <code>/reports/transactions</code>.</td>
</tr>
<tr>
<td><a href="#query-parameters">Query parameters</a></td>
<td>Optional. Controls which data appears in the response. Use to filter, limit the size of, and sort the data in an API response.</td>
</tr>
<tr>
<td><a href="#http-request-headers">HTTP request headers</a></td>
<td>Includes the <code>Authorization</code> header with the access token.</td>
</tr>
<tr>
<td>A JSON request body</td>
<td>Required for most <code>GET</code>, <code>POST</code>, <code>PUT</code>, and <code>PATCH</code> calls.</td>
</tr>
</tbody></table>
<h3 id='query-parameters'>Query Parameters</h3>
<p>For most REST <code>GET</code> calls, you can specify one or more optional query parameters on the request URI to filter, limit the size of, and sort the data in an API response. For filter parameters, see the individual <code>GET</code> calls.</p>
<p>To limit, or page, and sort the data that is returned in some API responses, use these, or similar, query parameters :</p>
<h4>
<p> <b>Note</b> : Not all pagination parameters are available for all APIs.</p>
</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>count</code></td>
<td>integer</td>
<td>The number of items to list in the response.</td>
</tr>
<tr>
<td><code>startTime</code></td>
<td>integer</td>
<td>The start date and time for the range to show in the response, in <a href="https://tools.ietf.org/html/rfc3339#section-5.6">Internet date and time format. (ISO 8601)</a> For example, <code>startTime=2018-03-06 00:00:00</code></td>
</tr>
<tr>
<td><code>endTime</code></td>
<td>integer</td>
<td>The end date and time for the range to show in the response, in <a href="https://tools.ietf.org/html/rfc3339#section-5.6">Internet date and time format. (ISO 8601)</a> For example, <code>endTime=2016-03-06 23:59:59</code>.</td>
</tr>
<tr>
<td><code>page</code></td>
<td>integer</td>
<td>The zero-relative start index of the entire list of items that are returned in the response. So, the combination of <code>page=0</code> and <code>page_size=20</code> returns the first 20 items. The combination of <code>page=20</code> and <code>page_size=20</code> returns the next 20 items.</td>
</tr>
<tr>
<td><code>size</code></td>
<td>integer</td>
<td>The number of items to return in the response.</td>
</tr>
<tr>
<td><code>sortBy</code></td>
<td>string</td>
<td>Sorts the transactions in the response by a specified value, such as the create time or update time.</td>
</tr>
<tr>
<td><code>sortOrder</code></td>
<td>string</td>
<td>Sorts the items in the response in ascending or descending order.</td>
</tr>
</tbody></table>
<p>For example, the Invoicing API returns details for four invoices beginning with the third invoice and includes the total count of invoices in the response:</p>
<pre class="force-middle">
curl -v -X GET https://sandbox.topups.reloadly.com/transactions?page=1&size=10&startTime=2018-03-01 00:00:00&endTime=2018-03-31 23:59:59 \
    -H "Accept: application/com.reloadly.topups-v1+json" \
    -H "Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa" \
</pre>
<h3 id='request-headers'>Request Headers</h3>
<p>The commonly used HTTP request headers are :</p>
<table><thead>
<tr>
<th>Header</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>Accept</strong></td>
<td>Required for operations with a response body. Specifies the response format. The syntax is: <br>Accept: <code>application/format</code> <br>Where <code>format</code> is <code>com.reloadly.topups-v1+json</code> .</td>
</tr>
<tr>
<td><strong>Authorization</strong></td>
<td>Required to get an access token or make API calls.<br> To <a href="#make-your-first-call">get an access token</a>, set this header to your <code>client_id</code> and <code>client_secret</code> credentials.<br><strong>Note</strong>: If you use cURL, specify <code>-u &quot;client_id:secret&quot;</code>.<br>To make REST API calls, include the bearer token in the <code>Authorization</code> header with the <code>Bearer</code> authentication scheme:<br>Authorization: <code>Bearer Access-Token</code></td>
</tr>
<tr>
<td><strong>Content-Type</strong></td>
<td>Required for operations with a request body.<br>Specifies the request format. The syntax is:<br>Content-Type: <code>application/format</code><br>Where <code>format</code> is <code>json</code>.</td>
</tr>
</tbody></table>
<h2 id='api-responses'>API Responses</h2>
<p>Reloadly API calls return HTTP status codes. Some API calls also return JSON response bodies that include information about the resource including one or more contextual HATEOAS links. Use these links to request more information about and construct an API flow that is relative to a specific request.</p>
<h3 id='http-status-codes'>HTTP status codes</h3>
<p>Each REST API request returns a <a href="#success"><strong>success</strong></a> or <a href="#error"><strong>error</strong></a> status code.</p>
<h4 id='success'>Success</h4>
<table><thead>
<tr>
<th>Status code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>200 OK</code></td>
<td>The request succeeded.</td>
</tr>
<tr>
<td><code>201 Created</code></td>
<td>A <code>POST</code> method successfully created a resource. If the resource was already created by a previous execution of the same method, for example, the server returns the HTTP <code>200 OK</code> status code.</td>
</tr>
<tr>
<td><code>202 Accepted</code></td>
<td>The server accepted the request and will execute it later.</td>
</tr>
<tr>
<td><code>204 No Content</code></td>
<td>The server successfully executed the method but returns no response body.</td>
</tr>
</tbody></table>
<h4 id='error'>Error</h4>
<p>In the responses for failed requests, Reloadly returns HTTP <code>4XX</code> or <code>5XX</code> status codes.</p>
<p>For all errors except Identity errors, Reloadly returns an error response body that includes additional error details in this format:</p>
<pre class="force-middle">
{
  "timeStamp": ERROR_TIME_STAMP (numerical),
  "message": "Account verification failed, invalid or expired token",
  "infoLink": "ERROR_DOCUMENTATION_LINK",
  "path": "/accounts/verify",
  "errorCode": "ERROR_CODE",
  
  // Some types of errors also include a details array:
  "details": [
    {
        "field": "FIELD_NAME",
        "issue": "PROBLEM_WITH_FIELD"
    }
  ]
}
</pre>
<p>In the responses, Reloadly returns these HTTP status codes for failed requests:</p>
<table><thead>
<tr>
<th>HTTP status code</th>
<th>Typical error code and error message</th>
<th>Cause</th>
</tr>
</thead><tbody>
<tr>
<td><code>400 Bad Request</code></td>
<td><code>INVALID_REQUEST</code>. Request is not well-formed, syntactically incorrect, or violates schema.</td>
<td>See <a href="#validation-errors">Validation errors</a>. The server could not understand the request. Indicates one of these conditions: <ul><li>The API cannot convert the payload data to the underlying data type.</li><li>he data is not in the expected data format.</li><li>A required field is not available.</li><li>A simple data validation error occurred.</li></ul></td>
</tr>
<tr>
<td><code>401 Unauthorized</code></td>
<td><code>AUTHENTICATION_FAILURE</code>. Authentication failed due to invalid authentication credentials.</td>
<td>See <a href="#authentication-errors">Authentication errors</a>. The request requires authentication and the caller did not provide valid credentials.</td>
</tr>
<tr>
<td><code>403 Forbidden</code></td>
<td><code>NOT_AUTHORIZED</code>. Authorization failed due to insufficient permissions.</td>
<td>The client is not authorized to access this resource although it might have valid credentials. For example, the client does not have the correct OAuth 2 scope. Additionally, a business-level authorization error might have occurred. For example, the account holder does not have sufficient funds.</td>
</tr>
<tr>
<td><code>404 Not Found</code></td>
<td><code>RESOURCE_NOT_FOUND</code>. The specified resource does not exist.</td>
<td>The server did not find anything that matches the request URI. Either the URI is incorrect or the resource is not available. For example, no data exists in the database at that key.</td>
</tr>
<tr>
<td><code>405 Method Not Allowed</code></td>
<td><code>METHOD_NOT_SUPPORTED</code>. The server does not implement the requested HTTP method.</td>
<td>The service does not support the requested HTTP method. For example, <code>PATCH</code>.</td>
</tr>
<tr>
<td><code>406 Not Acceptable</code></td>
<td><code>MEDIA_TYPE_NOT_ACCEPTABLE</code>. The server does not implement the media type that would be acceptable to the client.</td>
<td>The server cannot use the client-request media type to return the response payload. For example, this error occurs if the client sends an <code>Accept: application/xml</code> request header but the API can generate only an <code>application/json</code> response.</td>
</tr>
<tr>
<td><code>415 Unsupported Media Type</code></td>
<td><code>UNSUPPORTED_MEDIA_TYPE</code>. The server does not support the request payload’s media type.</td>
<td>The API cannot process the media type of the request payload. For example, this error occurs if the client sends a <code>Content-Type: application/xml</code> request header but the API can only accept <code>application/json</code> request payloads.</td>
</tr>
<tr>
<td><code>422 Unprocessable Entity</code></td>
<td><code>UNPROCCESSABLE_ENTITY</code>. The API cannot complete the requested action, or the request action is semantically incorrect or fails business validation.</td>
<td>The API cannot complete the requested action and might require interaction with APIs or processes outside of the current request. No systemic problems limit the API from completing the request. For example, this error occurs for any business validation errors, including errors that are not usually of the <code>400</code> type.</td>
</tr>
<tr>
<td><code>429 Unprocessable Entity</code></td>
<td><code>RATE_LIMIT_REACHED</code>. Too many requests. Blocked due to rate limiting.</td>
<td>The rate limit for the user, application, or token exceeds a predefined value. See <a href="https://tools.ietf.org/html/rfc6585">RFC 6585</a>.</td>
</tr>
<tr>
<td><code>500 Internal Server Error</code></td>
<td><code>INTERNAL_SERVER_ERROR</code>. An internal server error has occurred.</td>
<td>A system or application error occurred. Although the client appears to provide a correct request, something unexpected occurred on the server.</td>
</tr>
<tr>
<td><code>503 Service Unavailable</code></td>
<td><code>SERVICE_UNAVAILABLE</code>. Service Unavailable.</td>
<td>The server cannot handle the request for a service due to temporary maintenance.</td>
</tr>
</tbody></table>
<h4 id='validation-errors'>Validation errors</h4>
<p>For validation errors, Reloadly returns the HTTP <code>400 Bad Request</code> status code.</p>
<p>To prevent validation errors, ensure that parameters are of the right type and conform to these constraints:</p>
<table><thead>
<tr>
<th>Parameter type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Character</td>
<td>Names, addresses, phone numbers, and so on have maximum character limits.</td>
</tr>
<tr>
<td>Numeric</td>
<td>Amounts, ids, and so on must use non-negative numeric values and have required formats. For example, a CVV must be three or four numbers while a credit card number must contain only numbers.</td>
</tr>
<tr>
<td>Required</td>
<td>Must be included in the request. For example, when you provide credit card information, you must include a postal code for most countries.</td>
</tr>
<tr>
<td>Monetary</td>
<td>Must use the right currency.</td>
</tr>
</tbody></table>
<h4 id='authentication-errors'>Authentication errors</h4>
<p>For authentication errors, Reloadly returns the HTTP <code>401 Unauthorized</code> status code. See <a href="#authentication-amp-authorization">authentication and authorization</a>.</p>
<p>Access token-related issues often cause authentication errors.</p>
<p>Ensure that the access token is valid and present and not expired.</p>
<h3 id='hateoas-links'>HATEOAS links</h3>
<p>Hypermedia as the Engine of Application State (HATEOAS) is a constraint of the REST application architecture that distinguishes it from other network application architectures.</p>
<p>This excerpt from a sample response shows an array of HATEOAS links:</p>
<pre>
{  
  "links": [{
    "href": "https://api.reloadly.com/payments/4",
    "rel": "self",
    "method": "GET"
  }, {
    "href": "https://api.reloadly.com/payments/4/refund",
    "rel": "refund",
    "method": "POST"
  }]
}
</pre>
<p>You can use the links in this example, as follow :
* Use the <code>self</code> link to get more information about the request. Combine the method and the target URL to make the call :
<code>GET https://api.reloadly.com/payments/4</code>
*Use the <code>refund</code> link to request a refund :
<code>POST https://api.reloadly.com/payments/4/refund</code></p>
<p>The elements in the <code>link</code> object are :</p>
<table><thead>
<tr>
<th>Element</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>href</code></td>
<td>Required</td>
<td>The target URL.</td>
</tr>
<tr>
<td><code>rel</code></td>
<td>Required</td>
<td>The link relationship type.</td>
</tr>
<tr>
<td><code>method</code></td>
<td>Optional</td>
<td>The HTTP method. Default is <code>GET</code>.</td>
</tr>
</tbody></table>
<h4 id='the-href-element'>The href element</h4>
<p>The <code>href</code> element contains the complete target URL, or link, to use in combination with the HTTP <code>method</code> to make the related call. <code>href</code> is the key HATEOAS component that links a completed call with a subsequent call. </p>
<h4 id='the-rel-element'>The rel element</h4>
<p>The <code>rel</code> element contains the link relationship type, or how the href link relates to the previous call.</p>
<p>For a complete list of the link relationship types, see <a href="https://www.iana.org/assignments/link-relations/link-relations.xhtml#link-relations-1">Link Relationship Types</a>.</p>
<h4 id='the-method-element'>The method element</h4>
<p>Optional. The <code>method</code> element contains an HTTP method. If present, use this method to make a request to the target URL. If absent, the default method is <code>GET</code>.</p>
<p>The HTTP methods are :</p>
<table><thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>DELETE</code></td>
<td>Deletes a resource.</td>
</tr>
<tr>
<td><code>GET</code></td>
<td>Shows details for a resource or lists resources.</td>
</tr>
<tr>
<td><code>PATCH</code></td>
<td>Partially updates a resource.</td>
</tr>
<tr>
<td><code>POST</code></td>
<td>Creates or manages a resource.</td>
</tr>
<tr>
<td><code>PUT</code></td>
<td>Updates a resource.</td>
</tr>
</tbody></table>
<h2 id='error-codes'>Error Codes</h2>
<p>A Reloadly API operation may return multiple error and warning codes :</p>
<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>TOKEN_EXPIRED</td>
<td>Access tokens have a finite lifetime. The expires_in field in the get access token response indicates the lifetime, in seconds, of the access token. For example, an expiry value of 3600 indicates that the access token expires in one hour from the time the response was generated. <br><br>To detect when an access token expires, write code to either :<br><br><ul><li>Keep track of the <code>expires_in</code> value in the token response. The value is expressed in seconds.</li><li>Handle the HTTP <code>401 Unauthorized</code> status code and the <code>TOKEN_EXPIRED</code> error code in the error response message. The API endpoint issues this status code when it detects an expired token.</li></ul></td>
</tr>
<tr>
<td>COUNTRY_NOT_SUPPORTED</td>
<td>The specified country (ISO-2 country code) in the request is currently not supported</td>
</tr>
<tr>
<td>INVALID_RECIPIENT_PHONE</td>
<td>The specified <code>recipientPhone</code> in the request is not valid for the specified country (ISO-2 country code) country</td>
</tr>
<tr>
<td>INVALID_SENDER_PHONE</td>
<td>The specified <code>senderPhone</code> in the request is not valid for the specified country (ISO-2 country code) country</td>
</tr>
<tr>
<td>INVALID_PHONE_NUMBER</td>
<td>The specified phone number is not valid</td>
</tr>
<tr>
<td>PHONE_RECENTLY_RECHARGED</td>
<td>After a given phone number has been topuped-up, a delay of 2 minutes has to take place before the same phone number can be topuped-up again.</td>
</tr>
<tr>
<td>COUNTRY_NOT_SUPPORTED</td>
<td>The specified country in the request is currently disabled or not supported</td>
</tr>
<tr>
<td>OPERATOR_UNAVAILABLE_OR_CURRENTLY_INACTIVE</td>
<td>The specified operator is currently disabled or inactive on the platform.</td>
</tr>
<tr>
<td>INACTIVE_ACCOUNT</td>
<td>Reloadly reserves the right to de-activate a developer account for various reasons. The developer must contact support for more info.</td>
</tr>
<tr>
<td>INVALID_AMOUNT_FOR_OPERATOR</td>
<td>The specified topup amounts is not valid for the given operator in the request.</td>
</tr>
<tr>
<td>TOPUP_TRANSACTION_FAILED</td>
<td>Topup transactions may failed various reasons. Developer must contact support if they need more details.</td>
</tr>
<tr>
<td>COULD_NOT_AUTO_DETECT_OPERATOR</td>
<td>Reloadly platform has the ability to auto-detect mobile carriers/operators for a given phone number, see <a href="#auto-detect-mobile-operator-for-given-phone-number">Operator auto-detect</a>. In cases where that&#39;s not possible, this error code is returned.</td>
</tr>
<tr>
<td>ACCOUNT_NOT_FOUND</td>
<td>User account not found or does not exist.</td>
</tr>
<tr>
<td>MAX_DAILY_TRANSACTION_COUNT_REACHED</td>
<td>Some developer account may have a daily transaction count limit. This error code is returned when that occurs</td>
</tr>
<tr>
<td>MAX_DAILY_TRANSACTION_AMOUNT_REACHED</td>
<td>Some developer account may have a daily total transaction amount limit. This error code is returned when that occurs</td>
</tr>
<tr>
<td>TRANSACTION_CANNOT_BE_PROCESSED_AT_THE_MOMENT</td>
<td>Topup transactions may failed various reasons. Developer must contact support if they need more details.</td>
</tr>
<tr>
<td>INVALID_AMOUNT</td>
<td>Reloadly expects amounts to be numerical.</td>
</tr>
<tr>
<td>INSUFFICIENT_BALANCE</td>
<td>This error code is returned when a user attempts an API operation that requires adequate account balance to be available in order to be performed. This error code is returned when the user account lack enought balance.</td>
</tr>
<tr>
<td>OPERATOR_NOT_IN_SERVICE</td>
<td>The specified operator in the request is currently disabled, inactive or not in service on the platform.</td>
</tr>
</tbody></table>
<h2 id='make-your-first-call'>Make Your First Call</h2>
<p>To make REST API calls, create a Reloadly developer account and get an access token :</p>
<ol>
<li><span>1. <strong><a href="https://www.reloadly.com/login">Create a developer account</a></strong> &lt;= (click to go there). When you create a developer account, Reloadly generates a set of OAuth credentials.</span></li>
<li><span>2. <strong>Get an access token</strong>. Pass the OAuth credentials in a get access token call.In response, the Reloadly authorization server issues an access token.</span></li>
<li><span>3. <strong>Make REST API calls</strong>. Use the access token for authentication when you make REST API calls.</span></li>
</ol>
<h3 id='get-an-access-token'>Get an access token</h3>
<h4>
<p>URLs: `https://auth.reloadly.com/oauth/token` <p>
</h4>
<p>To get an access token, you pass your OAuth credentials in a get access token call. To make this call, you can use either cURL on the command line or the Postman app.</p>
<p>In response, the Reloadly authorization server issues an access token.</p>
<p>Re-use the access token until it expires. See our <a href="#rate_limiting_guidelines">rate limiting guidelines</a>. When it expires, you can get a new token.</p>
<h3 id='curl-example'>cURL example</h3>
<pre>
Tips:
&#8226; If you use Windows, use a Bash shell to make cURL calls.
&#8226; If you use a command-line tool other than cURL, set content-type to application/json.
</pre>
<ol>
<li><span>1. Download <a href="https://curl.haxx.se/download.html">cURL</a> for your environment.</span></li>
<li><span>2. From the command line, run this command :</span></li>
</ol>
<pre>
curl -d '{
            "client_id":"YOUR_CLIENT_ID",
            "client_secret":"YOUR_CLIENT_SECRET",
            "grant_type":"client_credentials",
            "audience":"https://topups.reloadly.com"
        }' \
    -H "Content-Type: application/json" \
    -X POST https://auth.reloadly.com/oauth/token \
</pre>
<p>Where :</p>
<table><thead>
<tr>
<th>&nbsp;</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>The get access token endpoint.</td>
<td><code>https://auth.reloadly.com/oauth/token</code></td>
</tr>
<tr>
<td><code>client_id</code></td>
<td>Your client ID.</td>
</tr>
<tr>
<td><code>client_secret</code></td>
<td>Your client secret.</td>
</tr>
<tr>
<td><code>audience</code></td>
<td>The API you&#39;re requesting the access token for.<br>Live : <code>https://topups.reloadly.com</code><br>Sandbox : <code>https://topups-sandbox.reloadly.com</code></td>
</tr>
<tr>
<td><code>grant_type</code></td>
<td>The grant type. Set to <code>client_credentials</code>.</td>
</tr>
</tbody></table>
<p>View the sample response.</p>
<h3 id='postman-example'>Postman example</h3>
<ol>
<li><span>Download the latest version of <a href="https://www.getpostman.com/">Postman</a> for your environment, and open Postman.</span></li>
<li><span>Select the <code>POST</code> method.</span></li>
<li><span>Enter the <code>https://auth.reloadly.com/oauth/token</code> request URL.</span></li>
<li><span>On the <strong>Header</strong> tab, enter <strong>Content-Type</strong> under key and <strong>application/json</strong> as value :</span></li>
</ol>
<table><thead>
</tr>
</thead><tbody>
<tr>
<td><strong>key</strong></td>
<td>Content-Type</td>
</tr>
<tr>
<td><strong>value</strong></td>
<td>application/json</td>
</tr>
</tbody></table>
<p>On the <strong>Body</strong> tab, select <strong>raw</strong> and enter this information :</p>
<pre class="force-middle">
{

   "client_id": "YOUR_CLIENT_ID",
   
   "client_secret": "YOUR_CLIENT_SECRET",
   
   "grant_type": "client_credentials",
   
   "audience": "https://topups-sandbox.reloadly.com"
  }
</pre>
<ol>
<li><span>Click Send</span></li>
<li><span>View the sample response :</span></li>
</ol>
<pre>
{

  "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSU",

  "scope": "send-topups read-topups-history read-operators read-promotions",

  "expires_in": 86400,

  "token_type": "Bearer"
 }
</pre>
<p>Where : </p>
<table><tbody>
<tr>
<td><code>access_token</code></td>
<td>Your access token.</td>
</tr>
<tr>
<td><code>expires_in</code></td>
<td>The number of seconds after which the token expires. Request another token when the current one expires.</td>
</tr>
</tbody></table>
<h3 id='make-rest-api-calls'>Make REST API Calls</h3>
<p>With a valid access token, you can make REST API calls.</p>
<p>This sample call sends a airtime (topup) transaction and uses only the required input parameters. The access token in the call is an OAuth bearer token.</p>
<p><strong>Note</strong>: Topups API calls are always made by an <code>actor</code>. The actor specifies a bearer token in the Authorization: Bearer request header. A bearer token is an access token that is issued to the actor by an authorization server with the approval of the resource owner. In this case, the actor uses the bearer token to make a topup request.</p>
<pre>
curl -d '{
          "recipientPhone": {
            "countryCode": "HT",
            "number": "50936377111" //(Note the "+509" country dialing code for Haiti)
          },
          "senderPhone": {
            "countryCode": "US",
            "number": "13059547862" //(Note the "+1" country dialing code for USA)
          },
          "operatorId": 173,
          "amount": 15,
          "customIdentifier": "transaction by john@example.com"
        }' \
    -H "Accept: application/com.reloadly.topups-v1+json" \
    -H "Content-Type: application/json" \
    -H "Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSU" \
    -X POST https://topups.reloadly.com/topups
</pre>
<p><strong>Note</strong>: Phone numbers (<code>recipientPhone</code>, <code>senderPhone</code>) can be in 2 formats. In the example above, the &quot;+&quot; sign is not present in front of the country dialing codes (see <a href="https://countrycode.org/">countries dialing codes</a>). Our API also accept phone number prefixed with &quot;+&quot;. The following is equivalent to the example above :</p>
<pre>
curl -d '{
          "recipientPhone": {
            "countryCode": "HT",
            "number": "+50936377111" //(Note the "+509" country dialing code for Haiti)
          },
          "senderPhone": {
            "countryCode": "US",
            "number": "+13059547862" //(Note the "+1" country dialing code for USA)
          },
          "operatorId": 173,
          "amount": 15,
          "customIdentifier": "transaction by john@example.com"
        }' \
    -H "Accept: application/com.reloadly.topups-v1+json" \
    -H "Content-Type: application/json" \
    -H "Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSU" \
    -X POST https://topups.reloadly.com/topups
</pre>
<h1 id='api-reference'>API REFERENCE</h1><h2 id='topups-api'>Topups API</h2>
<p>The Reloadly Topups API is RESTful and uses a JSON data format. The API grants users in more than 100 countries access to its feature set. The API enables users to conduct topup (airtime) transactions, retrieve account data, view international rates, see history and much more.</p>

<h3 id='account-balance-resource-group'>Account Balance (resource group)</h3>
<p>Use the <code>/accounts/balance</code> resource to list account available balance.</p>
<h1 id='account-balance'>Account Balance</h1><h2 id='retrieve-account-balance'>Retrieve account balance</h2>
<h4>
<p>Account Balance/Retrieve account balance</p>
</h4>
</div>
<div class="right-side col-5" style="overflow:auto; float:right;">
<pre>GET : https://topups.reloadly.com/accounts/balance
</pre>
<h4>
<p>Parameters</p>
</h4>
<h4 class="parameter-section col">
    <div class="row">
        <span class="col-5">
            <span class="name">Authorization</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Endpoint requires Authentication token in header.</span>
    </div>
</h4>
<h4>
<p>CodeBlock</p>
</h4>
<pre class="highlight shell tab-shell"><code>curl --include <span class="se">\</span>
     --header <span class="s2">"Accept: application/com.reloadly.topups-v1+json"</span> <span class="se">\</span>
     --header <span class="s2">"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span> <span class="se">\</span>
  <span class="s1">'https://topups.reloadly.com/accounts/balance
</span></code></pre><pre class="highlight java tab-java"><code><span class="c1">// Maven : Add these dependecies to your pom.xml (java6+)</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Client</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.ClientBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.Response</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.MediaType</span><span class="o">;</span>
<span class="n">Client</span> <span class="n">client</span> <span class="o">=</span> <span class="n">ClientBuilder</span><span class="o">.</span><span class="na">newClient</span><span class="o">();</span>
<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="s">"https://topups.reloadly.com/accounts/balance
"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">request</span><span class="o">(</span><span class="n">MediaType</span><span class="o">.</span><span class="na">TEXT_PLAIN_TYPE</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"status: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getStatus</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"headers: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getHeaders</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"body:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">readEntity</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">));</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span> <span class="s1">'https://topups.reloadly.com/accounts/balance'</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Accept'</span><span class="p">,</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Authorization'</span><span class="p">,</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">===</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Status:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Headers:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAllResponseHeaders</span><span class="p">());</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Body:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">responseText</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">send</span><span class="p">();</span>
</code></pre><pre class="highlight julia tab-julia"><code><span class="n">var</span> <span class="n">request</span> <span class="o">=</span> <span class="n">require</span><span class="x">(</span><span class="err">'</span><span class="n">request</span><span class="err">'</span><span class="x">);</span>
<span class="n">request</span><span class="x">({</span>
  <span class="n">method</span><span class="x">:</span> <span class="err">'</span><span class="n">GET</span><span class="err">'</span><span class="x">,</span>
  <span class="n">url</span><span class="x">:</span> <span class="err">'</span><span class="n">https</span><span class="x">:</span><span class="o">//</span><span class="n">topups</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">accounts</span><span class="o">/</span><span class="n">balance</span>
<span class="err">'</span><span class="x">,</span>
  <span class="n">headers</span><span class="x">:</span> <span class="x">{</span>
    <span class="err">'</span><span class="n">Accept</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">application</span><span class="o">/</span><span class="n">com</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">topups</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="err">'</span><span class="x">,</span>
    <span class="err">'</span><span class="n">Authorization</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">Bearer</span> <span class="n">eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa</span><span class="err">'</span>
  <span class="x">}},</span> <span class="k">function</span><span class="nf"> </span><span class="o">(</span><span class="nb">error</span><span class="x">,</span> <span class="n">response</span><span class="x">,</span> <span class="n">body</span><span class="x">)</span> <span class="x">{</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Status</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">response</span><span class="o">.</span><span class="n">statusCode</span><span class="x">);</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Headers</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">JSON</span><span class="o">.</span><span class="n">stringify</span><span class="x">(</span><span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="x">));</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Response</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">body</span><span class="x">);</span>
<span class="x">});</span>
</code></pre><pre class="highlight perl tab-perl"><code><span class="nv">$ENV</span><span class="p">{</span><span class="s">'PERL_LWP_SSL_VERIFY_HOSTNAME'</span><span class="p">}</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">strict</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">warnings</span><span class="p">;</span>
<span class="k">use</span> <span class="mf">5.010</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">Cpanel::JSON::</span><span class="nv">XS</span> <span class="sx">qw(encode_json decode_json)</span><span class="p">;</span>
<span class="k">my</span> <span class="nv">$ua</span>   <span class="o">=</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="o">-&gt;</span><span class="k">new</span><span class="p">;</span>
<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Accept"</span> <span class="o">=&gt;</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>
<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Authorization"</span> <span class="o">=&gt;</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>
<span class="k">my</span> <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">get</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/accounts/balance
"</span><span class="p">);</span>
<span class="k">print</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nv">as_string</span><span class="p">;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">urllib2</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="s">'https://topups.reloadly.com/accounts/balance</span><span class="err">
</span><span class="s">'</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
<span class="n">response_body</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span> <span class="n">response_body</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="s2">"https://topups.reloadly.com/accounts/balance
"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="k">TRUE</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="k">FALSE</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"Accept: application/com.reloadly.topups-v1+json"</span><span class="p">,</span>
  <span class="s2">"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span>
<span class="p">));</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$response</span><span class="p">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rubygems'</span> <span class="k">if</span> <span class="no">RUBY_VERSION</span> <span class="o">&lt;</span> <span class="s1">'1.9'</span>
<span class="nb">require</span> <span class="s1">'rest_client'</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:accept</span> <span class="o">=&gt;</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="ss">:authorization</span> <span class="o">=&gt;</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="s1">'https://topups.reloadly.com/accounts/balance
'</span><span class="p">,</span> <span class="n">headers</span>
<span class="nb">puts</span> <span class="n">response</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">
</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
    </span><span class="s">"fmt"</span><span class="x">
    </span><span class="s">"io/ioutil"</span><span class="x">
    </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">
</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://topups.reloadly.com/accounts/balance
"</span><span class="p">,</span><span class="x"> </span><span class="no">nil</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"Accept"</span><span class="p">,</span><span class="x"> </span><span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"Authorization"</span><span class="p">,</span><span class="x"> </span><span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">)</span><span class="x">
    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">
    </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Errored when sending request to the server"</span><span class="p">)</span><span class="x">
        </span><span class="k">return</span><span class="x">
    </span><span class="p">}</span><span class="x">
    </span><span class="k">defer</span><span class="x"> </span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span><span class="x">
    </span><span class="n">resp_body</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Status</span><span class="p">)</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="kt">string</span><span class="p">(</span><span class="n">resp_body</span><span class="p">))</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="c1">//Common testing requirement. If you are consuming an API in a sandbox/test region, uncomment this line of code ONLY for non production uses.</span>
<span class="c1">//System.Net.ServicePointManager.ServerCertificateValidationCallback = delegate { return true; };</span>
<span class="c1">//Be sure to run "Install-Package Microsoft.Net.Http" from your nuget command line.</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Net.Http</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">baseAddress</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Uri</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/"</span><span class="p">);</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">httpClient</span> <span class="p">=</span> <span class="k">new</span> <span class="n">HttpClient</span><span class="p">{</span> <span class="n">BaseAddress</span> <span class="p">=</span> <span class="n">baseAddress</span> <span class="p">})</span>
<span class="p">{</span>
  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"accept"</span><span class="p">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>
  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>
  <span class="k">using</span><span class="p">(</span><span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">await</span> <span class="n">httpClient</span><span class="p">.</span><span class="nf">GetAsync</span><span class="p">(</span><span class="s">"accounts/balance"</span><span class="p">))</span>
  <span class="p">{</span>
        <span class="kt">string</span> <span class="n">responseData</span> <span class="p">=</span> <span class="k">await</span> <span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="nf">ReadAsStringAsync</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight vb tab-vb"><code><span class="k">Dim</span> <span class="nv">request</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">WebRequest</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/accounts/balance
"</span><span class="p">),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebRequest</span><span class="p">)</span>
<span class="n">request</span><span class="p">.</span><span class="n">Method</span> <span class="o">=</span> <span class="s">"GET"</span>
<span class="n">request</span><span class="p">.</span><span class="n">Accept</span> <span class="o">=</span> <span class="s">"application/com.reloadly.topups-v1+json"</span>
<span class="n">request</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">)</span>
<span class="n">request</span><span class="p">.</span><span class="n">ContentLength</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">Dim</span> <span class="nv">responseContent</span> <span class="ow">As</span> <span class="kt">String</span>
<span class="k">Using</span> <span class="n">response</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">GetResponse</span><span class="p">(),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebResponse</span><span class="p">)</span>
  <span class="k">Using</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">New</span> <span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="n">StreamReader</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">GetResponseStream</span><span class="p">())</span>
    <span class="n">responseContent</span> <span class="o">=</span> <span class="n">reader</span><span class="p">.</span><span class="n">ReadToEnd</span><span class="p">()</span>
  <span class="k">End</span> <span class="k">Using</span>
<span class="k">End</span> <span class="k">Using</span>
</code></pre><pre class="highlight groovy tab-groovy"><code><span class="kn">import</span> <span class="nn">groovyx.net.http.RESTClient</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">groovyx</span><span class="o">.</span><span class="na">net</span><span class="o">.</span><span class="na">http</span><span class="o">.</span><span class="na">ContentType</span><span class="o">.</span><span class="na">JSON</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonSlurper</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonOutput</span>
<span class="nd">@Grab</span> <span class="o">(</span><span class="n">group</span> <span class="o">=</span> <span class="s1">'org.codehaus.groovy.modules.http-builder'</span><span class="o">,</span> <span class="n">module</span> <span class="o">=</span> <span class="s1">'http-builder'</span><span class="o">,</span> <span class="n">version</span> <span class="o">=</span> <span class="s1">'0.5.0'</span><span class="o">)</span>
<span class="kt">def</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RESTClient</span><span class="o">(</span><span class="s2">"https://topups.reloadly.com"</span><span class="o">)</span>
<span class="kt">def</span> <span class="n">emptyHeaders</span> <span class="o">=</span> <span class="o">[:]</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Accept"</span> <span class="o">=</span> <span class="s2">"application/com.reloadly.topups-v1+json"</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Authorization"</span> <span class="o">=</span> <span class="s2">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">get</span><span class="o">(</span> <span class="n">path</span> <span class="o">:</span> <span class="s2">"/accounts/balance"</span><span class="o">,</span> <span class="nl">headers:</span> <span class="n">emptyHeaders</span> <span class="o">)</span>
<span class="n">println</span><span class="o">(</span><span class="s2">"Status:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">status</span><span class="o">)</span>
<span class="k">if</span> <span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Content Type: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">contentType</span><span class="o">)</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Body:\n"</span> <span class="o">+</span> <span class="n">JsonOutput</span><span class="o">.</span><span class="na">prettyPrint</span><span class="o">(</span><span class="n">JsonOutput</span><span class="o">.</span><span class="na">toJson</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)))</span>
<span class="o">}</span>
</code></pre><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSURL</span> <span class="o">*</span><span class="n">URL</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURL</span> <span class="nf">URLWithString</span><span class="p">:</span><span class="s">@"https://topups.reloadly.com/accounts/balance</span><span class="err">
</span><span class="s">"</span><span class="p">];</span>
<span class="n">NSMutableURLRequest</span> <span class="o">*</span><span class="n">request</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableURLRequest</span> <span class="nf">requestWithURL</span><span class="p">:</span><span class="n">URL</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setHTTPMethod</span><span class="p">:</span><span class="s">@"GET"</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"application/com.reloadly.topups-v1+json"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Accept"</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Authorization"</span><span class="p">];</span>
<span class="n">NSURLSession</span> <span class="o">*</span><span class="n">session</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURLSession</span> <span class="nf">sharedSession</span><span class="p">];</span>
<span class="n">NSURLSessionDataTask</span> <span class="o">*</span><span class="n">task</span> <span class="o">=</span> <span class="p">[</span><span class="n">session</span> <span class="nf">dataTaskWithRequest</span><span class="p">:</span><span class="n">request</span>
                                        <span class="nf">completionHandler</span><span class="p">:</span>
                              <span class="o">^</span><span class="p">(</span><span class="n">NSData</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="n">NSURLResponse</span> <span class="o">*</span><span class="n">response</span><span class="p">,</span> <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
                                  <span class="k">if</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
                                      <span class="c1">// Handle error...
</span>                                      <span class="k">return</span><span class="p">;</span>
                                  <span class="p">}</span>
                                  <span class="k">if</span> <span class="p">([</span><span class="n">response</span> <span class="nf">isKindOfClass</span><span class="p">:[</span><span class="n">NSHTTPURLResponse</span> <span class="nf">class</span><span class="p">]])</span> <span class="p">{</span>
                                      <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response HTTP Status code: %ld</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="p">(</span><span class="kt">long</span><span class="p">)[(</span><span class="n">NSHTTPURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="n">response</span> <span class="nf">statusCode</span><span class="p">]);</span>
                                      <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response HTTP Headers:</span><span class="se">\n</span><span class="s">%@</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="p">[(</span><span class="n">NSHTTPURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="n">response</span> <span class="nf">allHeaderFields</span><span class="p">]);</span>
                                  <span class="p">}</span>
                                  <span class="n">NSString</span><span class="o">*</span> <span class="n">body</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSString</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithData</span><span class="p">:</span><span class="n">data</span> <span class="nf">encoding</span><span class="p">:</span><span class="n">NSUTF8StringEncoding</span><span class="p">];</span>
                                  <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response Body:</span><span class="se">\n</span><span class="s">%@</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">);</span>
                              <span class="p">}];</span>
<span class="p">[</span><span class="n">task</span> <span class="nf">resume</span><span class="p">];</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">Foundation</span>
<span class="c1">// NOTE: Uncommment following two lines for use in a Playground</span>
<span class="c1">// import PlaygroundSupport</span>
<span class="c1">// PlaygroundPage.current.needsIndefiniteExecution = true</span>
<span class="k">let</span> <span class="nv">url</span> <span class="o">=</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"https://topups.reloadly.com/accounts/balance
"</span><span class="p">)</span><span class="o">!</span>
<span class="k">var</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">URLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Accept"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Authorization"</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">task</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span><span class="p">)</span> <span class="p">{</span> <span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span> <span class="k">in</span>
  <span class="k">if</span> <span class="k">let</span> <span class="nv">response</span> <span class="o">=</span> <span class="n">response</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
    <span class="k">if</span> <span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">,</span> <span class="k">let</span> <span class="nv">body</span> <span class="o">=</span> <span class="kt">String</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="n">data</span><span class="p">,</span> <span class="nv">encoding</span><span class="p">:</span> <span class="o">.</span><span class="n">utf8</span><span class="p">)</span> <span class="p">{</span>
      <span class="nf">print</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span> <span class="p">??</span> <span class="s">"Unknown error"</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="n">task</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
</code></pre>
<h4>
<p>Response</p>
</h4>
<pre class="highlight plaintext"><code>200
</code></pre>
<h4>
<p>Headers</p>
</h4>
<pre class="highlight plaintext"><code>Content-Type: application/json
</code></pre>
<h4>
<p>Body</p>
</h4>
<pre class="highlight plaintext"><code>{
  "balance": 550.75,
  "currencyCode": "USD",
  "currencyName": "United States Dollar"
}
</code></pre>
<h4>
<p>Body Schema</p>
</h4>
<h4 class="parameter-section col">
    <div class="row">
        <span class="col-5">
            <span class="name">balance</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Current account balance amount</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">currencyCode</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Account ISO-4217 3 letter currency code.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">currencyName</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Account currency name for the given currency code</span>
    </div>
</h4>
<h1 id='commissions-collection'>Commissions Collection</h1><h2 id='list-all-commissions'>List all commissions</h2>
<h4>
</div>

<p>Commissions Collection/List all commissions</p>
</h4>
<pre class="highlight plaintext"><code>GET : https://topups.reloadly.com/operators/commissions?page=1&amp;size=3
</code></pre>
<h4>
<p>Parameters</p>
</h4>

<h4 class="parameter-section col">
    <div class="row">
        <span class="col-5">
            <span class="name">page</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(optional)</span>
        </span>
        <span class="col-7">Page No. Default value : 1</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">size</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(optional)</span>
        </span>
        <span class="col-7">Size of each page. Default value : 200</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">suggestedAmounts</span>
            <span class="tag color--pink">boolean</span>
            <span class="require">(optional)</span>
        </span>
        <span class="col-7">Whether to return the suggestedAmounts field on the Operator resource. Default value : false</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">suggestedAmountsMap</span>
            <span class="tag color--pink">boolean</span>
            <span class="require">(optional)</span>
        </span>
        <span class="col-7">Whether to return the suggestedAmountsMap field on the Operator resource. Default value : false</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">includeBundles</span>
            <span class="tag color--pink">boolean</span>
            <span class="require">(optional)</span>
        </span>
        <span class="col-7">Whether to include airtime/data bundles in the operators resources list. Default value : true</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">Authorization</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Endpoint requires Authentication token in header.</span>
    </div>
</h4>

<h4>
<p>Code Block</p>
</h4>
<pre class="highlight shell tab-shell"><code>curl --include <span class="se">\</span>
     --header <span class="s2">"Accept: application/com.reloadly.topups-v1+json"</span> <span class="se">\</span>
     --header <span class="s2">"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span> <span class="se">\</span>
  <span class="s1">'https://topups.reloadly.com/operators/commissions?page=1&amp;size=3'</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// Maven : Add these dependecies to your pom.xml (java6+)</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>

<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Client</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.ClientBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.Response</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.MediaType</span><span class="o">;</span>

<span class="n">Client</span> <span class="n">client</span> <span class="o">=</span> <span class="n">ClientBuilder</span><span class="o">.</span><span class="na">newClient</span><span class="o">();</span>
<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="s">"https://topups.reloadly.com/operators/commissions?page=1&amp;size=3"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">request</span><span class="o">(</span><span class="n">MediaType</span><span class="o">.</span><span class="na">TEXT_PLAIN_TYPE</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">();</span>

<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"status: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getStatus</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"headers: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getHeaders</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"body:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">readEntity</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">));</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span> <span class="s1">'https://topups.reloadly.com/operators/commissions?page=1&amp;size=3'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Accept'</span><span class="p">,</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Authorization'</span><span class="p">,</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">===</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Status:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Headers:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAllResponseHeaders</span><span class="p">());</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Body:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">responseText</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">send</span><span class="p">();</span>

</code></pre><pre class="highlight julia tab-julia"><code><span class="n">var</span> <span class="n">request</span> <span class="o">=</span> <span class="n">require</span><span class="x">(</span><span class="err">'</span><span class="n">request</span><span class="err">'</span><span class="x">);</span>

<span class="n">request</span><span class="x">({</span>
  <span class="n">method</span><span class="x">:</span> <span class="err">'</span><span class="n">GET</span><span class="err">'</span><span class="x">,</span>
  <span class="n">url</span><span class="x">:</span> <span class="err">'</span><span class="n">https</span><span class="x">:</span><span class="o">//</span><span class="n">topups</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">operators</span><span class="o">/</span><span class="n">commissions</span><span class="o">?</span><span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="o">&amp;</span><span class="n">size</span><span class="o">=</span><span class="mi">3</span><span class="err">'</span><span class="x">,</span>
  <span class="n">headers</span><span class="x">:</span> <span class="x">{</span>
    <span class="err">'</span><span class="n">Accept</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">application</span><span class="o">/</span><span class="n">com</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">topups</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="err">'</span><span class="x">,</span>
    <span class="err">'</span><span class="n">Authorization</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">Bearer</span> <span class="n">eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa</span><span class="err">'</span>
  <span class="x">}},</span> <span class="k">function</span><span class="nf"> </span><span class="o">(</span><span class="nb">error</span><span class="x">,</span> <span class="n">response</span><span class="x">,</span> <span class="n">body</span><span class="x">)</span> <span class="x">{</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Status</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">response</span><span class="o">.</span><span class="n">statusCode</span><span class="x">);</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Headers</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">JSON</span><span class="o">.</span><span class="n">stringify</span><span class="x">(</span><span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="x">));</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Response</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">body</span><span class="x">);</span>
<span class="x">});</span>
</code></pre><pre class="highlight perl tab-perl"><code><span class="nv">$ENV</span><span class="p">{</span><span class="s">'PERL_LWP_SSL_VERIFY_HOSTNAME'</span><span class="p">}</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">strict</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">warnings</span><span class="p">;</span>
<span class="k">use</span> <span class="mf">5.010</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">Cpanel::JSON::</span><span class="nv">XS</span> <span class="sx">qw(encode_json decode_json)</span><span class="p">;</span>

<span class="k">my</span> <span class="nv">$ua</span>   <span class="o">=</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="o">-&gt;</span><span class="k">new</span><span class="p">;</span>

<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Accept"</span> <span class="o">=&gt;</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>
<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Authorization"</span> <span class="o">=&gt;</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>

<span class="k">my</span> <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">get</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/operators/commissions?page=1&amp;size=3"</span><span class="p">);</span>

<span class="k">print</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nv">as_string</span><span class="p">;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">urllib2</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="s">'https://topups.reloadly.com/operators/commissions?page=1&amp;size=3'</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="n">response_body</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span> <span class="n">response_body</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="s2">"https://topups.reloadly.com/operators/commissions?page=1&amp;size=3"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="k">TRUE</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="k">FALSE</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"Accept: application/com.reloadly.topups-v1+json"</span><span class="p">,</span>
  <span class="s2">"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$response</span><span class="p">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rubygems'</span> <span class="k">if</span> <span class="no">RUBY_VERSION</span> <span class="o">&lt;</span> <span class="s1">'1.9'</span>
<span class="nb">require</span> <span class="s1">'rest_client'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:accept</span> <span class="o">=&gt;</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="ss">:authorization</span> <span class="o">=&gt;</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="s1">'https://topups.reloadly.com/operators/commissions?page=1&amp;size=3'</span><span class="p">,</span> <span class="n">headers</span>
<span class="nb">puts</span> <span class="n">response</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
    </span><span class="s">"fmt"</span><span class="x">
    </span><span class="s">"io/ioutil"</span><span class="x">
    </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">

    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://topups.reloadly.com/operators/commissions?page=1&amp;size=3"</span><span class="p">,</span><span class="x"> </span><span class="no">nil</span><span class="p">)</span><span class="x">

    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"Accept"</span><span class="p">,</span><span class="x"> </span><span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"Authorization"</span><span class="p">,</span><span class="x"> </span><span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">)</span><span class="x">

    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">

    </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Errored when sending request to the server"</span><span class="p">)</span><span class="x">
        </span><span class="k">return</span><span class="x">
    </span><span class="p">}</span><span class="x">

    </span><span class="k">defer</span><span class="x"> </span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span><span class="x">
    </span><span class="n">resp_body</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span><span class="x">

    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Status</span><span class="p">)</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="kt">string</span><span class="p">(</span><span class="n">resp_body</span><span class="p">))</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="c1">//Common testing requirement. If you are consuming an API in a sandbox/test region, uncomment this line of code ONLY for non production uses.</span>
<span class="c1">//System.Net.ServicePointManager.ServerCertificateValidationCallback = delegate { return true; };</span>

<span class="c1">//Be sure to run "Install-Package Microsoft.Net.Http" from your nuget command line.</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Net.Http</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">baseAddress</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Uri</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/"</span><span class="p">);</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">httpClient</span> <span class="p">=</span> <span class="k">new</span> <span class="n">HttpClient</span><span class="p">{</span> <span class="n">BaseAddress</span> <span class="p">=</span> <span class="n">baseAddress</span> <span class="p">})</span>
<span class="p">{</span>

  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"accept"</span><span class="p">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>

  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>

  <span class="k">using</span><span class="p">(</span><span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">await</span> <span class="n">httpClient</span><span class="p">.</span><span class="nf">GetAsync</span><span class="p">(</span><span class="s">"operators/commissions?page=1&amp;size=3"</span><span class="p">))</span>
  <span class="p">{</span>

        <span class="kt">string</span> <span class="n">responseData</span> <span class="p">=</span> <span class="k">await</span> <span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="nf">ReadAsStringAsync</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight vb tab-vb"><code><span class="k">Dim</span> <span class="nv">request</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">WebRequest</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/operators/commissions?page=1&amp;size=3"</span><span class="p">),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebRequest</span><span class="p">)</span>

<span class="n">request</span><span class="p">.</span><span class="n">Method</span> <span class="o">=</span> <span class="s">"GET"</span>

<span class="n">request</span><span class="p">.</span><span class="n">Accept</span> <span class="o">=</span> <span class="s">"application/com.reloadly.topups-v1+json"</span>

<span class="n">request</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">)</span>

<span class="n">request</span><span class="p">.</span><span class="n">ContentLength</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">Dim</span> <span class="nv">responseContent</span> <span class="ow">As</span> <span class="kt">String</span>
<span class="k">Using</span> <span class="n">response</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">GetResponse</span><span class="p">(),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebResponse</span><span class="p">)</span>
  <span class="k">Using</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">New</span> <span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="n">StreamReader</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">GetResponseStream</span><span class="p">())</span>
    <span class="n">responseContent</span> <span class="o">=</span> <span class="n">reader</span><span class="p">.</span><span class="n">ReadToEnd</span><span class="p">()</span>
  <span class="k">End</span> <span class="k">Using</span>
<span class="k">End</span> <span class="k">Using</span>
</code></pre><pre class="highlight groovy tab-groovy"><code><span class="kn">import</span> <span class="nn">groovyx.net.http.RESTClient</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">groovyx</span><span class="o">.</span><span class="na">net</span><span class="o">.</span><span class="na">http</span><span class="o">.</span><span class="na">ContentType</span><span class="o">.</span><span class="na">JSON</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonSlurper</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonOutput</span>

<span class="nd">@Grab</span> <span class="o">(</span><span class="n">group</span> <span class="o">=</span> <span class="s1">'org.codehaus.groovy.modules.http-builder'</span><span class="o">,</span> <span class="n">module</span> <span class="o">=</span> <span class="s1">'http-builder'</span><span class="o">,</span> <span class="n">version</span> <span class="o">=</span> <span class="s1">'0.5.0'</span><span class="o">)</span>
<span class="kt">def</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RESTClient</span><span class="o">(</span><span class="s2">"https://topups.reloadly.com"</span><span class="o">)</span>

<span class="kt">def</span> <span class="n">emptyHeaders</span> <span class="o">=</span> <span class="o">[:]</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Accept"</span> <span class="o">=</span> <span class="s2">"application/com.reloadly.topups-v1+json"</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Authorization"</span> <span class="o">=</span> <span class="s2">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">get</span><span class="o">(</span> <span class="n">path</span> <span class="o">:</span> <span class="s2">"/operators/commissions?page=1&amp;size=3"</span><span class="o">,</span> <span class="nl">headers:</span> <span class="n">emptyHeaders</span> <span class="o">)</span>

<span class="n">println</span><span class="o">(</span><span class="s2">"Status:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">status</span><span class="o">)</span>

<span class="k">if</span> <span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Content Type: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">contentType</span><span class="o">)</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Body:\n"</span> <span class="o">+</span> <span class="n">JsonOutput</span><span class="o">.</span><span class="na">prettyPrint</span><span class="o">(</span><span class="n">JsonOutput</span><span class="o">.</span><span class="na">toJson</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)))</span>
<span class="o">}</span>

</code></pre><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSURL</span> <span class="o">*</span><span class="n">URL</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURL</span> <span class="nf">URLWithString</span><span class="p">:</span><span class="s">@"https://topups.reloadly.com/operators/commissions?page=1&amp;size=3"</span><span class="p">];</span>

<span class="n">NSMutableURLRequest</span> <span class="o">*</span><span class="n">request</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableURLRequest</span> <span class="nf">requestWithURL</span><span class="p">:</span><span class="n">URL</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setHTTPMethod</span><span class="p">:</span><span class="s">@"GET"</span><span class="p">];</span>

<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"application/com.reloadly.topups-v1+json"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Accept"</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Authorization"</span><span class="p">];</span>

<span class="n">NSURLSession</span> <span class="o">*</span><span class="n">session</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURLSession</span> <span class="nf">sharedSession</span><span class="p">];</span>
<span class="n">NSURLSessionDataTask</span> <span class="o">*</span><span class="n">task</span> <span class="o">=</span> <span class="p">[</span><span class="n">session</span> <span class="nf">dataTaskWithRequest</span><span class="p">:</span><span class="n">request</span>
                                        <span class="nf">completionHandler</span><span class="p">:</span>
                              <span class="o">^</span><span class="p">(</span><span class="n">NSData</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="n">NSURLResponse</span> <span class="o">*</span><span class="n">response</span><span class="p">,</span> <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>

                                  <span class="k">if</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
                                      <span class="c1">// Handle error...
</span>                                      <span class="k">return</span><span class="p">;</span>
                                  <span class="p">}</span>

                                  <span class="k">if</span> <span class="p">([</span><span class="n">response</span> <span class="nf">isKindOfClass</span><span class="p">:[</span><span class="n">NSHTTPURLResponse</span> <span class="nf">class</span><span class="p">]])</span> <span class="p">{</span>
                                      <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response HTTP Status code: %ld</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="p">(</span><span class="kt">long</span><span class="p">)[(</span><span class="n">NSHTTPURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="n">response</span> <span class="nf">statusCode</span><span class="p">]);</span>
                                      <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response HTTP Headers:</span><span class="se">\n</span><span class="s">%@</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="p">[(</span><span class="n">NSHTTPURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="n">response</span> <span class="nf">allHeaderFields</span><span class="p">]);</span>
                                  <span class="p">}</span>

                                  <span class="n">NSString</span><span class="o">*</span> <span class="n">body</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSString</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithData</span><span class="p">:</span><span class="n">data</span> <span class="nf">encoding</span><span class="p">:</span><span class="n">NSUTF8StringEncoding</span><span class="p">];</span>
                                  <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response Body:</span><span class="se">\n</span><span class="s">%@</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">);</span>
                              <span class="p">}];</span>
<span class="p">[</span><span class="n">task</span> <span class="nf">resume</span><span class="p">];</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="c1">// NOTE: Uncommment following two lines for use in a Playground</span>
<span class="c1">// import PlaygroundSupport</span>
<span class="c1">// PlaygroundPage.current.needsIndefiniteExecution = true</span>

<span class="k">let</span> <span class="nv">url</span> <span class="o">=</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"https://topups.reloadly.com/operators/commissions?page=1&amp;size=3"</span><span class="p">)</span><span class="o">!</span>
<span class="k">var</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">URLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Accept"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Authorization"</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">task</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span><span class="p">)</span> <span class="p">{</span> <span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span> <span class="k">in</span>
  <span class="k">if</span> <span class="k">let</span> <span class="nv">response</span> <span class="o">=</span> <span class="n">response</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>                                    

    <span class="k">if</span> <span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">,</span> <span class="k">let</span> <span class="nv">body</span> <span class="o">=</span> <span class="kt">String</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="n">data</span><span class="p">,</span> <span class="nv">encoding</span><span class="p">:</span> <span class="o">.</span><span class="n">utf8</span><span class="p">)</span> <span class="p">{</span>
      <span class="nf">print</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span> <span class="p">??</span> <span class="s">"Unknown error"</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">task</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
</code></pre>
<h4>
<p>Response</p>
</h4>
<pre class="highlight plaintext"><code>200
</code></pre>
<h4>
<p>Headers</p>
</h4>
<pre class="highlight plaintext"><code>Content-Type: application/json
</code></pre>
<h4>
<p>Body</p>
</h4>
<pre class="highlight plaintext"><code>{
  "content": [
    {
      "operator": {
        "operatorId": 1,
        "name": "Afghan Wireless Afghanistan",
        "countryCode": "AF",
        "status": true,
        "bundle": false
      },
      "percentage": 10,
      "updatedAt": "2018-06-26 03:36:16"
    },
    {
      "operator": {
        "operatorId": 2,
        "name": "MTN Afghanistan",
        "countryCode": "AF",
        "status": true,
        "bundle": false
      },
      "percentage": 10,
      "updatedAt": "2018-06-26 03:36:16"
    },
    {
      "operator": {
        "operatorId": 3,
        "name": "Etisalat Afghanistan",
        "countryCode": "AF",
        "status": true,
        "bundle": false
      },
      "percentage": 10,
      "updatedAt": "2018-06-26 03:36:16"
    }
  ],
  "pageable": {
    "sort": {
      "unsorted": true,
      "sorted": false
    },
    "pageSize": 3,
    "pageNumber": 0,
    "offset": 0,
    "paged": true,
    "unpaged": false
  },
  "totalPages": 204,
  "totalElements": 611,
  "last": false,
  "sort": {
    "unsorted": true,
    "sorted": false
  },
  "first": true,
  "numberOfElements": 3,
  "size": 3,
  "number": 0
}
</code></pre>
<h4>
<p>Body Schema</p>
</h4>

<h4 class="parameter-section col">
    <div class="row">
        <span class="col-5">
            <span class="name">content</span>
            <span class="tag color--pink">collection</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Collection of Commission objects.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">first</span>
            <span class="tag color--pink">boolean</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">If this is the first page or not.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">last</span>
            <span class="tag color--pink">boolean</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">If this is the last page or not.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">number</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Current page number.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">numberOfElements</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Number of elements within this page's content.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">pageable</span>
            <span class="tag color--pink">object</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">A pagable object defining params to be used for paging.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">sort</span>
            <span class="tag color--pink">object</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">A Sort element to be used for sorting the collection.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">totalElements</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Total number of elements available.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">totalPages</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Total number of pages available.</span>
    </div>
</h4>
<h2 id='retrieve-account-operator-commission-by-operator-id'>Retrieve account operator commission by operator id</h2>
<ul>
<li>Endpoint : <code>/operators/{operatorId}/commissions</code></li>
</ul>

<h4>
<p>Commissions Collection/Retrieve account operator commission by operator id</p>
</h4>
<pre class="highlight plaintext"><code>GET : https://topups.reloadly.com/operators/173/commissions
</code></pre>
<h4>
<p>Parameter</p>
</h4>

<h4 class="parameter-section col">
    <div class="row">
        <span class="col-5">
            <span class="name">operatorId</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">The operator's id.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">Authorization</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Endpoint requires Authentication token in header.</span>
    </div>
</h4>

<h4>
<p>Code Block</p>
</h4>
<pre class="highlight shell tab-shell"><code>curl --include <span class="se">\</span>
     --header <span class="s2">"Accept: application/com.reloadly.topups-v1+json"</span> <span class="se">\</span>
     --header <span class="s2">"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span> <span class="se">\</span>
  <span class="s1">'https://topups.reloadly.com/operators/173/commissions
'</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// Maven : Add these dependecies to your pom.xml (java6+)</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>

<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Client</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.ClientBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.Response</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.MediaType</span><span class="o">;</span>

<span class="n">Client</span> <span class="n">client</span> <span class="o">=</span> <span class="n">ClientBuilder</span><span class="o">.</span><span class="na">newClient</span><span class="o">();</span>
<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="s">"https://topups.reloadly.com/operators/173/commissions
"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">request</span><span class="o">(</span><span class="n">MediaType</span><span class="o">.</span><span class="na">TEXT_PLAIN_TYPE</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">();</span>

<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"status: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getStatus</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"headers: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getHeaders</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"body:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">readEntity</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">));</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span> <span class="s1">'https://topups.reloadly.com/operators/173/commissions'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Accept'</span><span class="p">,</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Authorization'</span><span class="p">,</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">===</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Status:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Headers:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAllResponseHeaders</span><span class="p">());</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Body:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">responseText</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">send</span><span class="p">();</span>
</code></pre><pre class="highlight julia tab-julia"><code><span class="n">var</span> <span class="n">request</span> <span class="o">=</span> <span class="n">require</span><span class="x">(</span><span class="err">'</span><span class="n">request</span><span class="err">'</span><span class="x">);</span>

<span class="n">request</span><span class="x">({</span>
  <span class="n">method</span><span class="x">:</span> <span class="err">'</span><span class="n">GET</span><span class="err">'</span><span class="x">,</span>
  <span class="n">url</span><span class="x">:</span> <span class="err">'</span><span class="n">https</span><span class="x">:</span><span class="o">//</span><span class="n">topups</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">operators</span><span class="o">/</span><span class="mi">173</span><span class="o">/</span><span class="n">commissions</span>
<span class="err">'</span><span class="x">,</span>
  <span class="n">headers</span><span class="x">:</span> <span class="x">{</span>
    <span class="err">'</span><span class="n">Accept</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">application</span><span class="o">/</span><span class="n">com</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">topups</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="err">'</span><span class="x">,</span>
    <span class="err">'</span><span class="n">Authorization</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">Bearer</span> <span class="n">eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa</span><span class="err">'</span>
  <span class="x">}},</span> <span class="k">function</span><span class="nf"> </span><span class="o">(</span><span class="nb">error</span><span class="x">,</span> <span class="n">response</span><span class="x">,</span> <span class="n">body</span><span class="x">)</span> <span class="x">{</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Status</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">response</span><span class="o">.</span><span class="n">statusCode</span><span class="x">);</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Headers</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">JSON</span><span class="o">.</span><span class="n">stringify</span><span class="x">(</span><span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="x">));</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Response</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">body</span><span class="x">);</span>
<span class="x">});</span>
</code></pre><pre class="highlight perl tab-perl"><code><span class="nv">$ENV</span><span class="p">{</span><span class="s">'PERL_LWP_SSL_VERIFY_HOSTNAME'</span><span class="p">}</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">strict</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">warnings</span><span class="p">;</span>
<span class="k">use</span> <span class="mf">5.010</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">Cpanel::JSON::</span><span class="nv">XS</span> <span class="sx">qw(encode_json decode_json)</span><span class="p">;</span>

<span class="k">my</span> <span class="nv">$ua</span>   <span class="o">=</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="o">-&gt;</span><span class="k">new</span><span class="p">;</span>

<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Accept"</span> <span class="o">=&gt;</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>
<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Authorization"</span> <span class="o">=&gt;</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>

<span class="k">my</span> <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">get</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/operators/173/commissions
"</span><span class="p">);</span>

<span class="k">print</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nv">as_string</span><span class="p">;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">urllib2</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="s">'https://topups.reloadly.com/operators/173/commissions</span><span class="err">
</span><span class="s">'</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="n">response_body</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span> <span class="n">response_body</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="s2">"https://topups.reloadly.com/operators/173/commissions
"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="k">TRUE</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="k">FALSE</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"Accept: application/com.reloadly.topups-v1+json"</span><span class="p">,</span>
  <span class="s2">"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$response</span><span class="p">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rubygems'</span> <span class="k">if</span> <span class="no">RUBY_VERSION</span> <span class="o">&lt;</span> <span class="s1">'1.9'</span>
<span class="nb">require</span> <span class="s1">'rest_client'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:accept</span> <span class="o">=&gt;</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="ss">:authorization</span> <span class="o">=&gt;</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="s1">'https://topups.reloadly.com/operators/173/commissions
'</span><span class="p">,</span> <span class="n">headers</span>
<span class="nb">puts</span> <span class="n">response</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
    </span><span class="s">"fmt"</span><span class="x">
    </span><span class="s">"io/ioutil"</span><span class="x">
    </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">

    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://topups.reloadly.com/operators/173/commissions
"</span><span class="p">,</span><span class="x"> </span><span class="no">nil</span><span class="p">)</span><span class="x">

    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"Accept"</span><span class="p">,</span><span class="x"> </span><span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"Authorization"</span><span class="p">,</span><span class="x"> </span><span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">)</span><span class="x">

    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">

    </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Errored when sending request to the server"</span><span class="p">)</span><span class="x">
        </span><span class="k">return</span><span class="x">
    </span><span class="p">}</span><span class="x">

    </span><span class="k">defer</span><span class="x"> </span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span><span class="x">
    </span><span class="n">resp_body</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span><span class="x">

    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Status</span><span class="p">)</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="kt">string</span><span class="p">(</span><span class="n">resp_body</span><span class="p">))</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="c1">//Common testing requirement. If you are consuming an API in a sandbox/test region, uncomment this line of code ONLY for non production uses.</span>
<span class="c1">//System.Net.ServicePointManager.ServerCertificateValidationCallback = delegate { return true; };</span>

<span class="c1">//Be sure to run "Install-Package Microsoft.Net.Http" from your nuget command line.</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Net.Http</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">baseAddress</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Uri</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/"</span><span class="p">);</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">httpClient</span> <span class="p">=</span> <span class="k">new</span> <span class="n">HttpClient</span><span class="p">{</span> <span class="n">BaseAddress</span> <span class="p">=</span> <span class="n">baseAddress</span> <span class="p">})</span>
<span class="p">{</span>

  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"accept"</span><span class="p">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>

  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>

  <span class="k">using</span><span class="p">(</span><span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">await</span> <span class="n">httpClient</span><span class="p">.</span><span class="nf">GetAsync</span><span class="p">(</span><span class="s">"operators/commissions?page=1&amp;size=3"</span><span class="p">))</span>
  <span class="p">{</span>

        <span class="kt">string</span> <span class="n">responseData</span> <span class="p">=</span> <span class="k">await</span> <span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="nf">ReadAsStringAsync</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight vb tab-vb"><code><span class="k">Dim</span> <span class="nv">request</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">WebRequest</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/operators/173/commissions
"</span><span class="p">),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebRequest</span><span class="p">)</span>

<span class="n">request</span><span class="p">.</span><span class="n">Method</span> <span class="o">=</span> <span class="s">"GET"</span>

<span class="n">request</span><span class="p">.</span><span class="n">Accept</span> <span class="o">=</span> <span class="s">"application/com.reloadly.topups-v1+json"</span>

<span class="n">request</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">)</span>

<span class="n">request</span><span class="p">.</span><span class="n">ContentLength</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">Dim</span> <span class="nv">responseContent</span> <span class="ow">As</span> <span class="kt">String</span>
<span class="k">Using</span> <span class="n">response</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">GetResponse</span><span class="p">(),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebResponse</span><span class="p">)</span>
  <span class="k">Using</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">New</span> <span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="n">StreamReader</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">GetResponseStream</span><span class="p">())</span>
    <span class="n">responseContent</span> <span class="o">=</span> <span class="n">reader</span><span class="p">.</span><span class="n">ReadToEnd</span><span class="p">()</span>
  <span class="k">End</span> <span class="k">Using</span>
<span class="k">End</span> <span class="k">Using</span>
</code></pre><pre class="highlight groovy tab-groovy"><code><span class="kn">import</span> <span class="nn">groovyx.net.http.RESTClient</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">groovyx</span><span class="o">.</span><span class="na">net</span><span class="o">.</span><span class="na">http</span><span class="o">.</span><span class="na">ContentType</span><span class="o">.</span><span class="na">JSON</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonSlurper</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonOutput</span>

<span class="nd">@Grab</span> <span class="o">(</span><span class="n">group</span> <span class="o">=</span> <span class="s1">'org.codehaus.groovy.modules.http-builder'</span><span class="o">,</span> <span class="n">module</span> <span class="o">=</span> <span class="s1">'http-builder'</span><span class="o">,</span> <span class="n">version</span> <span class="o">=</span> <span class="s1">'0.5.0'</span><span class="o">)</span>
<span class="kt">def</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RESTClient</span><span class="o">(</span><span class="s2">"https://topups.reloadly.com"</span><span class="o">)</span>

<span class="kt">def</span> <span class="n">emptyHeaders</span> <span class="o">=</span> <span class="o">[:]</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Accept"</span> <span class="o">=</span> <span class="s2">"application/com.reloadly.topups-v1+json"</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Authorization"</span> <span class="o">=</span> <span class="s2">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">get</span><span class="o">(</span> <span class="n">path</span> <span class="o">:</span> <span class="s2">"/operators/commissions?page=1&amp;size=3"</span><span class="o">,</span> <span class="nl">headers:</span> <span class="n">emptyHeaders</span> <span class="o">)</span>

<span class="n">println</span><span class="o">(</span><span class="s2">"Status:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">status</span><span class="o">)</span>

<span class="k">if</span> <span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Content Type: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">contentType</span><span class="o">)</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Body:\n"</span> <span class="o">+</span> <span class="n">JsonOutput</span><span class="o">.</span><span class="na">prettyPrint</span><span class="o">(</span><span class="n">JsonOutput</span><span class="o">.</span><span class="na">toJson</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)))</span>
<span class="o">}</span>
</code></pre><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSURL</span> <span class="o">*</span><span class="n">URL</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURL</span> <span class="nf">URLWithString</span><span class="p">:</span><span class="s">@"https://topups.reloadly.com/operators/173/commissions</span><span class="err">
</span><span class="s">"</span><span class="p">];</span>

<span class="n">NSMutableURLRequest</span> <span class="o">*</span><span class="n">request</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableURLRequest</span> <span class="nf">requestWithURL</span><span class="p">:</span><span class="n">URL</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setHTTPMethod</span><span class="p">:</span><span class="s">@"GET"</span><span class="p">];</span>

<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"application/com.reloadly.topups-v1+json"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Accept"</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Authorization"</span><span class="p">];</span>

<span class="n">NSURLSession</span> <span class="o">*</span><span class="n">session</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURLSession</span> <span class="nf">sharedSession</span><span class="p">];</span>
<span class="n">NSURLSessionDataTask</span> <span class="o">*</span><span class="n">task</span> <span class="o">=</span> <span class="p">[</span><span class="n">session</span> <span class="nf">dataTaskWithRequest</span><span class="p">:</span><span class="n">request</span>
                                        <span class="nf">completionHandler</span><span class="p">:</span>
                              <span class="o">^</span><span class="p">(</span><span class="n">NSData</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="n">NSURLResponse</span> <span class="o">*</span><span class="n">response</span><span class="p">,</span> <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>

                                  <span class="k">if</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
                                      <span class="c1">// Handle error...
</span>                                      <span class="k">return</span><span class="p">;</span>
                                  <span class="p">}</span>

                                  <span class="k">if</span> <span class="p">([</span><span class="n">response</span> <span class="nf">isKindOfClass</span><span class="p">:[</span><span class="n">NSHTTPURLResponse</span> <span class="nf">class</span><span class="p">]])</span> <span class="p">{</span>
                                      <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response HTTP Status code: %ld</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="p">(</span><span class="kt">long</span><span class="p">)[(</span><span class="n">NSHTTPURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="n">response</span> <span class="nf">statusCode</span><span class="p">]);</span>
                                      <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response HTTP Headers:</span><span class="se">\n</span><span class="s">%@</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="p">[(</span><span class="n">NSHTTPURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="n">response</span> <span class="nf">allHeaderFields</span><span class="p">]);</span>
                                  <span class="p">}</span>

                                  <span class="n">NSString</span><span class="o">*</span> <span class="n">body</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSString</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithData</span><span class="p">:</span><span class="n">data</span> <span class="nf">encoding</span><span class="p">:</span><span class="n">NSUTF8StringEncoding</span><span class="p">];</span>
                                  <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response Body:</span><span class="se">\n</span><span class="s">%@</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">);</span>
                              <span class="p">}];</span>
<span class="p">[</span><span class="n">task</span> <span class="nf">resume</span><span class="p">];</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="c1">// NOTE: Uncommment following two lines for use in a Playground</span>
<span class="c1">// import PlaygroundSupport</span>
<span class="c1">// PlaygroundPage.current.needsIndefiniteExecution = true</span>

<span class="k">let</span> <span class="nv">url</span> <span class="o">=</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"https://topups.reloadly.com/operators/173/commissions
"</span><span class="p">)</span><span class="o">!</span>
<span class="k">var</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">URLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Accept"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Authorization"</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">task</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span><span class="p">)</span> <span class="p">{</span> <span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span> <span class="k">in</span>
  <span class="k">if</span> <span class="k">let</span> <span class="nv">response</span> <span class="o">=</span> <span class="n">response</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">if</span> <span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">,</span> <span class="k">let</span> <span class="nv">body</span> <span class="o">=</span> <span class="kt">String</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="n">data</span><span class="p">,</span> <span class="nv">encoding</span><span class="p">:</span> <span class="o">.</span><span class="n">utf8</span><span class="p">)</span> <span class="p">{</span>
      <span class="nf">print</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span> <span class="p">??</span> <span class="s">"Unknown error"</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">task</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
</code></pre>
<h4>
<p>Response</p>
</h4>
<pre class="highlight plaintext"><code>200
</code></pre>
<h4>
<p>Headers</p>
</h4>
<pre class="highlight plaintext"><code>Content-Type: application/json
</code></pre>
<h4>
<p>Body</p>
</h4>
<pre class="highlight plaintext"><code>{
  "operator": {
    "operatorId": 173,
    "name": "Digicel Haiti",
    "countryCode": "HT",
    "status": true,
    "bundle": false
  },
  "percentage": 15,
  "updatedAt": "2018-06-26 03:36:16"
}
</code></pre>
<h4>
<p>Body Schema</p>
</h4>

<h4 class="parameter-section col">
    <div class="row">
        <span class="col-5">
            <span class="name">percentage</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Commission percentage</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">updatedAt</span>
            <span class="tag color--green">string($date-time)</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Commission last updated date. ISO-8601 without timezone (yyyy-MM-dd HH:mm:ss)</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">operator</span>
            <span class="tag color--pink">object</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Operator Object containing operator details.</span>
    </div>
</h4>
<h1 id='country-collection'>Country Collection</h1><h2 id='list-all-supported-countries'>List All Supported Countries</h2>
<h4>
<p>Country Collection/List All Supported Countries</p>
</h4>
<pre class="highlight plaintext"><code>GET : https://topups.reloadly.com/countries
</code></pre>
<h4>
<p>Code Block</p>
</h4>
<pre class="highlight shell tab-shell"><code>import Foundation

// NOTE: Uncommment following two lines <span class="k">for </span>use <span class="k">in </span>a Playground
// import PlaygroundSupport
// PlaygroundPage.current.needsIndefiniteExecution <span class="o">=</span> <span class="nb">true

let </span>url <span class="o">=</span> URL<span class="o">(</span>string: <span class="s2">"https://topups.reloadly.com/countries
"</span><span class="o">)</span>!
var request <span class="o">=</span> URLRequest<span class="o">(</span>url: url<span class="o">)</span>
request.addValue<span class="o">(</span><span class="s2">"application/com.reloadly.topups-v1+json"</span>, forHTTPHeaderField: <span class="s2">"Accept"</span><span class="o">)</span>
request.addValue<span class="o">(</span><span class="s2">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span>, forHTTPHeaderField: <span class="s2">"Authorization"</span><span class="o">)</span>

<span class="nb">let </span>task <span class="o">=</span> URLSession.shared.dataTask<span class="o">(</span>with: request<span class="o">)</span> <span class="o">{</span> data, response, error <span class="k">in
  if </span><span class="nb">let </span>response <span class="o">=</span> response <span class="o">{</span>
    print<span class="o">(</span>response<span class="o">)</span>

    <span class="k">if </span><span class="nb">let </span>data <span class="o">=</span> data, <span class="nb">let </span>body <span class="o">=</span> String<span class="o">(</span>data: data, encoding: .utf8<span class="o">)</span> <span class="o">{</span>
      print<span class="o">(</span>body<span class="o">)</span>
    <span class="o">}</span>
  <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
    print<span class="o">(</span>error ?? <span class="s2">"Unknown error"</span><span class="o">)</span>
  <span class="o">}</span>
<span class="o">}</span>

task.resume<span class="o">()</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// Maven : Add these dependecies to your pom.xml (java6+)</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>

<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Client</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.ClientBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.Response</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.MediaType</span><span class="o">;</span>

<span class="n">Client</span> <span class="n">client</span> <span class="o">=</span> <span class="n">ClientBuilder</span><span class="o">.</span><span class="na">newClient</span><span class="o">();</span>
<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="s">"https://topups.reloadly.com/countries
"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">request</span><span class="o">(</span><span class="n">MediaType</span><span class="o">.</span><span class="na">TEXT_PLAIN_TYPE</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">();</span>

<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"status: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getStatus</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"headers: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getHeaders</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"body:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">readEntity</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">));</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span> <span class="s1">'https://topups.reloadly.com/countries'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Accept'</span><span class="p">,</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Authorization'</span><span class="p">,</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">===</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Status:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Headers:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAllResponseHeaders</span><span class="p">());</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Body:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">responseText</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">send</span><span class="p">();</span>
</code></pre><pre class="highlight julia tab-julia"><code><span class="n">var</span> <span class="n">request</span> <span class="o">=</span> <span class="n">require</span><span class="x">(</span><span class="err">'</span><span class="n">request</span><span class="err">'</span><span class="x">);</span>

<span class="n">request</span><span class="x">({</span>
  <span class="n">method</span><span class="x">:</span> <span class="err">'</span><span class="n">GET</span><span class="err">'</span><span class="x">,</span>
  <span class="n">url</span><span class="x">:</span> <span class="err">'</span><span class="n">https</span><span class="x">:</span><span class="o">//</span><span class="n">topups</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">countries</span>
<span class="err">'</span><span class="x">,</span>
  <span class="n">headers</span><span class="x">:</span> <span class="x">{</span>
    <span class="err">'</span><span class="n">Accept</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">application</span><span class="o">/</span><span class="n">com</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">topups</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="err">'</span><span class="x">,</span>
    <span class="err">'</span><span class="n">Authorization</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">Bearer</span> <span class="n">eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa</span><span class="err">'</span>
  <span class="x">}},</span> <span class="k">function</span><span class="nf"> </span><span class="o">(</span><span class="nb">error</span><span class="x">,</span> <span class="n">response</span><span class="x">,</span> <span class="n">body</span><span class="x">)</span> <span class="x">{</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Status</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">response</span><span class="o">.</span><span class="n">statusCode</span><span class="x">);</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Headers</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">JSON</span><span class="o">.</span><span class="n">stringify</span><span class="x">(</span><span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="x">));</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Response</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">body</span><span class="x">);</span>
<span class="x">});</span>
</code></pre><pre class="highlight perl tab-perl"><code><span class="nv">$ENV</span><span class="p">{</span><span class="s">'PERL_LWP_SSL_VERIFY_HOSTNAME'</span><span class="p">}</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">strict</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">warnings</span><span class="p">;</span>
<span class="k">use</span> <span class="mf">5.010</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">Cpanel::JSON::</span><span class="nv">XS</span> <span class="sx">qw(encode_json decode_json)</span><span class="p">;</span>

<span class="k">my</span> <span class="nv">$ua</span>   <span class="o">=</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="o">-&gt;</span><span class="k">new</span><span class="p">;</span>

<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Accept"</span> <span class="o">=&gt;</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>
<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Authorization"</span> <span class="o">=&gt;</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>

<span class="k">my</span> <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">get</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/countries
"</span><span class="p">);</span>

<span class="k">print</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nv">as_string</span><span class="p">;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">urllib2</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="s">'https://topups.reloadly.com/countries</span><span class="err">
</span><span class="s">'</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="n">response_body</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span> <span class="n">response_body</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="s2">"https://topups.reloadly.com/countries
"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="k">TRUE</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="k">FALSE</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"Accept: application/com.reloadly.topups-v1+json"</span><span class="p">,</span>
  <span class="s2">"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$response</span><span class="p">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rubygems'</span> <span class="k">if</span> <span class="no">RUBY_VERSION</span> <span class="o">&lt;</span> <span class="s1">'1.9'</span>
<span class="nb">require</span> <span class="s1">'rest_client'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:accept</span> <span class="o">=&gt;</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="ss">:authorization</span> <span class="o">=&gt;</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="s1">'https://topups.reloadly.com/countries
'</span><span class="p">,</span> <span class="n">headers</span>
<span class="nb">puts</span> <span class="n">response</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
    </span><span class="s">"fmt"</span><span class="x">
    </span><span class="s">"io/ioutil"</span><span class="x">
    </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">

    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://topups.reloadly.com/countries
"</span><span class="p">,</span><span class="x"> </span><span class="no">nil</span><span class="p">)</span><span class="x">

    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"Accept"</span><span class="p">,</span><span class="x"> </span><span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"Authorization"</span><span class="p">,</span><span class="x"> </span><span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">)</span><span class="x">

    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">

    </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Errored when sending request to the server"</span><span class="p">)</span><span class="x">
        </span><span class="k">return</span><span class="x">
    </span><span class="p">}</span><span class="x">

    </span><span class="k">defer</span><span class="x"> </span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span><span class="x">
    </span><span class="n">resp_body</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span><span class="x">

    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Status</span><span class="p">)</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="kt">string</span><span class="p">(</span><span class="n">resp_body</span><span class="p">))</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="c1">//Common testing requirement. If you are consuming an API in a sandbox/test region, uncomment this line of code ONLY for non production uses.</span>
<span class="c1">//System.Net.ServicePointManager.ServerCertificateValidationCallback = delegate { return true; };</span>

<span class="c1">//Be sure to run "Install-Package Microsoft.Net.Http" from your nuget command line.</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Net.Http</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">baseAddress</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Uri</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/"</span><span class="p">);</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">httpClient</span> <span class="p">=</span> <span class="k">new</span> <span class="n">HttpClient</span><span class="p">{</span> <span class="n">BaseAddress</span> <span class="p">=</span> <span class="n">baseAddress</span> <span class="p">})</span>
<span class="p">{</span>

  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"accept"</span><span class="p">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>

  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>

  <span class="k">using</span><span class="p">(</span><span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">await</span> <span class="n">httpClient</span><span class="p">.</span><span class="nf">GetAsync</span><span class="p">(</span><span class="s">"countries"</span><span class="p">))</span>
  <span class="p">{</span>

        <span class="kt">string</span> <span class="n">responseData</span> <span class="p">=</span> <span class="k">await</span> <span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="nf">ReadAsStringAsync</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight vb tab-vb"><code><span class="k">Dim</span> <span class="nv">request</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">WebRequest</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/countries
"</span><span class="p">),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebRequest</span><span class="p">)</span>

<span class="n">request</span><span class="p">.</span><span class="n">Method</span> <span class="o">=</span> <span class="s">"GET"</span>

<span class="n">request</span><span class="p">.</span><span class="n">Accept</span> <span class="o">=</span> <span class="s">"application/com.reloadly.topups-v1+json"</span>

<span class="n">request</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">)</span>

<span class="n">request</span><span class="p">.</span><span class="n">ContentLength</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">Dim</span> <span class="nv">responseContent</span> <span class="ow">As</span> <span class="kt">String</span>
<span class="k">Using</span> <span class="n">response</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">GetResponse</span><span class="p">(),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebResponse</span><span class="p">)</span>
  <span class="k">Using</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">New</span> <span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="n">StreamReader</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">GetResponseStream</span><span class="p">())</span>
    <span class="n">responseContent</span> <span class="o">=</span> <span class="n">reader</span><span class="p">.</span><span class="n">ReadToEnd</span><span class="p">()</span>
  <span class="k">End</span> <span class="k">Using</span>
<span class="k">End</span> <span class="k">Using</span>
</code></pre><pre class="highlight groovy tab-groovy"><code><span class="kn">import</span> <span class="nn">groovyx.net.http.RESTClient</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">groovyx</span><span class="o">.</span><span class="na">net</span><span class="o">.</span><span class="na">http</span><span class="o">.</span><span class="na">ContentType</span><span class="o">.</span><span class="na">JSON</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonSlurper</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonOutput</span>

<span class="nd">@Grab</span> <span class="o">(</span><span class="n">group</span> <span class="o">=</span> <span class="s1">'org.codehaus.groovy.modules.http-builder'</span><span class="o">,</span> <span class="n">module</span> <span class="o">=</span> <span class="s1">'http-builder'</span><span class="o">,</span> <span class="n">version</span> <span class="o">=</span> <span class="s1">'0.5.0'</span><span class="o">)</span>
<span class="kt">def</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RESTClient</span><span class="o">(</span><span class="s2">"https://topups.reloadly.com"</span><span class="o">)</span>

<span class="kt">def</span> <span class="n">emptyHeaders</span> <span class="o">=</span> <span class="o">[:]</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Accept"</span> <span class="o">=</span> <span class="s2">"application/com.reloadly.topups-v1+json"</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Authorization"</span> <span class="o">=</span> <span class="s2">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">get</span><span class="o">(</span> <span class="n">path</span> <span class="o">:</span> <span class="s2">"/countries"</span><span class="o">,</span> <span class="nl">headers:</span> <span class="n">emptyHeaders</span> <span class="o">)</span>

<span class="n">println</span><span class="o">(</span><span class="s2">"Status:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">status</span><span class="o">)</span>

<span class="k">if</span> <span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Content Type: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">contentType</span><span class="o">)</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Body:\n"</span> <span class="o">+</span> <span class="n">JsonOutput</span><span class="o">.</span><span class="na">prettyPrint</span><span class="o">(</span><span class="n">JsonOutput</span><span class="o">.</span><span class="na">toJson</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)))</span>
<span class="o">}</span>
</code></pre><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSURL</span> <span class="o">*</span><span class="n">URL</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURL</span> <span class="nf">URLWithString</span><span class="p">:</span><span class="s">@"https://topups.reloadly.com/countries</span><span class="err">
</span><span class="s">"</span><span class="p">];</span>

<span class="n">NSMutableURLRequest</span> <span class="o">*</span><span class="n">request</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableURLRequest</span> <span class="nf">requestWithURL</span><span class="p">:</span><span class="n">URL</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setHTTPMethod</span><span class="p">:</span><span class="s">@"GET"</span><span class="p">];</span>

<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"application/com.reloadly.topups-v1+json"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Accept"</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Authorization"</span><span class="p">];</span>

<span class="n">NSURLSession</span> <span class="o">*</span><span class="n">session</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURLSession</span> <span class="nf">sharedSession</span><span class="p">];</span>
<span class="n">NSURLSessionDataTask</span> <span class="o">*</span><span class="n">task</span> <span class="o">=</span> <span class="p">[</span><span class="n">session</span> <span class="nf">dataTaskWithRequest</span><span class="p">:</span><span class="n">request</span>
                                        <span class="nf">completionHandler</span><span class="p">:</span>
                              <span class="o">^</span><span class="p">(</span><span class="n">NSData</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="n">NSURLResponse</span> <span class="o">*</span><span class="n">response</span><span class="p">,</span> <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>

                                  <span class="k">if</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
                                      <span class="c1">// Handle error...
</span>                                      <span class="k">return</span><span class="p">;</span>
                                  <span class="p">}</span>

                                  <span class="k">if</span> <span class="p">([</span><span class="n">response</span> <span class="nf">isKindOfClass</span><span class="p">:[</span><span class="n">NSHTTPURLResponse</span> <span class="nf">class</span><span class="p">]])</span> <span class="p">{</span>
                                      <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response HTTP Status code: %ld</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="p">(</span><span class="kt">long</span><span class="p">)[(</span><span class="n">NSHTTPURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="n">response</span> <span class="nf">statusCode</span><span class="p">]);</span>
                                      <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response HTTP Headers:</span><span class="se">\n</span><span class="s">%@</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="p">[(</span><span class="n">NSHTTPURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="n">response</span> <span class="nf">allHeaderFields</span><span class="p">]);</span>
                                  <span class="p">}</span>

                                  <span class="n">NSString</span><span class="o">*</span> <span class="n">body</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSString</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithData</span><span class="p">:</span><span class="n">data</span> <span class="nf">encoding</span><span class="p">:</span><span class="n">NSUTF8StringEncoding</span><span class="p">];</span>
                                  <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response Body:</span><span class="se">\n</span><span class="s">%@</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">);</span>
                              <span class="p">}];</span>
<span class="p">[</span><span class="n">task</span> <span class="nf">resume</span><span class="p">];</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="c1">// NOTE: Uncommment following two lines for use in a Playground</span>
<span class="c1">// import PlaygroundSupport</span>
<span class="c1">// PlaygroundPage.current.needsIndefiniteExecution = true</span>

<span class="k">let</span> <span class="nv">url</span> <span class="o">=</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"https://topups.reloadly.com/countries
"</span><span class="p">)</span><span class="o">!</span>
<span class="k">var</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">URLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Accept"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Authorization"</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">task</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span><span class="p">)</span> <span class="p">{</span> <span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span> <span class="k">in</span>
  <span class="k">if</span> <span class="k">let</span> <span class="nv">response</span> <span class="o">=</span> <span class="n">response</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">if</span> <span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">,</span> <span class="k">let</span> <span class="nv">body</span> <span class="o">=</span> <span class="kt">String</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="n">data</span><span class="p">,</span> <span class="nv">encoding</span><span class="p">:</span> <span class="o">.</span><span class="n">utf8</span><span class="p">)</span> <span class="p">{</span>
      <span class="nf">print</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span> <span class="p">??</span> <span class="s">"Unknown error"</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">task</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
</code></pre>
<h4>
<p>Response</p>
</h4>
<pre class="highlight plaintext"><code>200
</code></pre>
<h4>
<p>Headers</p>
</h4>
<pre class="highlight plaintext"><code>Content-Type: application/json
</code></pre>
<h4>
<p>Body</p>
</h4>
<pre class="highlight plaintext"><code>[
  {
    "isoName": "AF",
    "name": "Afghanistan",
    "currencyCode": "AFN",
    "currencyName": "Afghan Afghani",
    "flag": "https://s3.amazonaws.com/rld-flags/af.svg",
    "callingCodes": [
      "+93"
    ]
  },
  {
    "isoName": "AL",
    "name": "Albania",
    "currencyCode": "ALL",
    "currencyName": "Albanian Lek",
    "flag": "https://s3.amazonaws.com/rld-flags/al.svg",
    "callingCodes": [
      "+355"
    ]
  },
  {
    "isoName": "DZ",
    "name": "Algeria",
    "currencyCode": "DZD",
    "currencyName": "Algerian Dinar",
    "flag": "https://s3.amazonaws.com/rld-flags/dz.svg",
    "callingCodes": [
      "+213"
    ]
  },
  {
    "isoName": "AS",
    "name": "American Samoa",
    "currencyCode": "USD",
    "currencyName": "US Dollar",
    "flag": "https://s3.amazonaws.com/rld-flags/as.svg",
    "callingCodes": [
      "+1684"
    ]
  },
  {
    "isoName": "AO",
    "name": "Angola",
    "currencyCode": "AOA",
    "currencyName": "Angolan Kwanza",
    "flag": "https://s3.amazonaws.com/rld-flags/ao.svg",
    "callingCodes": [
      "+244"
    ]
  },
  {
    "isoName": "AI",
    "name": "Anguilla",
    "currencyCode": "XCD",
    "currencyName": "East Caribbean Dollar",
    "flag": "https://s3.amazonaws.com/rld-flags/ai.svg",
    "callingCodes": [
      "+1264"
    ]
  },
  {
    "isoName": "AG",
    "name": "Antigua and Barbuda",
    "currencyCode": "XCD",
    "currencyName": "East Caribbean Dollar",
    "flag": "https://s3.amazonaws.com/rld-flags/ag.svg",
    "callingCodes": [
      "+1268"
    ]
  },
  {
    "isoName": "AR",
    "name": "Argentina",
    "currencyCode": "ARS",
    "currencyName": "Argentine Peso",
    "flag": "https://s3.amazonaws.com/rld-flags/ar.svg",
    "callingCodes": [
      "+54"
    ]
  }
]
</code></pre>
<h4>
<p>Body Schema</p>
</h4>

<h4 class="parameter-section col">
    <div class="row">
        <span class="col-5">
            <span class="name">isoName</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">ISO 3166-1 alpha-2 Country code</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">name</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Full name of country</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">currencyCode</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Account ISO-4217 3 letter currency code for the given country.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">currencyName</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Full currency name</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">flag</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Url of country flag image</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">callingCodes</span>
            <span class="tag color--pink">collection</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Calling codes of country</span>
    </div>
</h4>
<h2 id='retrieve-a-country-by-country-iso-code-iso-alpha-2'>Retrieve a country by country ISO code(ISO Alpha-2)</h2>
<p>See http://www.nationsonline.org/oneworld/country_code_list.htm - Endpoint : <code>/countries/{countryIsoCode}</code></p>

<h4>
<p>Country Collection/Retrieve a country by country ISO code(ISO Alpha-2)</p>
</h4>
<pre class="highlight plaintext"><code>GET : https://topups.reloadly.com/countries/HT
</code></pre>
<h4>
<p>Parameter</p>
</h4>

<h4 class="parameter-section col">
    <div class="row">
        <span class="col-5">
            <span class="name">countryIsoCode</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">The country's ISO Code.</span>
    </div>
</h4>

<h4>
<p>Code Block</p>
</h4>
<pre class="highlight shell tab-shell"><code>curl --include <span class="se">\</span>
     --header <span class="s2">"Accept: application/com.reloadly.topups-v1+json"</span> <span class="se">\</span>
     --header <span class="s2">"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span> <span class="se">\</span>
  <span class="s1">'https://topups.reloadly.com/countries/HT'</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// Maven : Add these dependecies to your pom.xml (java6+)</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>

<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Client</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.ClientBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.Response</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.MediaType</span><span class="o">;</span>

<span class="n">Client</span> <span class="n">client</span> <span class="o">=</span> <span class="n">ClientBuilder</span><span class="o">.</span><span class="na">newClient</span><span class="o">();</span>
<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="s">"https://topups.reloadly.com/countries/HT
"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">request</span><span class="o">(</span><span class="n">MediaType</span><span class="o">.</span><span class="na">TEXT_PLAIN_TYPE</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">();</span>

<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"status: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getStatus</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"headers: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getHeaders</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"body:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">readEntity</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">));</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span> <span class="s1">'https://topups.reloadly.com/countries/HT'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Accept'</span><span class="p">,</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Authorization'</span><span class="p">,</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">===</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Status:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Headers:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAllResponseHeaders</span><span class="p">());</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Body:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">responseText</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">send</span><span class="p">();</span>

</code></pre><pre class="highlight julia tab-julia"><code><span class="n">var</span> <span class="n">request</span> <span class="o">=</span> <span class="n">require</span><span class="x">(</span><span class="err">'</span><span class="n">request</span><span class="err">'</span><span class="x">);</span>

<span class="n">request</span><span class="x">({</span>
  <span class="n">method</span><span class="x">:</span> <span class="err">'</span><span class="n">GET</span><span class="err">'</span><span class="x">,</span>
  <span class="n">url</span><span class="x">:</span> <span class="err">'</span><span class="n">https</span><span class="x">:</span><span class="o">//</span><span class="n">topups</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">countries</span><span class="o">/</span><span class="n">HT</span>
<span class="err">'</span><span class="x">,</span>
  <span class="n">headers</span><span class="x">:</span> <span class="x">{</span>
    <span class="err">'</span><span class="n">Accept</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">application</span><span class="o">/</span><span class="n">com</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">topups</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="err">'</span><span class="x">,</span>
    <span class="err">'</span><span class="n">Authorization</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">Bearer</span> <span class="n">eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa</span><span class="err">'</span>
  <span class="x">}},</span> <span class="k">function</span><span class="nf"> </span><span class="o">(</span><span class="nb">error</span><span class="x">,</span> <span class="n">response</span><span class="x">,</span> <span class="n">body</span><span class="x">)</span> <span class="x">{</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Status</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">response</span><span class="o">.</span><span class="n">statusCode</span><span class="x">);</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Headers</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">JSON</span><span class="o">.</span><span class="n">stringify</span><span class="x">(</span><span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="x">));</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Response</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">body</span><span class="x">);</span>
<span class="x">});</span>
</code></pre><pre class="highlight perl tab-perl"><code><span class="nv">$ENV</span><span class="p">{</span><span class="s">'PERL_LWP_SSL_VERIFY_HOSTNAME'</span><span class="p">}</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">strict</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">warnings</span><span class="p">;</span>
<span class="k">use</span> <span class="mf">5.010</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">Cpanel::JSON::</span><span class="nv">XS</span> <span class="sx">qw(encode_json decode_json)</span><span class="p">;</span>

<span class="k">my</span> <span class="nv">$ua</span>   <span class="o">=</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="o">-&gt;</span><span class="k">new</span><span class="p">;</span>

<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Accept"</span> <span class="o">=&gt;</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>
<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Authorization"</span> <span class="o">=&gt;</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>

<span class="k">my</span> <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">get</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/countries/HT
"</span><span class="p">);</span>

<span class="k">print</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nv">as_string</span><span class="p">;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">urllib2</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="s">'https://topups.reloadly.com/countries/HT</span><span class="err">
</span><span class="s">'</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="n">response_body</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span> <span class="n">response_body</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="s2">"https://topups.reloadly.com/countries/HT
"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="k">TRUE</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="k">FALSE</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"Accept: application/com.reloadly.topups-v1+json"</span><span class="p">,</span>
  <span class="s2">"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$response</span><span class="p">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rubygems'</span> <span class="k">if</span> <span class="no">RUBY_VERSION</span> <span class="o">&lt;</span> <span class="s1">'1.9'</span>
<span class="nb">require</span> <span class="s1">'rest_client'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:accept</span> <span class="o">=&gt;</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="ss">:authorization</span> <span class="o">=&gt;</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="s1">'https://topups.reloadly.com/countries/HT
'</span><span class="p">,</span> <span class="n">headers</span>
<span class="nb">puts</span> <span class="n">response</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
    </span><span class="s">"fmt"</span><span class="x">
    </span><span class="s">"io/ioutil"</span><span class="x">
    </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">

    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://topups.reloadly.com/countries/HT
"</span><span class="p">,</span><span class="x"> </span><span class="no">nil</span><span class="p">)</span><span class="x">

    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"Accept"</span><span class="p">,</span><span class="x"> </span><span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"Authorization"</span><span class="p">,</span><span class="x"> </span><span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">)</span><span class="x">

    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">

    </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Errored when sending request to the server"</span><span class="p">)</span><span class="x">
        </span><span class="k">return</span><span class="x">
    </span><span class="p">}</span><span class="x">

    </span><span class="k">defer</span><span class="x"> </span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span><span class="x">
    </span><span class="n">resp_body</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span><span class="x">

    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Status</span><span class="p">)</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="kt">string</span><span class="p">(</span><span class="n">resp_body</span><span class="p">))</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="c1">//Common testing requirement. If you are consuming an API in a sandbox/test region, uncomment this line of code ONLY for non production uses.</span>
<span class="c1">//System.Net.ServicePointManager.ServerCertificateValidationCallback = delegate { return true; };</span>

<span class="c1">//Be sure to run "Install-Package Microsoft.Net.Http" from your nuget command line.</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Net.Http</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">baseAddress</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Uri</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/"</span><span class="p">);</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">httpClient</span> <span class="p">=</span> <span class="k">new</span> <span class="n">HttpClient</span><span class="p">{</span> <span class="n">BaseAddress</span> <span class="p">=</span> <span class="n">baseAddress</span> <span class="p">})</span>
<span class="p">{</span>

  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"accept"</span><span class="p">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>

  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>

  <span class="k">using</span><span class="p">(</span><span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">await</span> <span class="n">httpClient</span><span class="p">.</span><span class="nf">GetAsync</span><span class="p">(</span><span class="s">"countries"</span><span class="p">))</span>
  <span class="p">{</span>

        <span class="kt">string</span> <span class="n">responseData</span> <span class="p">=</span> <span class="k">await</span> <span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="nf">ReadAsStringAsync</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight vb tab-vb"><code><span class="k">Dim</span> <span class="nv">request</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">WebRequest</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/countries/HT
"</span><span class="p">),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebRequest</span><span class="p">)</span>

<span class="n">request</span><span class="p">.</span><span class="n">Method</span> <span class="o">=</span> <span class="s">"GET"</span>

<span class="n">request</span><span class="p">.</span><span class="n">Accept</span> <span class="o">=</span> <span class="s">"application/com.reloadly.topups-v1+json"</span>

<span class="n">request</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">)</span>

<span class="n">request</span><span class="p">.</span><span class="n">ContentLength</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">Dim</span> <span class="nv">responseContent</span> <span class="ow">As</span> <span class="kt">String</span>
<span class="k">Using</span> <span class="n">response</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">GetResponse</span><span class="p">(),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebResponse</span><span class="p">)</span>
  <span class="k">Using</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">New</span> <span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="n">StreamReader</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">GetResponseStream</span><span class="p">())</span>
    <span class="n">responseContent</span> <span class="o">=</span> <span class="n">reader</span><span class="p">.</span><span class="n">ReadToEnd</span><span class="p">()</span>
  <span class="k">End</span> <span class="k">Using</span>
<span class="k">End</span> <span class="k">Using</span>
</code></pre><pre class="highlight groovy tab-groovy"><code><span class="kn">import</span> <span class="nn">groovyx.net.http.RESTClient</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">groovyx</span><span class="o">.</span><span class="na">net</span><span class="o">.</span><span class="na">http</span><span class="o">.</span><span class="na">ContentType</span><span class="o">.</span><span class="na">JSON</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonSlurper</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonOutput</span>

<span class="nd">@Grab</span> <span class="o">(</span><span class="n">group</span> <span class="o">=</span> <span class="s1">'org.codehaus.groovy.modules.http-builder'</span><span class="o">,</span> <span class="n">module</span> <span class="o">=</span> <span class="s1">'http-builder'</span><span class="o">,</span> <span class="n">version</span> <span class="o">=</span> <span class="s1">'0.5.0'</span><span class="o">)</span>
<span class="kt">def</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RESTClient</span><span class="o">(</span><span class="s2">"https://topups.reloadly.com"</span><span class="o">)</span>

<span class="kt">def</span> <span class="n">emptyHeaders</span> <span class="o">=</span> <span class="o">[:]</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Accept"</span> <span class="o">=</span> <span class="s2">"application/com.reloadly.topups-v1+json"</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Authorization"</span> <span class="o">=</span> <span class="s2">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">get</span><span class="o">(</span> <span class="n">path</span> <span class="o">:</span> <span class="s2">"/countries"</span><span class="o">,</span> <span class="nl">headers:</span> <span class="n">emptyHeaders</span> <span class="o">)</span>

<span class="n">println</span><span class="o">(</span><span class="s2">"Status:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">status</span><span class="o">)</span>

<span class="k">if</span> <span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Content Type: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">contentType</span><span class="o">)</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Body:\n"</span> <span class="o">+</span> <span class="n">JsonOutput</span><span class="o">.</span><span class="na">prettyPrint</span><span class="o">(</span><span class="n">JsonOutput</span><span class="o">.</span><span class="na">toJson</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)))</span>
<span class="o">}</span>
</code></pre><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSURL</span> <span class="o">*</span><span class="n">URL</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURL</span> <span class="nf">URLWithString</span><span class="p">:</span><span class="s">@"https://topups.reloadly.com/countries/HT</span><span class="err">
</span><span class="s">"</span><span class="p">];</span>

<span class="n">NSMutableURLRequest</span> <span class="o">*</span><span class="n">request</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableURLRequest</span> <span class="nf">requestWithURL</span><span class="p">:</span><span class="n">URL</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setHTTPMethod</span><span class="p">:</span><span class="s">@"GET"</span><span class="p">];</span>

<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"application/com.reloadly.topups-v1+json"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Accept"</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Authorization"</span><span class="p">];</span>

<span class="n">NSURLSession</span> <span class="o">*</span><span class="n">session</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURLSession</span> <span class="nf">sharedSession</span><span class="p">];</span>
<span class="n">NSURLSessionDataTask</span> <span class="o">*</span><span class="n">task</span> <span class="o">=</span> <span class="p">[</span><span class="n">session</span> <span class="nf">dataTaskWithRequest</span><span class="p">:</span><span class="n">request</span>
                                        <span class="nf">completionHandler</span><span class="p">:</span>
                              <span class="o">^</span><span class="p">(</span><span class="n">NSData</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="n">NSURLResponse</span> <span class="o">*</span><span class="n">response</span><span class="p">,</span> <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>

                                  <span class="k">if</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
                                      <span class="c1">// Handle error...
</span>                                      <span class="k">return</span><span class="p">;</span>
                                  <span class="p">}</span>

                                  <span class="k">if</span> <span class="p">([</span><span class="n">response</span> <span class="nf">isKindOfClass</span><span class="p">:[</span><span class="n">NSHTTPURLResponse</span> <span class="nf">class</span><span class="p">]])</span> <span class="p">{</span>
                                      <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response HTTP Status code: %ld</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="p">(</span><span class="kt">long</span><span class="p">)[(</span><span class="n">NSHTTPURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="n">response</span> <span class="nf">statusCode</span><span class="p">]);</span>
                                      <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response HTTP Headers:</span><span class="se">\n</span><span class="s">%@</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="p">[(</span><span class="n">NSHTTPURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="n">response</span> <span class="nf">allHeaderFields</span><span class="p">]);</span>
                                  <span class="p">}</span>

                                  <span class="n">NSString</span><span class="o">*</span> <span class="n">body</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSString</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithData</span><span class="p">:</span><span class="n">data</span> <span class="nf">encoding</span><span class="p">:</span><span class="n">NSUTF8StringEncoding</span><span class="p">];</span>
                                  <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response Body:</span><span class="se">\n</span><span class="s">%@</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">);</span>
                              <span class="p">}];</span>
<span class="p">[</span><span class="n">task</span> <span class="nf">resume</span><span class="p">];</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="c1">// NOTE: Uncommment following two lines for use in a Playground</span>
<span class="c1">// import PlaygroundSupport</span>
<span class="c1">// PlaygroundPage.current.needsIndefiniteExecution = true</span>

<span class="k">let</span> <span class="nv">url</span> <span class="o">=</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"https://topups.reloadly.com/countries/HT
"</span><span class="p">)</span><span class="o">!</span>
<span class="k">var</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">URLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Accept"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Authorization"</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">task</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span><span class="p">)</span> <span class="p">{</span> <span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span> <span class="k">in</span>
  <span class="k">if</span> <span class="k">let</span> <span class="nv">response</span> <span class="o">=</span> <span class="n">response</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">if</span> <span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">,</span> <span class="k">let</span> <span class="nv">body</span> <span class="o">=</span> <span class="kt">String</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="n">data</span><span class="p">,</span> <span class="nv">encoding</span><span class="p">:</span> <span class="o">.</span><span class="n">utf8</span><span class="p">)</span> <span class="p">{</span>
      <span class="nf">print</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span> <span class="p">??</span> <span class="s">"Unknown error"</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">task</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
</code></pre>
<h4>
<p>Response</p>
</h4>
<pre class="highlight plaintext"><code>200
</code></pre>
<h4>
<p>Headers</p>
</h4>
<pre class="highlight plaintext"><code>Content-Type: application/json
</code></pre>
<h4>
<p>Body</p>
</h4>
<pre class="highlight plaintext"><code>{
  "isoName": "HT",
  "name": "Haiti",
  "currencyCode": "HTG",
  "currencyName": "Haitian Gourde",
  "flag": "https://s3.amazonaws.com/rld-flags/ht.svg",
  "callingCodes": [
    "+509"
  ]
}
</code></pre>
<h4>
<p>Body Schema</p>
</h4>

<h4 class="parameter-section col">
    <div class="row">
        <span class="col-5">
            <span class="name">isoName</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">ISO 3166-1 alpha-2 Country code</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">name</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Full name of country</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">currencyCode</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Account ISO-4217 3 letter currency code for the given country.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">currencyName</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Full currency name</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">flag</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Url of country flag image</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">callingCodes</span>
            <span class="tag color--pink">collection</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Calling codes of country</span>
    </div>
</h4>
<h1 id='operators-collection'>Operators Collection</h1><h2 id='list-all-operators'>List all operators</h2>
<h4>
<p>Operators Collection/List all operators</p>
</h4>
<pre class="highlight plaintext"><code>GET : https://topups.reloadly.com/operators?page=1&amp;size=3&amp;suggestedAmounts=true&amp;suggestedAmountsMap=true&amp;includeBundles=true
</code></pre>
<h4>
<p>Parameters</p>
</h4>

<h4 class="parameter-section col">
    <div class="row">
        <span class="col-5">
            <span class="name">page</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(optional)</span>
        </span>
        <span class="col-7">Page No. Default value : 1</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">size</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(optional)</span>
        </span>
        <span class="col-7">Size of each page. Default value : 200</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">suggestedAmounts</span>
            <span class="tag color--pink">boolean</span>
            <span class="require">(optional)</span>
        </span>
        <span class="col-7">Whether to return the suggestedAmounts field on the Operator resource. Default value : false</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">suggestedAmountsMap</span>
            <span class="tag color--pink">boolean</span>
            <span class="require">(optional)</span>
        </span>
        <span class="col-7">Whether to return the suggestedAmountsMap field on the Operator resource. Default value : false</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">includeBundles</span>
            <span class="tag color--pink">boolean</span>
            <span class="require">(optional)</span>
        </span>
        <span class="col-7">Whether to include airtime/data bundles in the operators resources list. Default value : true</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">Authorization</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Endpoint requires Authentication token in header.</span>
    </div>
</h4>

<h4>
<p>Code Block</p>
</h4>
<pre class="highlight shell tab-shell"><code>curl --include <span class="se">\</span>
     --header <span class="s2">"Accept: application/com.reloadly.topups-v1+json"</span> <span class="se">\</span>
     --header <span class="s2">"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span> <span class="se">\</span>
  <span class="s1">'https://topups.reloadly.com/operators?page=1&amp;size=3&amp;suggestedAmounts=true&amp;suggestedAmountsMap=true&amp;includeBundles=true'</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// Maven : Add these dependecies to your pom.xml (java6+)</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>

<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Client</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.ClientBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.Response</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.MediaType</span><span class="o">;</span>

<span class="n">Client</span> <span class="n">client</span> <span class="o">=</span> <span class="n">ClientBuilder</span><span class="o">.</span><span class="na">newClient</span><span class="o">();</span>
<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="s">"https://topups.reloadly.com/operators?page=1&amp;size=3&amp;suggestedAmounts=true&amp;suggestedAmountsMap=true&amp;includeBundles=true"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">request</span><span class="o">(</span><span class="n">MediaType</span><span class="o">.</span><span class="na">TEXT_PLAIN_TYPE</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">();</span>

<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"status: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getStatus</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"headers: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getHeaders</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"body:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">readEntity</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">));</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>

<span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span> <span class="s1">'https://topups.reloadly.com/operators?page=1&amp;size=3&amp;suggestedAmounts=true&amp;suggestedAmountsMap=true&amp;includeBundles=true'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Accept'</span><span class="p">,</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Authorization'</span><span class="p">,</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">===</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Status:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Headers:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAllResponseHeaders</span><span class="p">());</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Body:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">responseText</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">send</span><span class="p">();</span>

</code></pre><pre class="highlight julia tab-julia"><code><span class="n">var</span> <span class="n">request</span> <span class="o">=</span> <span class="n">require</span><span class="x">(</span><span class="err">'</span><span class="n">request</span><span class="err">'</span><span class="x">);</span>

<span class="n">request</span><span class="x">({</span>
  <span class="n">method</span><span class="x">:</span> <span class="err">'</span><span class="n">GET</span><span class="err">'</span><span class="x">,</span>
  <span class="n">url</span><span class="x">:</span> <span class="err">'</span><span class="n">https</span><span class="x">:</span><span class="o">//</span><span class="n">topups</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">operators</span><span class="o">?</span><span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="o">&amp;</span><span class="n">size</span><span class="o">=</span><span class="mi">3</span><span class="o">&amp;</span><span class="n">suggestedAmounts</span><span class="o">=</span><span class="n">true</span><span class="o">&amp;</span><span class="n">suggestedAmountsMap</span><span class="o">=</span><span class="n">true</span><span class="o">&amp;</span><span class="n">includeBundles</span><span class="o">=</span><span class="n">true</span><span class="err">'</span><span class="x">,</span>
  <span class="n">headers</span><span class="x">:</span> <span class="x">{</span>
    <span class="err">'</span><span class="n">Accept</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">application</span><span class="o">/</span><span class="n">com</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">topups</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="err">'</span><span class="x">,</span>
    <span class="err">'</span><span class="n">Authorization</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">Bearer</span> <span class="n">eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa</span><span class="err">'</span>
  <span class="x">}},</span> <span class="k">function</span><span class="nf"> </span><span class="o">(</span><span class="nb">error</span><span class="x">,</span> <span class="n">response</span><span class="x">,</span> <span class="n">body</span><span class="x">)</span> <span class="x">{</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Status</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">response</span><span class="o">.</span><span class="n">statusCode</span><span class="x">);</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Headers</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">JSON</span><span class="o">.</span><span class="n">stringify</span><span class="x">(</span><span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="x">));</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Response</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">body</span><span class="x">);</span>
<span class="x">});</span>

</code></pre><pre class="highlight perl tab-perl"><code><span class="nv">$ENV</span><span class="p">{</span><span class="s">'PERL_LWP_SSL_VERIFY_HOSTNAME'</span><span class="p">}</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">strict</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">warnings</span><span class="p">;</span>
<span class="k">use</span> <span class="mf">5.010</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">Cpanel::JSON::</span><span class="nv">XS</span> <span class="sx">qw(encode_json decode_json)</span><span class="p">;</span>

<span class="k">my</span> <span class="nv">$ua</span>   <span class="o">=</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="o">-&gt;</span><span class="k">new</span><span class="p">;</span>

<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Accept"</span> <span class="o">=&gt;</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>
<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Authorization"</span> <span class="o">=&gt;</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>

<span class="k">my</span> <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">get</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/operators?page=1&amp;size=3&amp;suggestedAmounts=true&amp;suggestedAmountsMap=true&amp;includeBundles=true"</span><span class="p">);</span>

<span class="k">print</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nv">as_string</span><span class="p">;</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">urllib2</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="s">'https://topups.reloadly.com/operators?page=1&amp;size=3&amp;suggestedAmounts=true&amp;suggestedAmountsMap=true&amp;includeBundles=true'</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="n">response_body</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span> <span class="n">response_body</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="s2">"https://topups.reloadly.com/operators?page=1&amp;size=3&amp;suggestedAmounts=true&amp;suggestedAmountsMap=true&amp;includeBundles=true"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="k">TRUE</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="k">FALSE</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"Accept: application/com.reloadly.topups-v1+json"</span><span class="p">,</span>
  <span class="s2">"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$response</span><span class="p">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rubygems'</span> <span class="k">if</span> <span class="no">RUBY_VERSION</span> <span class="o">&lt;</span> <span class="s1">'1.9'</span>
<span class="nb">require</span> <span class="s1">'rest_client'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:accept</span> <span class="o">=&gt;</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="ss">:authorization</span> <span class="o">=&gt;</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="s1">'https://topups.reloadly.com/operators?page=1&amp;size=3&amp;suggestedAmounts=true&amp;suggestedAmountsMap=true&amp;includeBundles=true'</span><span class="p">,</span> <span class="n">headers</span>
<span class="nb">puts</span> <span class="n">response</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
    </span><span class="s">"fmt"</span><span class="x">
    </span><span class="s">"io/ioutil"</span><span class="x">
    </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">

    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://topups.reloadly.com/operators?page=1&amp;size=3&amp;suggestedAmounts=true&amp;suggestedAmountsMap=true&amp;includeBundles=true"</span><span class="p">,</span><span class="x"> </span><span class="no">nil</span><span class="p">)</span><span class="x">

    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"Accept"</span><span class="p">,</span><span class="x"> </span><span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"Authorization"</span><span class="p">,</span><span class="x"> </span><span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">)</span><span class="x">

    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">

    </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Errored when sending request to the server"</span><span class="p">)</span><span class="x">
        </span><span class="k">return</span><span class="x">
    </span><span class="p">}</span><span class="x">

    </span><span class="k">defer</span><span class="x"> </span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span><span class="x">
    </span><span class="n">resp_body</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span><span class="x">

    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Status</span><span class="p">)</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="kt">string</span><span class="p">(</span><span class="n">resp_body</span><span class="p">))</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="c1">//Common testing requirement. If you are consuming an API in a sandbox/test region, uncomment this line of code ONLY for non production uses.</span>
<span class="c1">//System.Net.ServicePointManager.ServerCertificateValidationCallback = delegate { return true; };</span>

<span class="c1">//Be sure to run "Install-Package Microsoft.Net.Http" from your nuget command line.</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Net.Http</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">baseAddress</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Uri</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/"</span><span class="p">);</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">httpClient</span> <span class="p">=</span> <span class="k">new</span> <span class="n">HttpClient</span><span class="p">{</span> <span class="n">BaseAddress</span> <span class="p">=</span> <span class="n">baseAddress</span> <span class="p">})</span>
<span class="p">{</span>

  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"accept"</span><span class="p">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>

  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>

  <span class="k">using</span><span class="p">(</span><span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">await</span> <span class="n">httpClient</span><span class="p">.</span><span class="nf">GetAsync</span><span class="p">(</span><span class="s">"operators?page=1&amp;size=3&amp;suggestedAmounts=true&amp;suggestedAmountsMap=true&amp;includeBundles=true"</span><span class="p">))</span>
  <span class="p">{</span>

        <span class="kt">string</span> <span class="n">responseData</span> <span class="p">=</span> <span class="k">await</span> <span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="nf">ReadAsStringAsync</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight vb tab-vb"><code><span class="k">Dim</span> <span class="nv">request</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">WebRequest</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/operators?page=1&amp;size=3&amp;suggestedAmounts=true&amp;suggestedAmountsMap=true&amp;includeBundles=true"</span><span class="p">),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebRequest</span><span class="p">)</span>

<span class="n">request</span><span class="p">.</span><span class="n">Method</span> <span class="o">=</span> <span class="s">"GET"</span>

<span class="n">request</span><span class="p">.</span><span class="n">Accept</span> <span class="o">=</span> <span class="s">"application/com.reloadly.topups-v1+json"</span>

<span class="n">request</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">)</span>

<span class="n">request</span><span class="p">.</span><span class="n">ContentLength</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">Dim</span> <span class="nv">responseContent</span> <span class="ow">As</span> <span class="kt">String</span>
<span class="k">Using</span> <span class="n">response</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">GetResponse</span><span class="p">(),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebResponse</span><span class="p">)</span>
  <span class="k">Using</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">New</span> <span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="n">StreamReader</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">GetResponseStream</span><span class="p">())</span>
    <span class="n">responseContent</span> <span class="o">=</span> <span class="n">reader</span><span class="p">.</span><span class="n">ReadToEnd</span><span class="p">()</span>
  <span class="k">End</span> <span class="k">Using</span>
<span class="k">End</span> <span class="k">Using</span>
</code></pre><pre class="highlight groovy tab-groovy"><code><span class="kn">import</span> <span class="nn">groovyx.net.http.RESTClient</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">groovyx</span><span class="o">.</span><span class="na">net</span><span class="o">.</span><span class="na">http</span><span class="o">.</span><span class="na">ContentType</span><span class="o">.</span><span class="na">JSON</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonSlurper</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonOutput</span>

<span class="nd">@Grab</span> <span class="o">(</span><span class="n">group</span> <span class="o">=</span> <span class="s1">'org.codehaus.groovy.modules.http-builder'</span><span class="o">,</span> <span class="n">module</span> <span class="o">=</span> <span class="s1">'http-builder'</span><span class="o">,</span> <span class="n">version</span> <span class="o">=</span> <span class="s1">'0.5.0'</span><span class="o">)</span>
<span class="kt">def</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RESTClient</span><span class="o">(</span><span class="s2">"https://topups.reloadly.com"</span><span class="o">)</span>

<span class="kt">def</span> <span class="n">emptyHeaders</span> <span class="o">=</span> <span class="o">[:]</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Accept"</span> <span class="o">=</span> <span class="s2">"application/com.reloadly.topups-v1+json"</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Authorization"</span> <span class="o">=</span> <span class="s2">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">get</span><span class="o">(</span> <span class="n">path</span> <span class="o">:</span> <span class="s2">"/operators?page=1&amp;size=3&amp;suggestedAmounts=true&amp;suggestedAmountsMap=true&amp;includeBundles=true"</span><span class="o">,</span> <span class="nl">headers:</span> <span class="n">emptyHeaders</span> <span class="o">)</span>

<span class="n">println</span><span class="o">(</span><span class="s2">"Status:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">status</span><span class="o">)</span>

<span class="k">if</span> <span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Content Type: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">contentType</span><span class="o">)</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Body:\n"</span> <span class="o">+</span> <span class="n">JsonOutput</span><span class="o">.</span><span class="na">prettyPrint</span><span class="o">(</span><span class="n">JsonOutput</span><span class="o">.</span><span class="na">toJson</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)))</span>
<span class="o">}</span>
</code></pre><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSURL</span> <span class="o">*</span><span class="n">URL</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURL</span> <span class="nf">URLWithString</span><span class="p">:</span><span class="s">@"https://topups.reloadly.com/operators?page=1&amp;size=3&amp;suggestedAmounts=true&amp;suggestedAmountsMap=true&amp;includeBundles=true"</span><span class="p">];</span>

<span class="n">NSMutableURLRequest</span> <span class="o">*</span><span class="n">request</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableURLRequest</span> <span class="nf">requestWithURL</span><span class="p">:</span><span class="n">URL</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setHTTPMethod</span><span class="p">:</span><span class="s">@"GET"</span><span class="p">];</span>

<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"application/com.reloadly.topups-v1+json"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Accept"</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Authorization"</span><span class="p">];</span>

<span class="n">NSURLSession</span> <span class="o">*</span><span class="n">session</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURLSession</span> <span class="nf">sharedSession</span><span class="p">];</span>
<span class="n">NSURLSessionDataTask</span> <span class="o">*</span><span class="n">task</span> <span class="o">=</span> <span class="p">[</span><span class="n">session</span> <span class="nf">dataTaskWithRequest</span><span class="p">:</span><span class="n">request</span>
                                        <span class="nf">completionHandler</span><span class="p">:</span>
                              <span class="o">^</span><span class="p">(</span><span class="n">NSData</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="n">NSURLResponse</span> <span class="o">*</span><span class="n">response</span><span class="p">,</span> <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>

                                  <span class="k">if</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
                                      <span class="c1">// Handle error...
</span>                                      <span class="k">return</span><span class="p">;</span>
                                  <span class="p">}</span>

                                  <span class="k">if</span> <span class="p">([</span><span class="n">response</span> <span class="nf">isKindOfClass</span><span class="p">:[</span><span class="n">NSHTTPURLResponse</span> <span class="nf">class</span><span class="p">]])</span> <span class="p">{</span>
                                      <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response HTTP Status code: %ld</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="p">(</span><span class="kt">long</span><span class="p">)[(</span><span class="n">NSHTTPURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="n">response</span> <span class="nf">statusCode</span><span class="p">]);</span>
                                      <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response HTTP Headers:</span><span class="se">\n</span><span class="s">%@</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="p">[(</span><span class="n">NSHTTPURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="n">response</span> <span class="nf">allHeaderFields</span><span class="p">]);</span>
                                  <span class="p">}</span>

                                  <span class="n">NSString</span><span class="o">*</span> <span class="n">body</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSString</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithData</span><span class="p">:</span><span class="n">data</span> <span class="nf">encoding</span><span class="p">:</span><span class="n">NSUTF8StringEncoding</span><span class="p">];</span>
                                  <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response Body:</span><span class="se">\n</span><span class="s">%@</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">);</span>
                              <span class="p">}];</span>
<span class="p">[</span><span class="n">task</span> <span class="nf">resume</span><span class="p">];</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="c1">// NOTE: Uncommment following two lines for use in a Playground</span>
<span class="c1">// import PlaygroundSupport</span>
<span class="c1">// PlaygroundPage.current.needsIndefiniteExecution = true</span>

<span class="k">let</span> <span class="nv">url</span> <span class="o">=</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"https://topups.reloadly.com/operators?page=1&amp;size=3&amp;suggestedAmounts=true&amp;suggestedAmountsMap=true&amp;includeBundles=true"</span><span class="p">)</span><span class="o">!</span>
<span class="k">var</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">URLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Accept"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Authorization"</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">task</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span><span class="p">)</span> <span class="p">{</span> <span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span> <span class="k">in</span>
  <span class="k">if</span> <span class="k">let</span> <span class="nv">response</span> <span class="o">=</span> <span class="n">response</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">if</span> <span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">,</span> <span class="k">let</span> <span class="nv">body</span> <span class="o">=</span> <span class="kt">String</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="n">data</span><span class="p">,</span> <span class="nv">encoding</span><span class="p">:</span> <span class="o">.</span><span class="n">utf8</span><span class="p">)</span> <span class="p">{</span>
      <span class="nf">print</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span> <span class="p">??</span> <span class="s">"Unknown error"</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">task</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
</code></pre>
<h4>
<p>Response</p>
</h4>
<pre class="highlight plaintext"><code>200
</code></pre>
<h4>
<p>Headers</p>
</h4>
<pre class="highlight plaintext"><code>Content-Type: application/json
</code></pre>
<h4>
<p>Body</p>
</h4>
<pre class="highlight plaintext"><code>{
  "content": [
    {
      "operatorId": 1,
      "name": "Afghan Wireless Afghanistan",
      "countryCode": "AF",
      "status": true,
      "defaultCommissionPercentage": 10,
      "bundle": false
    },
    {
      "operatorId": 2,
      "name": "MTN Afghanistan",
      "countryCode": "AF",
      "status": true,
      "defaultCommissionPercentage": 10,
      "bundle": false
    },
    {
      "operatorId": 3,
      "name": "Etisalat Afghanistan",
      "countryCode": "AF",
      "status": true,
      "defaultCommissionPercentage": 10,
      "bundle": false
    }
  ],
  "pageable": {
    "sort": {
      "unsorted": true,
      "sorted": false
    },
    "pageSize": 3,
    "pageNumber": 0,
    "offset": 0,
    "paged": true,
    "unpaged": false
  },
  "totalPages": 203,
  "totalElements": 609,
  "last": false,
  "sort": {
    "unsorted": true,
    "sorted": false
  },
  "first": true,
  "numberOfElements": 3,
  "size": 3,
  "number": 0
}
</code></pre>
<h4>
<p>Body Schema</p>
</h4>

<h4 class="parameter-section col">
    <div class="row">
        <span class="col-5">
            <span class="name">content</span>
            <span class="tag color--pink">collection</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Collection of Operators objects.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">first</span>
            <span class="tag color--pink">boolean</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">If this is the first page or not.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">last</span>
            <span class="tag color--pink">boolean</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">If this is the last page or not.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">number</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Current page number.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">numberOfElements</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Number of elements within this page's content.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">pageable</span>
            <span class="tag color--pink">object</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">A pagable object defining params to be used for paging.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">sort</span>
            <span class="tag color--pink">object</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">A Sort element to be used for sorting the collection.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">totalElements</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Total number of elements available.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">totalPages</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Total number of pages available.</span>
    </div>
</h4>
<h2 id='retrieve-a-operator-by-id'>Retrieve a operator by id</h2>
<ul>
<li>Endpoint : <code>/operators/{operatorId}</code></li>
</ul>

<h4>
<p>Operators Collection/Retrieve a operator by id</p>
</h4>
<pre class="highlight plaintext"><code>GET : https://topups.reloadly.com/operators/173
</code></pre>
<h4>
<p>Parameters</p>
</h4>

<h4 class="parameter-section col">
    <div class="row">
        <span class="col-5">
            <span class="name">operatorId</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">The Operator's Id.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">suggestedAmounts</span>
            <span class="tag color--pink">boolean</span>
            <span class="require">(optional)</span>
        </span>
        <span class="col-7">Whether to return the suggestedAmounts field on the Operator resource. Default value : false</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">suggestedAmountsMap</span>
            <span class="tag color--pink">boolean</span>
            <span class="require">(optional)</span>
        </span>
        <span class="col-7">Whether to return the suggestedAmountsMap field on the Operator resource. Default value : false</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">Authorization</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Endpoint requires Authentication token in header.</span>
    </div>
</h4>

<h4>
<p>Code Block</p>
</h4>
<pre class="highlight shell tab-shell"><code>curl --include <span class="se">\</span>
     --header <span class="s2">"Accept: application/com.reloadly.topups-v1+json"</span> <span class="se">\</span>
     --header <span class="s2">"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span> <span class="se">\</span>
  <span class="s1">'https://topups.reloadly.com/operators/173'</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// Maven : Add these dependecies to your pom.xml (java6+)</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>

<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Client</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.ClientBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.Response</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.MediaType</span><span class="o">;</span>

<span class="n">Client</span> <span class="n">client</span> <span class="o">=</span> <span class="n">ClientBuilder</span><span class="o">.</span><span class="na">newClient</span><span class="o">();</span>
<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="s">"https://topups.reloadly.com/operators/173
"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">request</span><span class="o">(</span><span class="n">MediaType</span><span class="o">.</span><span class="na">TEXT_PLAIN_TYPE</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">();</span>

<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"status: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getStatus</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"headers: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getHeaders</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"body:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">readEntity</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">));</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span> <span class="s1">'https://topups.reloadly.com/operators/173'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Accept'</span><span class="p">,</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Authorization'</span><span class="p">,</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">===</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Status:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Headers:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAllResponseHeaders</span><span class="p">());</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Body:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">responseText</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">send</span><span class="p">();</span>
</code></pre><pre class="highlight julia tab-julia"><code><span class="n">var</span> <span class="n">request</span> <span class="o">=</span> <span class="n">require</span><span class="x">(</span><span class="err">'</span><span class="n">request</span><span class="err">'</span><span class="x">);</span>

<span class="n">request</span><span class="x">({</span>
  <span class="n">method</span><span class="x">:</span> <span class="err">'</span><span class="n">GET</span><span class="err">'</span><span class="x">,</span>
  <span class="n">url</span><span class="x">:</span> <span class="err">'</span><span class="n">https</span><span class="x">:</span><span class="o">//</span><span class="n">topups</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">operators</span><span class="o">/</span><span class="mi">173</span>
<span class="err">'</span><span class="x">,</span>
  <span class="n">headers</span><span class="x">:</span> <span class="x">{</span>
    <span class="err">'</span><span class="n">Accept</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">application</span><span class="o">/</span><span class="n">com</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">topups</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="err">'</span><span class="x">,</span>
    <span class="err">'</span><span class="n">Authorization</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">Bearer</span> <span class="n">eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa</span><span class="err">'</span>
  <span class="x">}},</span> <span class="k">function</span><span class="nf"> </span><span class="o">(</span><span class="nb">error</span><span class="x">,</span> <span class="n">response</span><span class="x">,</span> <span class="n">body</span><span class="x">)</span> <span class="x">{</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Status</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">response</span><span class="o">.</span><span class="n">statusCode</span><span class="x">);</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Headers</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">JSON</span><span class="o">.</span><span class="n">stringify</span><span class="x">(</span><span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="x">));</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Response</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">body</span><span class="x">);</span>
<span class="x">});</span>
</code></pre><pre class="highlight perl tab-perl"><code><span class="nv">$ENV</span><span class="p">{</span><span class="s">'PERL_LWP_SSL_VERIFY_HOSTNAME'</span><span class="p">}</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">strict</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">warnings</span><span class="p">;</span>
<span class="k">use</span> <span class="mf">5.010</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">Cpanel::JSON::</span><span class="nv">XS</span> <span class="sx">qw(encode_json decode_json)</span><span class="p">;</span>

<span class="k">my</span> <span class="nv">$ua</span>   <span class="o">=</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="o">-&gt;</span><span class="k">new</span><span class="p">;</span>

<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Accept"</span> <span class="o">=&gt;</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>
<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Authorization"</span> <span class="o">=&gt;</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>

<span class="k">my</span> <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">get</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/operators/173
"</span><span class="p">);</span>

<span class="k">print</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nv">as_string</span><span class="p">;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">urllib2</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="s">'https://topups.reloadly.com/operators/173</span><span class="err">
</span><span class="s">'</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="n">response_body</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span> <span class="n">response_body</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="s2">"https://topups.reloadly.com/operators/173
"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="k">TRUE</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="k">FALSE</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"Accept: application/com.reloadly.topups-v1+json"</span><span class="p">,</span>
  <span class="s2">"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$response</span><span class="p">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rubygems'</span> <span class="k">if</span> <span class="no">RUBY_VERSION</span> <span class="o">&lt;</span> <span class="s1">'1.9'</span>
<span class="nb">require</span> <span class="s1">'rest_client'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:accept</span> <span class="o">=&gt;</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="ss">:authorization</span> <span class="o">=&gt;</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="s1">'https://topups.reloadly.com/operators/173
'</span><span class="p">,</span> <span class="n">headers</span>
<span class="nb">puts</span> <span class="n">response</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
    </span><span class="s">"fmt"</span><span class="x">
    </span><span class="s">"io/ioutil"</span><span class="x">
    </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">

    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://topups.reloadly.com/operators/173
"</span><span class="p">,</span><span class="x"> </span><span class="no">nil</span><span class="p">)</span><span class="x">

    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"Accept"</span><span class="p">,</span><span class="x"> </span><span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"Authorization"</span><span class="p">,</span><span class="x"> </span><span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">)</span><span class="x">

    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">

    </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Errored when sending request to the server"</span><span class="p">)</span><span class="x">
        </span><span class="k">return</span><span class="x">
    </span><span class="p">}</span><span class="x">

    </span><span class="k">defer</span><span class="x"> </span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span><span class="x">
    </span><span class="n">resp_body</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span><span class="x">

    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Status</span><span class="p">)</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="kt">string</span><span class="p">(</span><span class="n">resp_body</span><span class="p">))</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="c1">//Common testing requirement. If you are consuming an API in a sandbox/test region, uncomment this line of code ONLY for non production uses.</span>
<span class="c1">//System.Net.ServicePointManager.ServerCertificateValidationCallback = delegate { return true; };</span>

<span class="c1">//Be sure to run "Install-Package Microsoft.Net.Http" from your nuget command line.</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Net.Http</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">baseAddress</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Uri</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/"</span><span class="p">);</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">httpClient</span> <span class="p">=</span> <span class="k">new</span> <span class="n">HttpClient</span><span class="p">{</span> <span class="n">BaseAddress</span> <span class="p">=</span> <span class="n">baseAddress</span> <span class="p">})</span>
<span class="p">{</span>

  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"accept"</span><span class="p">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>

  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>

  <span class="k">using</span><span class="p">(</span><span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">await</span> <span class="n">httpClient</span><span class="p">.</span><span class="nf">GetAsync</span><span class="p">(</span><span class="s">"operators?page=1&amp;size=3&amp;suggestedAmounts=true&amp;suggestedAmountsMap=true&amp;includeBundles=true"</span><span class="p">))</span>
  <span class="p">{</span>

        <span class="kt">string</span> <span class="n">responseData</span> <span class="p">=</span> <span class="k">await</span> <span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="nf">ReadAsStringAsync</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight vb tab-vb"><code><span class="k">Dim</span> <span class="nv">request</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">WebRequest</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/operators/173
"</span><span class="p">),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebRequest</span><span class="p">)</span>

<span class="n">request</span><span class="p">.</span><span class="n">Method</span> <span class="o">=</span> <span class="s">"GET"</span>

<span class="n">request</span><span class="p">.</span><span class="n">Accept</span> <span class="o">=</span> <span class="s">"application/com.reloadly.topups-v1+json"</span>

<span class="n">request</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">)</span>

<span class="n">request</span><span class="p">.</span><span class="n">ContentLength</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">Dim</span> <span class="nv">responseContent</span> <span class="ow">As</span> <span class="kt">String</span>
<span class="k">Using</span> <span class="n">response</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">GetResponse</span><span class="p">(),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebResponse</span><span class="p">)</span>
  <span class="k">Using</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">New</span> <span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="n">StreamReader</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">GetResponseStream</span><span class="p">())</span>
    <span class="n">responseContent</span> <span class="o">=</span> <span class="n">reader</span><span class="p">.</span><span class="n">ReadToEnd</span><span class="p">()</span>
  <span class="k">End</span> <span class="k">Using</span>
<span class="k">End</span> <span class="k">Using</span>
</code></pre><pre class="highlight groovy tab-groovy"><code><span class="kn">import</span> <span class="nn">groovyx.net.http.RESTClient</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">groovyx</span><span class="o">.</span><span class="na">net</span><span class="o">.</span><span class="na">http</span><span class="o">.</span><span class="na">ContentType</span><span class="o">.</span><span class="na">JSON</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonSlurper</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonOutput</span>

<span class="nd">@Grab</span> <span class="o">(</span><span class="n">group</span> <span class="o">=</span> <span class="s1">'org.codehaus.groovy.modules.http-builder'</span><span class="o">,</span> <span class="n">module</span> <span class="o">=</span> <span class="s1">'http-builder'</span><span class="o">,</span> <span class="n">version</span> <span class="o">=</span> <span class="s1">'0.5.0'</span><span class="o">)</span>
<span class="kt">def</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RESTClient</span><span class="o">(</span><span class="s2">"https://topups.reloadly.com"</span><span class="o">)</span>

<span class="kt">def</span> <span class="n">emptyHeaders</span> <span class="o">=</span> <span class="o">[:]</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Accept"</span> <span class="o">=</span> <span class="s2">"application/com.reloadly.topups-v1+json"</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Authorization"</span> <span class="o">=</span> <span class="s2">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">get</span><span class="o">(</span> <span class="n">path</span> <span class="o">:</span> <span class="s2">"/operators?page=1&amp;size=3&amp;suggestedAmounts=true&amp;suggestedAmountsMap=true&amp;includeBundles=true"</span><span class="o">,</span> <span class="nl">headers:</span> <span class="n">emptyHeaders</span> <span class="o">)</span>

<span class="n">println</span><span class="o">(</span><span class="s2">"Status:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">status</span><span class="o">)</span>

<span class="k">if</span> <span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Content Type: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">contentType</span><span class="o">)</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Body:\n"</span> <span class="o">+</span> <span class="n">JsonOutput</span><span class="o">.</span><span class="na">prettyPrint</span><span class="o">(</span><span class="n">JsonOutput</span><span class="o">.</span><span class="na">toJson</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)))</span>
<span class="o">}</span>
</code></pre><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSURL</span> <span class="o">*</span><span class="n">URL</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURL</span> <span class="nf">URLWithString</span><span class="p">:</span><span class="s">@"https://topups.reloadly.com/operators/173</span><span class="err">
</span><span class="s">"</span><span class="p">];</span>

<span class="n">NSMutableURLRequest</span> <span class="o">*</span><span class="n">request</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableURLRequest</span> <span class="nf">requestWithURL</span><span class="p">:</span><span class="n">URL</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setHTTPMethod</span><span class="p">:</span><span class="s">@"GET"</span><span class="p">];</span>

<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"application/com.reloadly.topups-v1+json"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Accept"</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Authorization"</span><span class="p">];</span>

<span class="n">NSURLSession</span> <span class="o">*</span><span class="n">session</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURLSession</span> <span class="nf">sharedSession</span><span class="p">];</span>
<span class="n">NSURLSessionDataTask</span> <span class="o">*</span><span class="n">task</span> <span class="o">=</span> <span class="p">[</span><span class="n">session</span> <span class="nf">dataTaskWithRequest</span><span class="p">:</span><span class="n">request</span>
                                        <span class="nf">completionHandler</span><span class="p">:</span>
                              <span class="o">^</span><span class="p">(</span><span class="n">NSData</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="n">NSURLResponse</span> <span class="o">*</span><span class="n">response</span><span class="p">,</span> <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>

                                  <span class="k">if</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
                                      <span class="c1">// Handle error...
</span>                                      <span class="k">return</span><span class="p">;</span>
                                  <span class="p">}</span>

                                  <span class="k">if</span> <span class="p">([</span><span class="n">response</span> <span class="nf">isKindOfClass</span><span class="p">:[</span><span class="n">NSHTTPURLResponse</span> <span class="nf">class</span><span class="p">]])</span> <span class="p">{</span>
                                      <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response HTTP Status code: %ld</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="p">(</span><span class="kt">long</span><span class="p">)[(</span><span class="n">NSHTTPURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="n">response</span> <span class="nf">statusCode</span><span class="p">]);</span>
                                      <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response HTTP Headers:</span><span class="se">\n</span><span class="s">%@</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="p">[(</span><span class="n">NSHTTPURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="n">response</span> <span class="nf">allHeaderFields</span><span class="p">]);</span>
                                  <span class="p">}</span>

                                  <span class="n">NSString</span><span class="o">*</span> <span class="n">body</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSString</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithData</span><span class="p">:</span><span class="n">data</span> <span class="nf">encoding</span><span class="p">:</span><span class="n">NSUTF8StringEncoding</span><span class="p">];</span>
                                  <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response Body:</span><span class="se">\n</span><span class="s">%@</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">);</span>
                              <span class="p">}];</span>
<span class="p">[</span><span class="n">task</span> <span class="nf">resume</span><span class="p">];</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="c1">// NOTE: Uncommment following two lines for use in a Playground</span>
<span class="c1">// import PlaygroundSupport</span>
<span class="c1">// PlaygroundPage.current.needsIndefiniteExecution = true</span>

<span class="k">let</span> <span class="nv">url</span> <span class="o">=</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"https://topups.reloadly.com/operators/173
"</span><span class="p">)</span><span class="o">!</span>
<span class="k">var</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">URLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Accept"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Authorization"</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">task</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span><span class="p">)</span> <span class="p">{</span> <span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span> <span class="k">in</span>
  <span class="k">if</span> <span class="k">let</span> <span class="nv">response</span> <span class="o">=</span> <span class="n">response</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">if</span> <span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">,</span> <span class="k">let</span> <span class="nv">body</span> <span class="o">=</span> <span class="kt">String</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="n">data</span><span class="p">,</span> <span class="nv">encoding</span><span class="p">:</span> <span class="o">.</span><span class="n">utf8</span><span class="p">)</span> <span class="p">{</span>
      <span class="nf">print</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span> <span class="p">??</span> <span class="s">"Unknown error"</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">task</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
</code></pre>
<h4>
<p>Response</p>
</h4>
<pre class="highlight plaintext"><code>200
</code></pre>
<h4>
<p>Headers</p>
</h4>
<pre class="highlight plaintext"><code>Content-Type: application/json
</code></pre>
<h4>
<p>Body</p>
</h4>
<pre class="highlight plaintext"><code>{
  "operatorId": 173,
  "name": "Digicel Haiti",
  "countryCode": "HT",
  "status": true,
  "defaultCommissionPercentage": 15,
  "bundle": false
}
</code></pre>
<h4>
<p>Body Schema</p>
</h4>

<h4 class="parameter-section col">
    <div class="row">
        <span class="col-5">
            <span class="name">operatorId</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">The Id of the Operator.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">name</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">The name of the Operator.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">status</span>
            <span class="tag color--pink">boolean</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Current status of this operator (active or inactive) on the platform.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">bundle</span>
            <span class="tag color--pink">boolean</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Whether the operator is a prepaid data bundle. Prepaid bundles are a mixture of calls, data, SMS and social media access which the users can purchase other than airtime credits.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">commission</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Commission offered by the Operator.</span>
    </div>
</h4>
<h2 id='auto-detect-mobile-operator-for-given-phone-number'>Auto-detect mobile operator for given phone number</h2>
<ul>
<li>NOTE: Supports phone number with a &quot;+&quot; in front of the country dialing code or without a &quot;+&quot; country dialing code. Example : <code>+50936377111</code> or <code>50936377111</code> are equivalent <code>/operators/auto-detect/phone/{phone}/country-code/{countryIsoCode}?&amp;includeBundles=true</code></li>
</ul>

<h4>
<p>Operators Collection/Auto-detect mobile operator for given phone number</p>
</h4>
<pre class="highlight plaintext"><code>GET : https://topups.reloadly.com/operators/auto-detect/phone/+50936377111/country-code/HT?&amp;includeBundles=true
</code></pre>
<h4>
<p>Parameters</p>
</h4>

<h4 class="parameter-section col">
    <div class="row">
        <span class="col-5">
            <span class="name">phone</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Phone number with country prefix.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">countryCode</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">ISO 3166-1 alpha-2 Country code.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">suggestedAmounts</span>
            <span class="tag color--pink">boolean</span>
            <span class="require">(optional)</span>
        </span>
        <span class="col-7">Whether to return the suggestedAmounts field on the Operator resource. Default value : false.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">suggestedAmountsMap</span>
            <span class="tag color--pink">boolean</span>
            <span class="require">(optional)</span>
        </span>
        <span class="col-7">Whether to return the suggestedAmountsMap field on the Operator resource. Default value : false.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">includeBundles</span>
            <span class="tag color--pink">boolean</span>
            <span class="require">(optional)</span>
        </span>
        <span class="col-7">Whether to include airtime/data bundles in the operators resources list. Default value : true.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">Authorization</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Endpoint requires Authentication token in header.</span>
    </div>
</h4>

<h4>
<p>Code Block</p>
</h4>
<pre class="highlight shell tab-shell"><code>curl --include <span class="se">\</span>
     --header <span class="s2">"Accept: application/com.reloadly.topups-v1+json"</span> <span class="se">\</span>
     --header <span class="s2">"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span> <span class="se">\</span>
  <span class="s1">'https://topups.reloadly.com/operators/auto-detect/phone/+50936377111/country-code/HT?&amp;includeBundles=true'</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// Maven : Add these dependecies to your pom.xml (java6+)</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>

<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Client</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.ClientBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.Response</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.MediaType</span><span class="o">;</span>

<span class="n">Client</span> <span class="n">client</span> <span class="o">=</span> <span class="n">ClientBuilder</span><span class="o">.</span><span class="na">newClient</span><span class="o">();</span>
<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="s">"https://topups.reloadly.com/operators/auto-detect/phone/+50936377111/country-code/HT?&amp;includeBundles=true"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">request</span><span class="o">(</span><span class="n">MediaType</span><span class="o">.</span><span class="na">TEXT_PLAIN_TYPE</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">();</span>

<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"status: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getStatus</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"headers: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getHeaders</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"body:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">readEntity</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">));</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span> <span class="s1">'https://topups.reloadly.com/operators/auto-detect/phone/+50936377111/country-code/HT?&amp;includeBundles=true'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Accept'</span><span class="p">,</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Authorization'</span><span class="p">,</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">===</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Status:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Headers:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAllResponseHeaders</span><span class="p">());</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Body:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">responseText</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">send</span><span class="p">();</span>
</code></pre><pre class="highlight julia tab-julia"><code><span class="n">var</span> <span class="n">request</span> <span class="o">=</span> <span class="n">require</span><span class="x">(</span><span class="err">'</span><span class="n">request</span><span class="err">'</span><span class="x">);</span>

<span class="n">request</span><span class="x">({</span>
  <span class="n">method</span><span class="x">:</span> <span class="err">'</span><span class="n">GET</span><span class="err">'</span><span class="x">,</span>
  <span class="n">url</span><span class="x">:</span> <span class="err">'</span><span class="n">https</span><span class="x">:</span><span class="o">//</span><span class="n">topups</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">operators</span><span class="o">/</span><span class="n">auto</span><span class="o">-</span><span class="n">detect</span><span class="o">/</span><span class="n">phone</span><span class="o">/+</span><span class="mi">50936377111</span><span class="o">/</span><span class="n">country</span><span class="o">-</span><span class="n">code</span><span class="o">/</span><span class="n">HT</span><span class="o">?&amp;</span><span class="n">includeBundles</span><span class="o">=</span><span class="n">true</span><span class="err">'</span><span class="x">,</span>
  <span class="n">headers</span><span class="x">:</span> <span class="x">{</span>
    <span class="err">'</span><span class="n">Accept</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">application</span><span class="o">/</span><span class="n">com</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">topups</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="err">'</span><span class="x">,</span>
    <span class="err">'</span><span class="n">Authorization</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">Bearer</span> <span class="n">eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa</span><span class="err">'</span>
  <span class="x">}},</span> <span class="k">function</span><span class="nf"> </span><span class="o">(</span><span class="nb">error</span><span class="x">,</span> <span class="n">response</span><span class="x">,</span> <span class="n">body</span><span class="x">)</span> <span class="x">{</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Status</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">response</span><span class="o">.</span><span class="n">statusCode</span><span class="x">);</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Headers</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">JSON</span><span class="o">.</span><span class="n">stringify</span><span class="x">(</span><span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="x">));</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Response</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">body</span><span class="x">);</span>
<span class="x">});</span>
</code></pre><pre class="highlight perl tab-perl"><code><span class="nv">$ENV</span><span class="p">{</span><span class="s">'PERL_LWP_SSL_VERIFY_HOSTNAME'</span><span class="p">}</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">strict</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">warnings</span><span class="p">;</span>
<span class="k">use</span> <span class="mf">5.010</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">Cpanel::JSON::</span><span class="nv">XS</span> <span class="sx">qw(encode_json decode_json)</span><span class="p">;</span>

<span class="k">my</span> <span class="nv">$ua</span>   <span class="o">=</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="o">-&gt;</span><span class="k">new</span><span class="p">;</span>

<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Accept"</span> <span class="o">=&gt;</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>
<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Authorization"</span> <span class="o">=&gt;</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>

<span class="k">my</span> <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">get</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/operators/auto-detect/phone/+50936377111/country-code/HT?&amp;includeBundles=true"</span><span class="p">);</span>

<span class="k">print</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nv">as_string</span><span class="p">;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">urllib2</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="s">'https://topups.reloadly.com/operators/auto-detect/phone/+50936377111/country-code/HT?&amp;includeBundles=true'</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="n">response_body</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span> <span class="n">response_body</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="s2">"https://topups.reloadly.com/operators/auto-detect/phone/+50936377111/country-code/HT?&amp;includeBundles=true"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="k">TRUE</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="k">FALSE</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"Accept: application/com.reloadly.topups-v1+json"</span><span class="p">,</span>
  <span class="s2">"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$response</span><span class="p">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rubygems'</span> <span class="k">if</span> <span class="no">RUBY_VERSION</span> <span class="o">&lt;</span> <span class="s1">'1.9'</span>
<span class="nb">require</span> <span class="s1">'rest_client'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:accept</span> <span class="o">=&gt;</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="ss">:authorization</span> <span class="o">=&gt;</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="s1">'https://topups.reloadly.com/operators/auto-detect/phone/+50936377111/country-code/HT?&amp;includeBundles=true'</span><span class="p">,</span> <span class="n">headers</span>
<span class="nb">puts</span> <span class="n">response</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
    </span><span class="s">"fmt"</span><span class="x">
    </span><span class="s">"io/ioutil"</span><span class="x">
    </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">

    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://topups.reloadly.com/operators/auto-detect/phone/+50936377111/country-code/HT?&amp;includeBundles=true"</span><span class="p">,</span><span class="x"> </span><span class="no">nil</span><span class="p">)</span><span class="x">

    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"Accept"</span><span class="p">,</span><span class="x"> </span><span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"Authorization"</span><span class="p">,</span><span class="x"> </span><span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">)</span><span class="x">

    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">

    </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Errored when sending request to the server"</span><span class="p">)</span><span class="x">
        </span><span class="k">return</span><span class="x">
    </span><span class="p">}</span><span class="x">

    </span><span class="k">defer</span><span class="x"> </span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span><span class="x">
    </span><span class="n">resp_body</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span><span class="x">

    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Status</span><span class="p">)</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="kt">string</span><span class="p">(</span><span class="n">resp_body</span><span class="p">))</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="c1">//Common testing requirement. If you are consuming an API in a sandbox/test region, uncomment this line of code ONLY for non production uses.</span>
<span class="c1">//System.Net.ServicePointManager.ServerCertificateValidationCallback = delegate { return true; };</span>

<span class="c1">//Be sure to run "Install-Package Microsoft.Net.Http" from your nuget command line.</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Net.Http</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">baseAddress</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Uri</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/"</span><span class="p">);</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">httpClient</span> <span class="p">=</span> <span class="k">new</span> <span class="n">HttpClient</span><span class="p">{</span> <span class="n">BaseAddress</span> <span class="p">=</span> <span class="n">baseAddress</span> <span class="p">})</span>
<span class="p">{</span>

  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"accept"</span><span class="p">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>

  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>

  <span class="k">using</span><span class="p">(</span><span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">await</span> <span class="n">httpClient</span><span class="p">.</span><span class="nf">GetAsync</span><span class="p">(</span><span class="s">"operators?page=1&amp;size=3&amp;suggestedAmounts=true&amp;suggestedAmountsMap=true&amp;includeBundles=true"</span><span class="p">))</span>
  <span class="p">{</span>

        <span class="kt">string</span> <span class="n">responseData</span> <span class="p">=</span> <span class="k">await</span> <span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="nf">ReadAsStringAsync</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight vb tab-vb"><code><span class="k">Dim</span> <span class="nv">request</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">WebRequest</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/operators/auto-detect/phone/+50936377111/country-code/HT?&amp;includeBundles=true"</span><span class="p">),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebRequest</span><span class="p">)</span>

<span class="n">request</span><span class="p">.</span><span class="n">Method</span> <span class="o">=</span> <span class="s">"GET"</span>

<span class="n">request</span><span class="p">.</span><span class="n">Accept</span> <span class="o">=</span> <span class="s">"application/com.reloadly.topups-v1+json"</span>

<span class="n">request</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">)</span>

<span class="n">request</span><span class="p">.</span><span class="n">ContentLength</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">Dim</span> <span class="nv">responseContent</span> <span class="ow">As</span> <span class="kt">String</span>
<span class="k">Using</span> <span class="n">response</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">GetResponse</span><span class="p">(),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebResponse</span><span class="p">)</span>
  <span class="k">Using</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">New</span> <span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="n">StreamReader</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">GetResponseStream</span><span class="p">())</span>
    <span class="n">responseContent</span> <span class="o">=</span> <span class="n">reader</span><span class="p">.</span><span class="n">ReadToEnd</span><span class="p">()</span>
  <span class="k">End</span> <span class="k">Using</span>
<span class="k">End</span> <span class="k">Using</span>
</code></pre><pre class="highlight groovy tab-groovy"><code><span class="kn">import</span> <span class="nn">groovyx.net.http.RESTClient</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">groovyx</span><span class="o">.</span><span class="na">net</span><span class="o">.</span><span class="na">http</span><span class="o">.</span><span class="na">ContentType</span><span class="o">.</span><span class="na">JSON</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonSlurper</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonOutput</span>

<span class="nd">@Grab</span> <span class="o">(</span><span class="n">group</span> <span class="o">=</span> <span class="s1">'org.codehaus.groovy.modules.http-builder'</span><span class="o">,</span> <span class="n">module</span> <span class="o">=</span> <span class="s1">'http-builder'</span><span class="o">,</span> <span class="n">version</span> <span class="o">=</span> <span class="s1">'0.5.0'</span><span class="o">)</span>
<span class="kt">def</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RESTClient</span><span class="o">(</span><span class="s2">"https://topups.reloadly.com"</span><span class="o">)</span>

<span class="kt">def</span> <span class="n">emptyHeaders</span> <span class="o">=</span> <span class="o">[:]</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Accept"</span> <span class="o">=</span> <span class="s2">"application/com.reloadly.topups-v1+json"</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Authorization"</span> <span class="o">=</span> <span class="s2">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">get</span><span class="o">(</span> <span class="n">path</span> <span class="o">:</span> <span class="s2">"/operators?page=1&amp;size=3&amp;suggestedAmounts=true&amp;suggestedAmountsMap=true&amp;includeBundles=true"</span><span class="o">,</span> <span class="nl">headers:</span> <span class="n">emptyHeaders</span> <span class="o">)</span>

<span class="n">println</span><span class="o">(</span><span class="s2">"Status:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">status</span><span class="o">)</span>

<span class="k">if</span> <span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Content Type: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">contentType</span><span class="o">)</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Body:\n"</span> <span class="o">+</span> <span class="n">JsonOutput</span><span class="o">.</span><span class="na">prettyPrint</span><span class="o">(</span><span class="n">JsonOutput</span><span class="o">.</span><span class="na">toJson</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)))</span>
<span class="o">}</span>
</code></pre><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSURL</span> <span class="o">*</span><span class="n">URL</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURL</span> <span class="nf">URLWithString</span><span class="p">:</span><span class="s">@"https://topups.reloadly.com/operators/auto-detect/phone/+50936377111/country-code/HT?&amp;includeBundles=true"</span><span class="p">];</span>

<span class="n">NSMutableURLRequest</span> <span class="o">*</span><span class="n">request</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableURLRequest</span> <span class="nf">requestWithURL</span><span class="p">:</span><span class="n">URL</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setHTTPMethod</span><span class="p">:</span><span class="s">@"GET"</span><span class="p">];</span>

<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"application/com.reloadly.topups-v1+json"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Accept"</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Authorization"</span><span class="p">];</span>

<span class="n">NSURLSession</span> <span class="o">*</span><span class="n">session</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURLSession</span> <span class="nf">sharedSession</span><span class="p">];</span>
<span class="n">NSURLSessionDataTask</span> <span class="o">*</span><span class="n">task</span> <span class="o">=</span> <span class="p">[</span><span class="n">session</span> <span class="nf">dataTaskWithRequest</span><span class="p">:</span><span class="n">request</span>
                                        <span class="nf">completionHandler</span><span class="p">:</span>
                              <span class="o">^</span><span class="p">(</span><span class="n">NSData</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="n">NSURLResponse</span> <span class="o">*</span><span class="n">response</span><span class="p">,</span> <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>

                                  <span class="k">if</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
                                      <span class="c1">// Handle error...
</span>                                      <span class="k">return</span><span class="p">;</span>
                                  <span class="p">}</span>

                                  <span class="k">if</span> <span class="p">([</span><span class="n">response</span> <span class="nf">isKindOfClass</span><span class="p">:[</span><span class="n">NSHTTPURLResponse</span> <span class="nf">class</span><span class="p">]])</span> <span class="p">{</span>
                                      <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response HTTP Status code: %ld</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="p">(</span><span class="kt">long</span><span class="p">)[(</span><span class="n">NSHTTPURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="n">response</span> <span class="nf">statusCode</span><span class="p">]);</span>
                                      <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response HTTP Headers:</span><span class="se">\n</span><span class="s">%@</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="p">[(</span><span class="n">NSHTTPURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="n">response</span> <span class="nf">allHeaderFields</span><span class="p">]);</span>
                                  <span class="p">}</span>

                                  <span class="n">NSString</span><span class="o">*</span> <span class="n">body</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSString</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithData</span><span class="p">:</span><span class="n">data</span> <span class="nf">encoding</span><span class="p">:</span><span class="n">NSUTF8StringEncoding</span><span class="p">];</span>
                                  <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response Body:</span><span class="se">\n</span><span class="s">%@</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">);</span>
                              <span class="p">}];</span>
<span class="p">[</span><span class="n">task</span> <span class="nf">resume</span><span class="p">];</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="c1">// NOTE: Uncommment following two lines for use in a Playground</span>
<span class="c1">// import PlaygroundSupport</span>
<span class="c1">// PlaygroundPage.current.needsIndefiniteExecution = true</span>

<span class="k">let</span> <span class="nv">url</span> <span class="o">=</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"https://topups.reloadly.com/operators/auto-detect/phone/+50936377111/country-code/HT?&amp;includeBundles=true"</span><span class="p">)</span><span class="o">!</span>
<span class="k">var</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">URLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Accept"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Authorization"</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">task</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span><span class="p">)</span> <span class="p">{</span> <span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span> <span class="k">in</span>
  <span class="k">if</span> <span class="k">let</span> <span class="nv">response</span> <span class="o">=</span> <span class="n">response</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">if</span> <span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">,</span> <span class="k">let</span> <span class="nv">body</span> <span class="o">=</span> <span class="kt">String</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="n">data</span><span class="p">,</span> <span class="nv">encoding</span><span class="p">:</span> <span class="o">.</span><span class="n">utf8</span><span class="p">)</span> <span class="p">{</span>
      <span class="nf">print</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span> <span class="p">??</span> <span class="s">"Unknown error"</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">task</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
</code></pre>
<h4>
<p>Response</p>
</h4>
<pre class="highlight plaintext"><code>200
</code></pre>
<h4>
<p>Headers</p>
</h4>
<pre class="highlight plaintext"><code>Content-Type: application/json
</code></pre>
<h4>
<p>Body
<code>
{
  &quot;operatorId&quot;: 173,
  &quot;name&quot;: &quot;Digicel Haiti&quot;,
  &quot;countryCode&quot;: &quot;HT&quot;,
  &quot;status&quot;: true,
  &quot;defaultCommissionPercentage&quot;: 15,
  &quot;bundle&quot;: false
}
</code></p>

<p>Body Schema</p>
</h4>

<h4 class="parameter-section col">
    <div class="row">
        <span class="col-5">
            <span class="name">operatorId</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">The Id of the Operator.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">name</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">The name of the Operator.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">status</span>
            <span class="tag color--pink">boolean</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Current status of this operator (active or inactive) on the platform.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">bundle</span>
            <span class="tag color--pink">boolean</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Whether the operator is a prepaid data bundle. Prepaid bundles are a mixture of calls, data, SMS and social media access which the users can purchase other than airtime credits.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">commission</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Commission offered by the Operator.</span>
    </div>
</h4>
<h2 id='retrieve-fx-rate-for-a-given-operator-id'>Retrieve FX Rate for a given operator id</h2>
<p>*Endpoint : <code>/operators/fx-rate</code></p>

<h4>
<p>Operators Collection/List available operators by (ISO Alpha-2) country code</p>
</h4>
<pre class="highlight plaintext"><code>POST : https://topups.reloadly.com/operators/fx-rate
</code></pre>
<h4>
<p>Parameters</p>
</h4>

<h4 class="parameter-section col">
    <div class="row">
        <span class="col-5">
            <span class="name">operatorId</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Operator Id.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">countryCode</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">ISO 3166-1 alpha-2 Country code.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">amount</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">The amount fx rate.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">Authorization</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Endpoint requires Authentication token in header.</span>
    </div>
</h4>

<h4>
<p>Code Block</p>
</h4>
<pre class="highlight shell tab-shell"><code>curl --include <span class="se">\</span>
     --request POST <span class="se">\</span>
     --header <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
     --header <span class="s2">"Accept: application/com.reloadly.topups-v1+json"</span> <span class="se">\</span>
     --header <span class="s2">"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span> <span class="se">\</span>
     --data-binary <span class="s2">"{
  </span><span class="se">\"</span><span class="s2">operatorId</span><span class="se">\"</span><span class="s2">: 0,
  </span><span class="se">\"</span><span class="s2">currencyCode</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">string</span><span class="se">\"</span><span class="s2">,
  </span><span class="se">\"</span><span class="s2">amount</span><span class="se">\"</span><span class="s2">: 0
}"</span> <span class="se">\</span>
<span class="s1">'https://topups.reloadly.com/operators/fx-rate'</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// Maven : Add these dependecies to your pom.xml (java6+)</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>

<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Client</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.ClientBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.Response</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.MediaType</span><span class="o">;</span>

<span class="n">Client</span> <span class="n">client</span> <span class="o">=</span> <span class="n">ClientBuilder</span><span class="o">.</span><span class="na">newClient</span><span class="o">();</span>
<span class="n">Entity</span> <span class="n">payload</span> <span class="o">=</span> <span class="n">Entity</span><span class="o">.</span><span class="na">json</span><span class="o">(</span><span class="s">"{
    \"operatorId\": 0,
    \"currencyCode\": \"string\",
    \"amount\": 0
}"</span><span class="o">);</span>
<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="s">"https://topups.reloadly.com/operators/fx-rate
"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">request</span><span class="o">(</span><span class="n">MediaType</span><span class="o">.</span><span class="na">APPLICATION_JSON_TYPE</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">payload</span><span class="o">);</span>

<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"status: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getStatus</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"headers: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getHeaders</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"body:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">readEntity</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">));</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">,</span> <span class="s1">'https://topups.reloadly.com/operators/fx-rate'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Content-Type'</span><span class="p">,</span> <span class="s1">'application/json'</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Accept'</span><span class="p">,</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Authorization'</span><span class="p">,</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">===</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Status:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Headers:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAllResponseHeaders</span><span class="p">());</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Body:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">responseText</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'operatorId'</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
  <span class="s1">'currencyCode'</span><span class="p">:</span> <span class="s1">'string'</span><span class="p">,</span>
  <span class="s1">'amount'</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">body</span><span class="p">));</span>
</code></pre><pre class="highlight julia tab-julia"><code><span class="n">var</span> <span class="n">request</span> <span class="o">=</span> <span class="n">require</span><span class="x">(</span><span class="err">'</span><span class="n">request</span><span class="err">'</span><span class="x">);</span>

<span class="n">request</span><span class="x">({</span>
  <span class="n">method</span><span class="x">:</span> <span class="err">'</span><span class="n">POST</span><span class="err">'</span><span class="x">,</span>
  <span class="n">url</span><span class="x">:</span> <span class="err">'</span><span class="n">https</span><span class="x">:</span><span class="o">//</span><span class="n">topups</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">operators</span><span class="o">/</span><span class="n">fx</span><span class="o">-</span><span class="n">rate</span>
<span class="err">'</span><span class="x">,</span>
  <span class="n">headers</span><span class="x">:</span> <span class="x">{</span>
    <span class="err">'</span><span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">application</span><span class="o">/</span><span class="n">json</span><span class="err">'</span><span class="x">,</span>
    <span class="err">'</span><span class="n">Accept</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">application</span><span class="o">/</span><span class="n">com</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">topups</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="err">'</span><span class="x">,</span>
    <span class="err">'</span><span class="n">Authorization</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">Bearer</span> <span class="n">eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa</span><span class="err">'</span>
  <span class="x">},</span>
  <span class="n">body</span><span class="x">:</span> <span class="s">"{
  </span><span class="se">\"</span><span class="s">operatorId</span><span class="se">\"</span><span class="s">: 0,
  </span><span class="se">\"</span><span class="s">currencyCode</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">string</span><span class="se">\"</span><span class="s">,
  </span><span class="se">\"</span><span class="s">amount</span><span class="se">\"</span><span class="s">: 0
}"</span>
<span class="x">},</span> <span class="k">function</span><span class="nf"> </span><span class="o">(</span><span class="nb">error</span><span class="x">,</span> <span class="n">response</span><span class="x">,</span> <span class="n">body</span><span class="x">)</span> <span class="x">{</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Status</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">response</span><span class="o">.</span><span class="n">statusCode</span><span class="x">);</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Headers</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">JSON</span><span class="o">.</span><span class="n">stringify</span><span class="x">(</span><span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="x">));</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Response</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">body</span><span class="x">);</span>
<span class="x">});</span>
</code></pre><pre class="highlight perl tab-perl"><code><span class="nv">$ENV</span><span class="p">{</span><span class="s">'PERL_LWP_SSL_VERIFY_HOSTNAME'</span><span class="p">}</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">strict</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">warnings</span><span class="p">;</span>
<span class="k">use</span> <span class="mf">5.010</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">Cpanel::JSON::</span><span class="nv">XS</span> <span class="sx">qw(encode_json decode_json)</span><span class="p">;</span>

<span class="k">my</span> <span class="nv">$ua</span>   <span class="o">=</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="o">-&gt;</span><span class="k">new</span><span class="p">;</span>
<span class="k">my</span> <span class="nv">$jsonData</span> <span class="o">=</span> <span class="s">'{
  "operatorId": 0,
  "currencyCode": "string",
  "amount": 0
}'</span><span class="p">;</span>
<span class="k">my</span> <span class="nv">$data</span> <span class="o">=</span> <span class="nv">decode_json</span> <span class="nv">$jsonData</span><span class="p">;</span>

<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Content-Type"</span> <span class="o">=&gt;</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Accept"</span> <span class="o">=&gt;</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>
<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Authorization"</span> <span class="o">=&gt;</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>

<span class="k">my</span> <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">post</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/operators/fx-rate
"</span><span class="p">,</span> <span class="nv">Content</span> <span class="o">=&gt;</span> <span class="nv">$data</span><span class="p">);</span>

<span class="k">print</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nv">as_string</span><span class="p">;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">urllib2</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>

<span class="n">values</span> <span class="o">=</span> <span class="s">"""
{
  "operatorId": 0,
  "currencyCode": "string",
  "amount": 0
}"""</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="s">'https://topups.reloadly.com/operators/fx-rate</span><span class="err">
</span><span class="s">'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">values</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="n">response_body</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span> <span class="n">response_body</span>
</code></pre><pre class="highlight php tab-php"><code>

<span class="cp">&lt;?php</span>
<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="s2">"https://topups.reloadly.com/operators/fx-rate"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="k">TRUE</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="k">FALSE</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="k">TRUE</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">\</span><span class="s2">"operatorId</span><span class="se">\"</span><span class="s2">: 0,
  </span><span class="se">\"</span><span class="s2">currencyCode</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">string</span><span class="se">\"</span><span class="s2">,
  </span><span class="se">\"</span><span class="s2">amount</span><span class="se">\"</span><span class="s2">: 0
});

curl_setopt(</span><span class="nv">$ch</span><span class="s2">, CURLOPT_HTTPHEADER, array(
  "</span><span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="o">:</span> <span class="nx">application</span><span class="o">/</span><span class="nx">json</span><span class="s2">",
  "</span><span class="nx">Accept</span><span class="o">:</span> <span class="nx">application</span><span class="o">/</span><span class="nx">com</span><span class="o">.</span><span class="nx">reloadly</span><span class="o">.</span><span class="nx">topups</span><span class="o">-</span><span class="nx">v1</span><span class="o">+</span><span class="nx">json</span><span class="s2">",
  "</span><span class="nx">Authorization</span><span class="o">:</span> <span class="nx">Bearer</span> <span class="nx">eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa</span><span class="s2">"
));

</span><span class="nv">$response</span><span class="s2"> = curl_exec(</span><span class="nv">$ch</span><span class="s2">);
curl_close(</span><span class="nv">$ch</span><span class="s2">);

var_dump(</span><span class="nv">$response</span><span class="s2">);

</span></code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rubygems'</span> <span class="k">if</span> <span class="no">RUBY_VERSION</span> <span class="o">&lt;</span> <span class="s1">'1.9'</span>
<span class="nb">require</span> <span class="s1">'rest_client'</span>

<span class="n">values</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"operatorId"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s2">"currencyCode"</span><span class="p">:</span> <span class="s2">"string"</span><span class="p">,</span>
  <span class="s2">"amount"</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">}</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:content_type</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="ss">:accept</span> <span class="o">=&gt;</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="ss">:authorization</span> <span class="o">=&gt;</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">post</span> <span class="s1">'https://topups.reloadly.com/operators/fx-rate
'</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="n">headers</span>
<span class="nb">puts</span> <span class="n">response</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
    </span><span class="s">"bytes"</span><span class="x">
    </span><span class="s">"fmt"</span><span class="x">
    </span><span class="s">"io/ioutil"</span><span class="x">
    </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">

    </span><span class="n">body</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="p">[]</span><span class="kt">byte</span><span class="p">({</span><span class="err">\</span><span class="n">n</span><span class="x">  </span><span class="err">\</span><span class="s">"operatorId</span><span class="se">\"</span><span class="s">: 0,</span><span class="se">\n</span><span class="s">  </span><span class="se">\"</span><span class="s">currencyCode</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">string</span><span class="se">\"</span><span class="s">,</span><span class="se">\n</span><span class="s">  </span><span class="se">\"</span><span class="s">amount</span><span class="se">\"</span><span class="s">: 0</span><span class="se">\n</span><span class="s">})

    req, _ := http.NewRequest("</span><span class="n">POST</span><span class="s">", "</span><span class="n">https</span><span class="o">:</span><span class="c">//topups.reloadly.com/operators/fx-rate</span><span class="x">
</span><span class="s">", bytes.NewBuffer(body))

    req.Header.Add("</span><span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="s">", "</span><span class="n">application</span><span class="o">/</span><span class="n">json</span><span class="s">")
    req.Header.Add("</span><span class="n">Accept</span><span class="s">", "</span><span class="n">application</span><span class="o">/</span><span class="n">com</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">topups</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="s">")
    req.Header.Add("</span><span class="n">Authorization</span><span class="s">", "</span><span class="n">Bearer</span><span class="x"> </span><span class="n">eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa</span><span class="s">")

    resp, err := client.Do(req)

    if err != nil {
        fmt.Println("</span><span class="n">Errored</span><span class="x"> </span><span class="n">when</span><span class="x"> </span><span class="n">sending</span><span class="x"> </span><span class="n">request</span><span class="x"> </span><span class="n">to</span><span class="x"> </span><span class="n">the</span><span class="x"> </span><span class="n">server</span><span class="s">")
        return
    }

    defer resp.Body.Close()
    resp_body, _ := ioutil.ReadAll(resp.Body)

    fmt.Println(resp.Status)
    fmt.Println(string(resp_body))
}
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="c1">//Common testing requirement. If you are consuming an API in a sandbox/test region, uncomment this line of code ONLY for non production uses.</span>
<span class="c1">//System.Net.ServicePointManager.ServerCertificateValidationCallback = delegate { return true; };</span>

<span class="c1">//Be sure to run "Install-Package Microsoft.Net.Http" from your nuget command line.</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Net.Http</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">baseAddress</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Uri</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/"</span><span class="p">);</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">httpClient</span> <span class="p">=</span> <span class="k">new</span> <span class="n">HttpClient</span><span class="p">{</span> <span class="n">BaseAddress</span> <span class="p">=</span> <span class="n">baseAddress</span> <span class="p">})</span>
<span class="p">{</span>


  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"accept"</span><span class="p">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>

  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>

    <span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">content</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StringContent</span><span class="p">(</span><span class="s">"{
</span>  <span class="err">\</span><span class="s">"operatorId\": 0,
</span>  <span class="err">\</span><span class="s">"currencyCode\": \"string\",
</span>  <span class="err">\</span><span class="s">"amount\": 0
</span><span class="p">}</span><span class="s">", System.Text.Encoding.Default, "</span><span class="n">application</span><span class="p">/</span><span class="n">json</span><span class="s">"))
</span>    <span class="p">{</span>
      <span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">await</span> <span class="n">httpClient</span><span class="p">.</span><span class="nf">PostAsync</span><span class="p">(</span><span class="s">"operators/fx-rate"</span><span class="p">,</span> <span class="n">content</span><span class="p">))</span>
      <span class="p">{</span>
        <span class="kt">string</span> <span class="n">responseData</span> <span class="p">=</span> <span class="k">await</span> <span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="nf">ReadAsStringAsync</span><span class="p">();</span>
      <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight vb tab-vb"><code><span class="k">Dim</span> <span class="nv">request</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">WebRequest</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/operators/fx-rate
"</span><span class="p">),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebRequest</span><span class="p">)</span>

<span class="n">request</span><span class="p">.</span><span class="n">Method</span> <span class="o">=</span> <span class="s">"POST"</span>

<span class="n">request</span><span class="p">.</span><span class="n">ContentType</span> <span class="o">=</span> <span class="s">"application/json"</span>
<span class="n">request</span><span class="p">.</span><span class="n">Accept</span> <span class="o">=</span> <span class="s">"application/com.reloadly.topups-v1+json"</span>

<span class="n">request</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">)</span>

<span class="k">Using</span> <span class="n">writer</span> <span class="o">=</span> <span class="k">New</span> <span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="n">StreamWriter</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">GetRequestStream</span><span class="p">())</span>
  <span class="k">Dim</span> <span class="nv">byteArray</span> <span class="ow">As</span> <span class="kt">Byte</span><span class="p">()</span> <span class="o">=</span> <span class="n">System</span><span class="p">.</span><span class="n">Text</span><span class="p">.</span><span class="n">Encoding</span><span class="p">.</span><span class="n">UTF8</span><span class="p">.</span><span class="n">GetBytes</span><span class="p">(</span><span class="s">"
  \</span><span class="se">""</span><span class="s">operatorId\</span><span class="se">""</span><span class="s">: 0,
  \</span><span class="se">""</span><span class="s">currencyCode\</span><span class="se">""</span><span class="s">: \</span><span class="se">""</span><span class="s">string\</span><span class="se">""</span><span class="s">,
  \</span><span class="se">""</span><span class="s">amount\</span><span class="se">""</span><span class="s">: 15
"</span><span class="p">)</span>
  <span class="n">request</span><span class="p">.</span><span class="n">ContentLength</span> <span class="o">=</span> <span class="n">byteArray</span><span class="p">.</span><span class="n">Length</span>
  <span class="n">writer</span><span class="p">.</span><span class="n">Write</span><span class="p">(</span><span class="n">byteArray</span><span class="p">)</span>
  <span class="n">writer</span><span class="p">.</span><span class="n">Close</span><span class="p">()</span>
<span class="k">End</span> <span class="k">Using</span>
<span class="k">Dim</span> <span class="nv">responseContent</span> <span class="ow">As</span> <span class="kt">String</span>
<span class="k">Using</span> <span class="n">response</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">GetResponse</span><span class="p">(),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebResponse</span><span class="p">)</span>
  <span class="k">Using</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">New</span> <span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="n">StreamReader</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">GetResponseStream</span><span class="p">())</span>
    <span class="n">responseContent</span> <span class="o">=</span> <span class="n">reader</span><span class="p">.</span><span class="n">ReadToEnd</span><span class="p">()</span>
  <span class="k">End</span> <span class="k">Using</span>
<span class="k">End</span> <span class="k">Using</span>
</code></pre><pre class="highlight groovy tab-groovy"><code><span class="kn">import</span> <span class="nn">groovyx.net.http.RESTClient</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">groovyx</span><span class="o">.</span><span class="na">net</span><span class="o">.</span><span class="na">http</span><span class="o">.</span><span class="na">ContentType</span><span class="o">.</span><span class="na">JSON</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonSlurper</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonOutput</span>

<span class="nd">@Grab</span> <span class="o">(</span><span class="n">group</span> <span class="o">=</span> <span class="s1">'org.codehaus.groovy.modules.http-builder'</span><span class="o">,</span> <span class="n">module</span> <span class="o">=</span> <span class="s1">'http-builder'</span><span class="o">,</span> <span class="n">version</span> <span class="o">=</span> <span class="s1">'0.5.0'</span><span class="o">)</span>
<span class="kt">def</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RESTClient</span><span class="o">(</span><span class="s2">"https://topups.reloadly.com"</span><span class="o">)</span>

<span class="kt">def</span> <span class="n">emptyHeaders</span> <span class="o">=</span> <span class="o">[:]</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Content-Type"</span> <span class="o">=</span> <span class="s2">"application/json"</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Accept"</span> <span class="o">=</span> <span class="s2">"application/com.reloadly.topups-v1+json"</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Authorization"</span> <span class="o">=</span> <span class="s2">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span>

<span class="kt">def</span> <span class="n">jsonObj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JsonSlurper</span><span class="o">().</span><span class="na">parseText</span><span class="o">({</span>
  <span class="s2">"operatorId"</span><span class="o">:</span> <span class="mi">0</span><span class="o">,</span>
  <span class="s2">"currencyCode"</span><span class="o">:</span> <span class="s2">"string"</span><span class="o">,</span>
  <span class="s2">"amount"</span><span class="o">:</span> <span class="mi">15</span>
<span class="o">})</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">post</span><span class="o">(</span> <span class="n">path</span> <span class="o">:</span> <span class="s2">"/operators/fx-rate"</span><span class="o">,</span>
                        <span class="n">body</span> <span class="o">:</span> <span class="n">jsonObj</span><span class="o">,</span>
                        <span class="nl">headers:</span> <span class="n">emptyHeaders</span><span class="o">,</span>
                        <span class="n">contentType</span> <span class="o">:</span> <span class="n">JSON</span> <span class="o">)</span>

<span class="n">println</span><span class="o">(</span><span class="s2">"Status:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">status</span><span class="o">)</span>

<span class="k">if</span> <span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Content Type: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">contentType</span><span class="o">)</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Body:\n"</span> <span class="o">+</span> <span class="n">JsonOutput</span><span class="o">.</span><span class="na">prettyPrint</span><span class="o">(</span><span class="n">JsonOutput</span><span class="o">.</span><span class="na">toJson</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)))</span>
<span class="o">}</span>
</code></pre><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSURL</span> <span class="o">*</span><span class="n">URL</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURL</span> <span class="nf">URLWithString</span><span class="p">:</span><span class="s">@"https://topups.reloadly.com/operators/fx-rate</span><span class="err">
</span><span class="s">"</span><span class="p">];</span>

<span class="n">NSMutableURLRequest</span> <span class="o">*</span><span class="n">request</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableURLRequest</span> <span class="nf">requestWithURL</span><span class="p">:</span><span class="n">URL</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setHTTPMethod</span><span class="p">:</span><span class="s">@"POST"</span><span class="p">];</span>

<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"application/json"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Content-Type"</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"application/com.reloadly.topups-v1+json"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Accept"</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Authorization"</span><span class="p">];</span>

<span class="p">[</span><span class="n">request</span> <span class="nf">setHTTPBody</span><span class="p">:[@{</span>
  <span class="err">\</span><span class="s">"operatorId</span><span class="se">\"</span><span class="s">: 0,</span><span class="err">
</span><span class="s">  </span><span class="se">\"</span><span class="s">currencyCode</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">string</span><span class="se">\"</span><span class="s">,</span><span class="err">
</span><span class="s">  </span><span class="se">\"</span><span class="s">amount</span><span class="se">\"</span><span class="s">: 15</span><span class="err">
</span><span class="s">} dataUsingEncoding:NSUTF8StringEncoding]];</span><span class="err">

</span><span class="s">NSURLSession *session = [NSURLSession sharedSession];</span><span class="err">
</span><span class="s">NSURLSessionDataTask *task = [session dataTaskWithRequest:request</span><span class="err">
</span><span class="s">                                        completionHandler:</span><span class="err">
</span><span class="s">                              ^(NSData *data, NSURLResponse *response, NSError *error) {</span><span class="err">

</span><span class="s">                                  if (error) {</span><span class="err">
</span><span class="s">                                      // Handle error...</span><span class="err">
</span><span class="s">                                      return;</span><span class="err">
</span><span class="s">                                  }</span><span class="err">

</span><span class="s">                                  if ([response isKindOfClass:[NSHTTPURLResponse class]]) {</span><span class="err">
</span><span class="s">                                      NSLog(@"</span><span class="n">Response</span> <span class="n">HTTP</span> <span class="n">Status</span> <span class="n">code</span><span class="o">:</span> <span class="o">%</span><span class="n">ld</span><span class="err">\</span><span class="n">n</span><span class="s">", (long)[(NSHTTPURLResponse *)response statusCode]);</span><span class="err">
</span><span class="s">                                      NSLog(@"</span><span class="n">Response</span> <span class="n">HTTP</span> <span class="n">Headers</span><span class="o">:</span><span class="err">\</span><span class="n">n</span><span class="o">%</span><span class="err">@\</span><span class="n">n</span><span class="s">", [(NSHTTPURLResponse *)response allHeaderFields]);</span><span class="err">
</span><span class="s">                                  }</span><span class="err">

</span><span class="s">                                  NSString* body = [[NSString alloc] initWithData:data encoding:NSUTF8StringEncoding];</span><span class="err">
</span><span class="s">                                  NSLog(@"</span><span class="n">Response</span> <span class="n">Body</span><span class="o">:</span><span class="err">\</span><span class="n">n</span><span class="o">%</span><span class="err">@\</span><span class="n">n</span><span class="s">", body);</span><span class="err">
</span><span class="s">                              }];</span><span class="err">
</span><span class="s">[task resume];</span><span class="err">
</span></code></pre><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="c1">// NOTE: Uncommment following two lines for use in a Playground</span>
<span class="c1">// import PlaygroundSupport</span>
<span class="c1">// PlaygroundPage.current.needsIndefiniteExecution = true</span>

<span class="k">let</span> <span class="nv">url</span> <span class="o">=</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"https://topups.reloadly.com/operators/fx-rate
"</span><span class="p">)</span><span class="o">!</span>
<span class="k">var</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">URLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">httpMethod</span> <span class="o">=</span> <span class="s">"POST"</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Content-Type"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Accept"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Authorization"</span><span class="p">)</span>

<span class="n">request</span><span class="o">.</span><span class="n">httpBody</span> <span class="o">=</span> <span class="s">"""
{
  </span><span class="se">\"</span><span class="s">operatorId</span><span class="se">\"</span><span class="s">: 0,
  </span><span class="se">\"</span><span class="s">currencyCode</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">string</span><span class="se">\"</span><span class="s">,
  </span><span class="se">\"</span><span class="s">amount</span><span class="se">\"</span><span class="s">: 15
}
"""</span><span class="o">.</span><span class="nf">data</span><span class="p">(</span><span class="nv">using</span><span class="p">:</span> <span class="o">.</span><span class="n">utf8</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">task</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span><span class="p">)</span> <span class="p">{</span> <span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span> <span class="k">in</span>
  <span class="k">if</span> <span class="k">let</span> <span class="nv">response</span> <span class="o">=</span> <span class="n">response</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">if</span> <span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">,</span> <span class="k">let</span> <span class="nv">body</span> <span class="o">=</span> <span class="kt">String</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="n">data</span><span class="p">,</span> <span class="nv">encoding</span><span class="p">:</span> <span class="o">.</span><span class="n">utf8</span><span class="p">)</span> <span class="p">{</span>
      <span class="nf">print</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span> <span class="p">??</span> <span class="s">"Unknown error"</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">task</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
</code></pre>
<h4>
<p>Response</p>
</h4>
<pre class="highlight plaintext"><code>200
</code></pre>
<h4>
<p>Headers</p>
</h4>
<pre class="highlight plaintext"><code>Content-Type: application/json
</code></pre>
<h4>
<p>Body</p>
</h4>
<pre class="highlight plaintext"><code>{
  "id": 0,
  "name": "string",
  "fxRate": 0,
  "currencyCode": "string"
}
</code></pre>
<h4>
<p>Body Schema</p>
</h4>

<h4 class="parameter-section col">
    <div class="row">
        <span class="col-5">
            <span class="name">id</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Operator Id.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">name</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Operator name.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">fxRate</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">The FX Rate for the inputed amount.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">currencyCode</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">ISO-4217 3 letter currency code.</span>
    </div>
</h4>
<h2 id='list-available-operators-by-iso-alpha-2-country-code'>List available operators by (ISO Alpha-2) country code</h2>
<p>*Endpoint : <code>/operators/countries/{countryIsoCode}</code></p>

<h4>
<p>Operators Collection/List available operators by (ISO Alpha-2) country code</p>
</h4>
<pre class="highlight plaintext"><code>GET : https://topups.reloadly.com/operators/countries/HT
</code></pre>
<h4>
<p>Parameters</p>
</h4>

<h4 class="parameter-section col">
    <div class="row">
        <span class="col-5">
            <span class="name">countryCode</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">ISO 3166-1 alpha-2 Country code.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">suggestedAmounts</span>
            <span class="tag color--pink">boolean</span>
            <span class="require">(optional)</span>
        </span>
        <span class="col-7">Whether to return the suggestedAmounts field on the Operator resource.Default value : false</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">suggestedAmountsMap</span>
            <span class="tag color--pink">boolean</span>
            <span class="require">(optional)</span>
        </span>
        <span class="col-7">Whether to return the suggestedAmountsMap field on the Operator resource.Default value : false</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">includeBundles</span>
            <span class="tag color--pink">boolean</span>
            <span class="require">(optional)</span>
        </span>
        <span class="col-7">Whether to include airtime/data bundles in the operators resources list.Default value : true</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">Authorization</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Endpoint requires Authentication token in header.</span>
    </div>
</h4>

<h4>
<p>Code Block</p>
</h4>
<pre class="highlight shell tab-shell"><code>curl --include <span class="se">\</span>
     --header <span class="s2">"Accept: application/com.reloadly.topups-v1+json"</span> <span class="se">\</span>
     --header <span class="s2">"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span> <span class="se">\</span>
  <span class="s1">'https://topups.reloadly.com/operators/countries/HT'</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// Maven : Add these dependecies to your pom.xml (java6+)</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>

<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Client</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.ClientBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.Response</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.MediaType</span><span class="o">;</span>

<span class="n">Client</span> <span class="n">client</span> <span class="o">=</span> <span class="n">ClientBuilder</span><span class="o">.</span><span class="na">newClient</span><span class="o">();</span>
<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="s">"https://topups.reloadly.com/operators/countries/HT
"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">request</span><span class="o">(</span><span class="n">MediaType</span><span class="o">.</span><span class="na">TEXT_PLAIN_TYPE</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">();</span>

<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"status: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getStatus</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"headers: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getHeaders</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"body:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">readEntity</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">));</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span> <span class="s1">'https://topups.reloadly.com/operators/countries/HT'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Accept'</span><span class="p">,</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Authorization'</span><span class="p">,</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">===</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Status:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Headers:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAllResponseHeaders</span><span class="p">());</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Body:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">responseText</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">send</span><span class="p">();</span>
</code></pre><pre class="highlight julia tab-julia"><code><span class="n">var</span> <span class="n">request</span> <span class="o">=</span> <span class="n">require</span><span class="x">(</span><span class="err">'</span><span class="n">request</span><span class="err">'</span><span class="x">);</span>

<span class="n">request</span><span class="x">({</span>
  <span class="n">method</span><span class="x">:</span> <span class="err">'</span><span class="n">GET</span><span class="err">'</span><span class="x">,</span>
  <span class="n">url</span><span class="x">:</span> <span class="err">'</span><span class="n">https</span><span class="x">:</span><span class="o">//</span><span class="n">topups</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">operators</span><span class="o">/</span><span class="n">countries</span><span class="o">/</span><span class="n">HT</span>
<span class="err">'</span><span class="x">,</span>
  <span class="n">headers</span><span class="x">:</span> <span class="x">{</span>
    <span class="err">'</span><span class="n">Accept</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">application</span><span class="o">/</span><span class="n">com</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">topups</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="err">'</span><span class="x">,</span>
    <span class="err">'</span><span class="n">Authorization</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">Bearer</span> <span class="n">eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa</span><span class="err">'</span>
  <span class="x">}},</span> <span class="k">function</span><span class="nf"> </span><span class="o">(</span><span class="nb">error</span><span class="x">,</span> <span class="n">response</span><span class="x">,</span> <span class="n">body</span><span class="x">)</span> <span class="x">{</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Status</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">response</span><span class="o">.</span><span class="n">statusCode</span><span class="x">);</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Headers</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">JSON</span><span class="o">.</span><span class="n">stringify</span><span class="x">(</span><span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="x">));</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Response</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">body</span><span class="x">);</span>
<span class="x">});</span>
</code></pre><pre class="highlight perl tab-perl"><code><span class="nv">$ENV</span><span class="p">{</span><span class="s">'PERL_LWP_SSL_VERIFY_HOSTNAME'</span><span class="p">}</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">strict</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">warnings</span><span class="p">;</span>
<span class="k">use</span> <span class="mf">5.010</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">Cpanel::JSON::</span><span class="nv">XS</span> <span class="sx">qw(encode_json decode_json)</span><span class="p">;</span>

<span class="k">my</span> <span class="nv">$ua</span>   <span class="o">=</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="o">-&gt;</span><span class="k">new</span><span class="p">;</span>

<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Accept"</span> <span class="o">=&gt;</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>
<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Authorization"</span> <span class="o">=&gt;</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>

<span class="k">my</span> <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">get</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/operators/countries/HT
"</span><span class="p">);</span>

<span class="k">print</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nv">as_string</span><span class="p">;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">urllib2</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="s">'https://topups.reloadly.com/operators/countries/HT</span><span class="err">
</span><span class="s">'</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="n">response_body</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span> <span class="n">response_body</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="s2">"https://topups.reloadly.com/operators/countries/HT
"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="k">TRUE</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="k">FALSE</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"Accept: application/com.reloadly.topups-v1+json"</span><span class="p">,</span>
  <span class="s2">"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$response</span><span class="p">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rubygems'</span> <span class="k">if</span> <span class="no">RUBY_VERSION</span> <span class="o">&lt;</span> <span class="s1">'1.9'</span>
<span class="nb">require</span> <span class="s1">'rest_client'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:accept</span> <span class="o">=&gt;</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="ss">:authorization</span> <span class="o">=&gt;</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="s1">'https://topups.reloadly.com/operators/countries/HT
'</span><span class="p">,</span> <span class="n">headers</span>
<span class="nb">puts</span> <span class="n">response</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
    </span><span class="s">"fmt"</span><span class="x">
    </span><span class="s">"io/ioutil"</span><span class="x">
    </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">

    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://topups.reloadly.com/operators/countries/HT
"</span><span class="p">,</span><span class="x"> </span><span class="no">nil</span><span class="p">)</span><span class="x">

    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"Accept"</span><span class="p">,</span><span class="x"> </span><span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"Authorization"</span><span class="p">,</span><span class="x"> </span><span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">)</span><span class="x">

    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">

    </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Errored when sending request to the server"</span><span class="p">)</span><span class="x">
        </span><span class="k">return</span><span class="x">
    </span><span class="p">}</span><span class="x">

    </span><span class="k">defer</span><span class="x"> </span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span><span class="x">
    </span><span class="n">resp_body</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span><span class="x">

    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Status</span><span class="p">)</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="kt">string</span><span class="p">(</span><span class="n">resp_body</span><span class="p">))</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="c1">//Common testing requirement. If you are consuming an API in a sandbox/test region, uncomment this line of code ONLY for non production uses.</span>
<span class="c1">//System.Net.ServicePointManager.ServerCertificateValidationCallback = delegate { return true; };</span>

<span class="c1">//Be sure to run "Install-Package Microsoft.Net.Http" from your nuget command line.</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Net.Http</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">baseAddress</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Uri</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/"</span><span class="p">);</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">httpClient</span> <span class="p">=</span> <span class="k">new</span> <span class="n">HttpClient</span><span class="p">{</span> <span class="n">BaseAddress</span> <span class="p">=</span> <span class="n">baseAddress</span> <span class="p">})</span>
<span class="p">{</span>

  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"accept"</span><span class="p">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>

  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>

  <span class="k">using</span><span class="p">(</span><span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">await</span> <span class="n">httpClient</span><span class="p">.</span><span class="nf">GetAsync</span><span class="p">(</span><span class="s">"operators?page=1&amp;size=3&amp;suggestedAmounts=true&amp;suggestedAmountsMap=true&amp;includeBundles=true"</span><span class="p">))</span>
  <span class="p">{</span>

        <span class="kt">string</span> <span class="n">responseData</span> <span class="p">=</span> <span class="k">await</span> <span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="nf">ReadAsStringAsync</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight vb tab-vb"><code><span class="k">Dim</span> <span class="nv">request</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">WebRequest</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/operators/countries/HT
"</span><span class="p">),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebRequest</span><span class="p">)</span>

<span class="n">request</span><span class="p">.</span><span class="n">Method</span> <span class="o">=</span> <span class="s">"GET"</span>

<span class="n">request</span><span class="p">.</span><span class="n">Accept</span> <span class="o">=</span> <span class="s">"application/com.reloadly.topups-v1+json"</span>

<span class="n">request</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">)</span>

<span class="n">request</span><span class="p">.</span><span class="n">ContentLength</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">Dim</span> <span class="nv">responseContent</span> <span class="ow">As</span> <span class="kt">String</span>
<span class="k">Using</span> <span class="n">response</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">GetResponse</span><span class="p">(),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebResponse</span><span class="p">)</span>
  <span class="k">Using</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">New</span> <span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="n">StreamReader</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">GetResponseStream</span><span class="p">())</span>
    <span class="n">responseContent</span> <span class="o">=</span> <span class="n">reader</span><span class="p">.</span><span class="n">ReadToEnd</span><span class="p">()</span>
  <span class="k">End</span> <span class="k">Using</span>
<span class="k">End</span> <span class="k">Using</span>
</code></pre><pre class="highlight groovy tab-groovy"><code><span class="kn">import</span> <span class="nn">groovyx.net.http.RESTClient</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">groovyx</span><span class="o">.</span><span class="na">net</span><span class="o">.</span><span class="na">http</span><span class="o">.</span><span class="na">ContentType</span><span class="o">.</span><span class="na">JSON</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonSlurper</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonOutput</span>

<span class="nd">@Grab</span> <span class="o">(</span><span class="n">group</span> <span class="o">=</span> <span class="s1">'org.codehaus.groovy.modules.http-builder'</span><span class="o">,</span> <span class="n">module</span> <span class="o">=</span> <span class="s1">'http-builder'</span><span class="o">,</span> <span class="n">version</span> <span class="o">=</span> <span class="s1">'0.5.0'</span><span class="o">)</span>
<span class="kt">def</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RESTClient</span><span class="o">(</span><span class="s2">"https://topups.reloadly.com"</span><span class="o">)</span>

<span class="kt">def</span> <span class="n">emptyHeaders</span> <span class="o">=</span> <span class="o">[:]</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Accept"</span> <span class="o">=</span> <span class="s2">"application/com.reloadly.topups-v1+json"</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Authorization"</span> <span class="o">=</span> <span class="s2">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">get</span><span class="o">(</span> <span class="n">path</span> <span class="o">:</span> <span class="s2">"/operators?page=1&amp;size=3&amp;suggestedAmounts=true&amp;suggestedAmountsMap=true&amp;includeBundles=true"</span><span class="o">,</span> <span class="nl">headers:</span> <span class="n">emptyHeaders</span> <span class="o">)</span>

<span class="n">println</span><span class="o">(</span><span class="s2">"Status:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">status</span><span class="o">)</span>

<span class="k">if</span> <span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Content Type: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">contentType</span><span class="o">)</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Body:\n"</span> <span class="o">+</span> <span class="n">JsonOutput</span><span class="o">.</span><span class="na">prettyPrint</span><span class="o">(</span><span class="n">JsonOutput</span><span class="o">.</span><span class="na">toJson</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)))</span>
<span class="o">}</span>
</code></pre><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSURL</span> <span class="o">*</span><span class="n">URL</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURL</span> <span class="nf">URLWithString</span><span class="p">:</span><span class="s">@"https://topups.reloadly.com/operators/countries/HT</span><span class="err">
</span><span class="s">"</span><span class="p">];</span>

<span class="n">NSMutableURLRequest</span> <span class="o">*</span><span class="n">request</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableURLRequest</span> <span class="nf">requestWithURL</span><span class="p">:</span><span class="n">URL</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setHTTPMethod</span><span class="p">:</span><span class="s">@"GET"</span><span class="p">];</span>

<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"application/com.reloadly.topups-v1+json"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Accept"</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Authorization"</span><span class="p">];</span>

<span class="n">NSURLSession</span> <span class="o">*</span><span class="n">session</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURLSession</span> <span class="nf">sharedSession</span><span class="p">];</span>
<span class="n">NSURLSessionDataTask</span> <span class="o">*</span><span class="n">task</span> <span class="o">=</span> <span class="p">[</span><span class="n">session</span> <span class="nf">dataTaskWithRequest</span><span class="p">:</span><span class="n">request</span>
                                        <span class="nf">completionHandler</span><span class="p">:</span>
                              <span class="o">^</span><span class="p">(</span><span class="n">NSData</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="n">NSURLResponse</span> <span class="o">*</span><span class="n">response</span><span class="p">,</span> <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>

                                  <span class="k">if</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
                                      <span class="c1">// Handle error...
</span>                                      <span class="k">return</span><span class="p">;</span>
                                  <span class="p">}</span>

                                  <span class="k">if</span> <span class="p">([</span><span class="n">response</span> <span class="nf">isKindOfClass</span><span class="p">:[</span><span class="n">NSHTTPURLResponse</span> <span class="nf">class</span><span class="p">]])</span> <span class="p">{</span>
                                      <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response HTTP Status code: %ld</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="p">(</span><span class="kt">long</span><span class="p">)[(</span><span class="n">NSHTTPURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="n">response</span> <span class="nf">statusCode</span><span class="p">]);</span>
                                      <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response HTTP Headers:</span><span class="se">\n</span><span class="s">%@</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="p">[(</span><span class="n">NSHTTPURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="n">response</span> <span class="nf">allHeaderFields</span><span class="p">]);</span>
                                  <span class="p">}</span>

                                  <span class="n">NSString</span><span class="o">*</span> <span class="n">body</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSString</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithData</span><span class="p">:</span><span class="n">data</span> <span class="nf">encoding</span><span class="p">:</span><span class="n">NSUTF8StringEncoding</span><span class="p">];</span>
                                  <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response Body:</span><span class="se">\n</span><span class="s">%@</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">);</span>
                              <span class="p">}];</span>
<span class="p">[</span><span class="n">task</span> <span class="nf">resume</span><span class="p">];</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="c1">// NOTE: Uncommment following two lines for use in a Playground</span>
<span class="c1">// import PlaygroundSupport</span>
<span class="c1">// PlaygroundPage.current.needsIndefiniteExecution = true</span>

<span class="k">let</span> <span class="nv">url</span> <span class="o">=</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"https://topups.reloadly.com/operators/countries/HT
"</span><span class="p">)</span><span class="o">!</span>
<span class="k">var</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">URLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Accept"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Authorization"</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">task</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span><span class="p">)</span> <span class="p">{</span> <span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span> <span class="k">in</span>
  <span class="k">if</span> <span class="k">let</span> <span class="nv">response</span> <span class="o">=</span> <span class="n">response</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">if</span> <span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">,</span> <span class="k">let</span> <span class="nv">body</span> <span class="o">=</span> <span class="kt">String</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="n">data</span><span class="p">,</span> <span class="nv">encoding</span><span class="p">:</span> <span class="o">.</span><span class="n">utf8</span><span class="p">)</span> <span class="p">{</span>
      <span class="nf">print</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span> <span class="p">??</span> <span class="s">"Unknown error"</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">task</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
</code></pre>
<h4>
<p>Response</p>
</h4>
<pre class="highlight plaintext"><code>200
</code></pre>
<h4>
<p>Headers</p>
</h4>
<pre class="highlight plaintext"><code>Content-Type: application/json
</code></pre>
<h4>
<p>Body</p>
</h4>
<pre class="highlight plaintext"><code>[
  {
    "operatorId": 173,
    "name": "Digicel Haiti",
    "countryCode": "HT",
    "status": true,
    "defaultCommissionPercentage": 15,
    "bundle": false
  },
  {
    "operatorId": 174,
    "name": "Natcom Haiti",
    "countryCode": "HT",
    "status": true,
    "defaultCommissionPercentage": 12,
    "bundle": false
  }
]
</code></pre>
<h4>
<p>Body Schema</p>
</h4>

<h4 class="parameter-section col">
    <div class="row">
        <span class="col-5">
            <span class="name">operatorId</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">The Id of the Operator.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">name</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">The name of the Operator.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">status</span>
            <span class="tag color--pink">boolean</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Current status of this operator (active or inactive) on the platform.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">bundle</span>
            <span class="tag color--pink">boolean</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Whether the operator is a prepaid data bundle. Prepaid bundles are a mixture of calls, data, SMS and social media access which the users can purchase other than airtime credits.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">commission</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Commission offered by the Operator.</span>
    </div>
</h4>
<h1 id='promotions-collection'>Promotions Collection</h1><h2 id='list-all-topup-operators-promotions'>List all topup operators promotions</h2>
<h4>
<p>Promotions Collection/List all topup operators promotions</p>
</h4>
<pre class="highlight plaintext"><code>GET : https://topups.reloadly.com/promotions?page=1&amp;size=3
</code></pre>
<h4>
<p>Parameters</p>
</h4>

<h4 class="parameter-section col">
    <div class="row">
        <span class="col-5">
            <span class="name">page</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(optional)</span>
        </span>
        <span class="col-7">The page number. Default : 1</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">size</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(optional)</span>
        </span>
        <span class="col-7">The number of entries on each page.Default value : 20</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">Authorization</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Endpoint requires Authentication token in header.</span>
    </div>
</h4>

<h4>
<p>Code Block</p>
</h4>
<pre class="highlight shell tab-shell"><code>curl --include <span class="se">\</span>
     --header <span class="s2">"Accept: application/com.reloadly.topups-v1+json"</span> <span class="se">\</span>
     --header <span class="s2">"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span> <span class="se">\</span>
  <span class="s1">'https://topups.reloadly.com/promotions?page=1&amp;size=3'</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// Maven : Add these dependecies to your pom.xml (java6+)</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>

<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Client</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.ClientBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.Response</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.MediaType</span><span class="o">;</span>

<span class="n">Client</span> <span class="n">client</span> <span class="o">=</span> <span class="n">ClientBuilder</span><span class="o">.</span><span class="na">newClient</span><span class="o">();</span>
<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="s">"https://topups.reloadly.com/promotions?page=1&amp;size=3"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">request</span><span class="o">(</span><span class="n">MediaType</span><span class="o">.</span><span class="na">TEXT_PLAIN_TYPE</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">();</span>

<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"status: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getStatus</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"headers: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getHeaders</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"body:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">readEntity</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">));</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span> <span class="s1">'https://topups.reloadly.com/promotions?page=1&amp;size=3'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Accept'</span><span class="p">,</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Authorization'</span><span class="p">,</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">===</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Status:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Headers:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAllResponseHeaders</span><span class="p">());</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Body:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">responseText</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">send</span><span class="p">();</span>
</code></pre><pre class="highlight julia tab-julia"><code><span class="n">var</span> <span class="n">request</span> <span class="o">=</span> <span class="n">require</span><span class="x">(</span><span class="err">'</span><span class="n">request</span><span class="err">'</span><span class="x">);</span>

<span class="n">request</span><span class="x">({</span>
  <span class="n">method</span><span class="x">:</span> <span class="err">'</span><span class="n">GET</span><span class="err">'</span><span class="x">,</span>
  <span class="n">url</span><span class="x">:</span> <span class="err">'</span><span class="n">https</span><span class="x">:</span><span class="o">//</span><span class="n">topups</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">promotions</span><span class="o">?</span><span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="o">&amp;</span><span class="n">size</span><span class="o">=</span><span class="mi">3</span><span class="err">'</span><span class="x">,</span>
  <span class="n">headers</span><span class="x">:</span> <span class="x">{</span>
    <span class="err">'</span><span class="n">Accept</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">application</span><span class="o">/</span><span class="n">com</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">topups</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="err">'</span><span class="x">,</span>
    <span class="err">'</span><span class="n">Authorization</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">Bearer</span> <span class="n">eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa</span><span class="err">'</span>
  <span class="x">}},</span> <span class="k">function</span><span class="nf"> </span><span class="o">(</span><span class="nb">error</span><span class="x">,</span> <span class="n">response</span><span class="x">,</span> <span class="n">body</span><span class="x">)</span> <span class="x">{</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Status</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">response</span><span class="o">.</span><span class="n">statusCode</span><span class="x">);</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Headers</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">JSON</span><span class="o">.</span><span class="n">stringify</span><span class="x">(</span><span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="x">));</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Response</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">body</span><span class="x">);</span>
<span class="x">});</span>
</code></pre><pre class="highlight perl tab-perl"><code><span class="nv">$ENV</span><span class="p">{</span><span class="s">'PERL_LWP_SSL_VERIFY_HOSTNAME'</span><span class="p">}</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">strict</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">warnings</span><span class="p">;</span>
<span class="k">use</span> <span class="mf">5.010</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">Cpanel::JSON::</span><span class="nv">XS</span> <span class="sx">qw(encode_json decode_json)</span><span class="p">;</span>

<span class="k">my</span> <span class="nv">$ua</span>   <span class="o">=</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="o">-&gt;</span><span class="k">new</span><span class="p">;</span>

<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Accept"</span> <span class="o">=&gt;</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>
<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Authorization"</span> <span class="o">=&gt;</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>

<span class="k">my</span> <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">get</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/promotions?page=1&amp;size=3"</span><span class="p">);</span>

<span class="k">print</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nv">as_string</span><span class="p">;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">urllib2</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="s">'https://topups.reloadly.com/promotions?page=1&amp;size=3'</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="n">response_body</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span> <span class="n">response_body</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="s2">"https://topups.reloadly.com/promotions?page=1&amp;size=3"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="k">TRUE</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="k">FALSE</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"Accept: application/com.reloadly.topups-v1+json"</span><span class="p">,</span>
  <span class="s2">"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$response</span><span class="p">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rubygems'</span> <span class="k">if</span> <span class="no">RUBY_VERSION</span> <span class="o">&lt;</span> <span class="s1">'1.9'</span>
<span class="nb">require</span> <span class="s1">'rest_client'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:accept</span> <span class="o">=&gt;</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="ss">:authorization</span> <span class="o">=&gt;</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="s1">'https://topups.reloadly.com/promotions?page=1&amp;size=3'</span><span class="p">,</span> <span class="n">headers</span>
<span class="nb">puts</span> <span class="n">response</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
    </span><span class="s">"fmt"</span><span class="x">
    </span><span class="s">"io/ioutil"</span><span class="x">
    </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">

    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://topups.reloadly.com/promotions?page=1&amp;size=3"</span><span class="p">,</span><span class="x"> </span><span class="no">nil</span><span class="p">)</span><span class="x">

    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"Accept"</span><span class="p">,</span><span class="x"> </span><span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"Authorization"</span><span class="p">,</span><span class="x"> </span><span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">)</span><span class="x">

    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">

    </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Errored when sending request to the server"</span><span class="p">)</span><span class="x">
        </span><span class="k">return</span><span class="x">
    </span><span class="p">}</span><span class="x">

    </span><span class="k">defer</span><span class="x"> </span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span><span class="x">
    </span><span class="n">resp_body</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span><span class="x">

    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Status</span><span class="p">)</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="kt">string</span><span class="p">(</span><span class="n">resp_body</span><span class="p">))</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="c1">//Common testing requirement. If you are consuming an API in a sandbox/test region, uncomment this line of code ONLY for non production uses.</span>
<span class="c1">//System.Net.ServicePointManager.ServerCertificateValidationCallback = delegate { return true; };</span>

<span class="c1">//Be sure to run "Install-Package Microsoft.Net.Http" from your nuget command line.</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Net.Http</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">baseAddress</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Uri</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/"</span><span class="p">);</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">httpClient</span> <span class="p">=</span> <span class="k">new</span> <span class="n">HttpClient</span><span class="p">{</span> <span class="n">BaseAddress</span> <span class="p">=</span> <span class="n">baseAddress</span> <span class="p">})</span>
<span class="p">{</span>

  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"accept"</span><span class="p">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>

  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>

  <span class="k">using</span><span class="p">(</span><span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">await</span> <span class="n">httpClient</span><span class="p">.</span><span class="nf">GetAsync</span><span class="p">(</span><span class="s">"promotions?page=1&amp;size=3"</span><span class="p">))</span>
  <span class="p">{</span>

        <span class="kt">string</span> <span class="n">responseData</span> <span class="p">=</span> <span class="k">await</span> <span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="nf">ReadAsStringAsync</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight vb tab-vb"><code><span class="k">Dim</span> <span class="nv">request</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">WebRequest</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/promotions?page=1&amp;size=3"</span><span class="p">),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebRequest</span><span class="p">)</span>

<span class="n">request</span><span class="p">.</span><span class="n">Method</span> <span class="o">=</span> <span class="s">"GET"</span>

<span class="n">request</span><span class="p">.</span><span class="n">Accept</span> <span class="o">=</span> <span class="s">"application/com.reloadly.topups-v1+json"</span>

<span class="n">request</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">)</span>

<span class="n">request</span><span class="p">.</span><span class="n">ContentLength</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">Dim</span> <span class="nv">responseContent</span> <span class="ow">As</span> <span class="kt">String</span>
<span class="k">Using</span> <span class="n">response</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">GetResponse</span><span class="p">(),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebResponse</span><span class="p">)</span>
  <span class="k">Using</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">New</span> <span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="n">StreamReader</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">GetResponseStream</span><span class="p">())</span>
    <span class="n">responseContent</span> <span class="o">=</span> <span class="n">reader</span><span class="p">.</span><span class="n">ReadToEnd</span><span class="p">()</span>
  <span class="k">End</span> <span class="k">Using</span>
<span class="k">End</span> <span class="k">Using</span>
</code></pre><pre class="highlight groovy tab-groovy"><code><span class="kn">import</span> <span class="nn">groovyx.net.http.RESTClient</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">groovyx</span><span class="o">.</span><span class="na">net</span><span class="o">.</span><span class="na">http</span><span class="o">.</span><span class="na">ContentType</span><span class="o">.</span><span class="na">JSON</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonSlurper</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonOutput</span>

<span class="nd">@Grab</span> <span class="o">(</span><span class="n">group</span> <span class="o">=</span> <span class="s1">'org.codehaus.groovy.modules.http-builder'</span><span class="o">,</span> <span class="n">module</span> <span class="o">=</span> <span class="s1">'http-builder'</span><span class="o">,</span> <span class="n">version</span> <span class="o">=</span> <span class="s1">'0.5.0'</span><span class="o">)</span>
<span class="kt">def</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RESTClient</span><span class="o">(</span><span class="s2">"https://topups.reloadly.com"</span><span class="o">)</span>

<span class="kt">def</span> <span class="n">emptyHeaders</span> <span class="o">=</span> <span class="o">[:]</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Accept"</span> <span class="o">=</span> <span class="s2">"application/com.reloadly.topups-v1+json"</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Authorization"</span> <span class="o">=</span> <span class="s2">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">get</span><span class="o">(</span> <span class="n">path</span> <span class="o">:</span> <span class="s2">"/promotions?page=1&amp;size=3"</span><span class="o">,</span> <span class="nl">headers:</span> <span class="n">emptyHeaders</span> <span class="o">)</span>

<span class="n">println</span><span class="o">(</span><span class="s2">"Status:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">status</span><span class="o">)</span>

<span class="k">if</span> <span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Content Type: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">contentType</span><span class="o">)</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Body:\n"</span> <span class="o">+</span> <span class="n">JsonOutput</span><span class="o">.</span><span class="na">prettyPrint</span><span class="o">(</span><span class="n">JsonOutput</span><span class="o">.</span><span class="na">toJson</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)))</span>
<span class="o">}</span>
</code></pre><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSURL</span> <span class="o">*</span><span class="n">URL</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURL</span> <span class="nf">URLWithString</span><span class="p">:</span><span class="s">@"https://topups.reloadly.com/promotions?page=1&amp;size=3"</span><span class="p">];</span>

<span class="n">NSMutableURLRequest</span> <span class="o">*</span><span class="n">request</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableURLRequest</span> <span class="nf">requestWithURL</span><span class="p">:</span><span class="n">URL</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setHTTPMethod</span><span class="p">:</span><span class="s">@"GET"</span><span class="p">];</span>

<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"application/com.reloadly.topups-v1+json"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Accept"</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Authorization"</span><span class="p">];</span>

<span class="n">NSURLSession</span> <span class="o">*</span><span class="n">session</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURLSession</span> <span class="nf">sharedSession</span><span class="p">];</span>
<span class="n">NSURLSessionDataTask</span> <span class="o">*</span><span class="n">task</span> <span class="o">=</span> <span class="p">[</span><span class="n">session</span> <span class="nf">dataTaskWithRequest</span><span class="p">:</span><span class="n">request</span>
                                        <span class="nf">completionHandler</span><span class="p">:</span>
                              <span class="o">^</span><span class="p">(</span><span class="n">NSData</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="n">NSURLResponse</span> <span class="o">*</span><span class="n">response</span><span class="p">,</span> <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>

                                  <span class="k">if</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
                                      <span class="c1">// Handle error...
</span>                                      <span class="k">return</span><span class="p">;</span>
                                  <span class="p">}</span>

                                  <span class="k">if</span> <span class="p">([</span><span class="n">response</span> <span class="nf">isKindOfClass</span><span class="p">:[</span><span class="n">NSHTTPURLResponse</span> <span class="nf">class</span><span class="p">]])</span> <span class="p">{</span>
                                      <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response HTTP Status code: %ld</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="p">(</span><span class="kt">long</span><span class="p">)[(</span><span class="n">NSHTTPURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="n">response</span> <span class="nf">statusCode</span><span class="p">]);</span>
                                      <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response HTTP Headers:</span><span class="se">\n</span><span class="s">%@</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="p">[(</span><span class="n">NSHTTPURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="n">response</span> <span class="nf">allHeaderFields</span><span class="p">]);</span>
                                  <span class="p">}</span>

                                  <span class="n">NSString</span><span class="o">*</span> <span class="n">body</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSString</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithData</span><span class="p">:</span><span class="n">data</span> <span class="nf">encoding</span><span class="p">:</span><span class="n">NSUTF8StringEncoding</span><span class="p">];</span>
                                  <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response Body:</span><span class="se">\n</span><span class="s">%@</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">);</span>
                              <span class="p">}];</span>
<span class="p">[</span><span class="n">task</span> <span class="nf">resume</span><span class="p">];</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="c1">// NOTE: Uncommment following two lines for use in a Playground</span>
<span class="c1">// import PlaygroundSupport</span>
<span class="c1">// PlaygroundPage.current.needsIndefiniteExecution = true</span>

<span class="k">let</span> <span class="nv">url</span> <span class="o">=</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"https://topups.reloadly.com/promotions?page=1&amp;size=3"</span><span class="p">)</span><span class="o">!</span>
<span class="k">var</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">URLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Accept"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Authorization"</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">task</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span><span class="p">)</span> <span class="p">{</span> <span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span> <span class="k">in</span>
  <span class="k">if</span> <span class="k">let</span> <span class="nv">response</span> <span class="o">=</span> <span class="n">response</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">if</span> <span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">,</span> <span class="k">let</span> <span class="nv">body</span> <span class="o">=</span> <span class="kt">String</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="n">data</span><span class="p">,</span> <span class="nv">encoding</span><span class="p">:</span> <span class="o">.</span><span class="n">utf8</span><span class="p">)</span> <span class="p">{</span>
      <span class="nf">print</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span> <span class="p">??</span> <span class="s">"Unknown error"</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">task</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
</code></pre>
<h4>
<p>Response</p>
</h4>
<pre class="highlight plaintext"><code>200
</code></pre>
<h4>
<p>Headers</p>
</h4>
<pre class="highlight plaintext"><code>Content-Type: application/json
</code></pre>
<h4>
<p>Body</p>
</h4>
<pre class="highlight plaintext"><code>{
  "content": [
    {
      "promotionId": 1,
      "operatorId": 129,
      "title": " Tigo El Salvador From 25 Jun 2018 00:00 To 25 Jun 2018 23:59 (GMT-06:00)",
      "title2": "Get 500 MB and 150 minutes for USA or Canada",
      "description": "&lt;br /&gt;- For top ups of $10 or more, customers in El Salvador receive the top up plus&amp;nbsp;500 MBs + 150 Minutes for USA/CAN for 15 days.&lt;br /&gt;- The benefits are applied when the top up is received by the user in El Salvador.&lt;br /&gt;- Promotional minutes are valid to call any phone number in the USA.&lt;br /&gt;- The promotional benefits&amp;nbsp;will be available for use during a period of 360 hours after the top up was received. (15 days)",
      "startDate": "Mon, 25 Jun 2018 06:00:00 +0000",
      "endDate": "Tue, 26 Jun 2018 05:59:00 +0000",
      "denominations": "USD 10 and up",
      "localDenominations": null
    },
    {
      "promotionId": 2,
      "operatorId": 158,
      "title": " Tigo Guatemala From 30 Jun 2018 00:00 To 30 Jun 2018 23:59 (GMT-06:00)",
      "title2": "Bonus 3x",
      "description": "&lt;br /&gt;-&amp;nbsp;Calls and SMS to USA, OnNet and ExtNet calls.&lt;br /&gt;- Promotional balance expiration date: 30 days&lt;br /&gt;&lt;br /&gt;Exceptions for promotional balance:&amp;nbsp;&lt;br /&gt;- Browsing, purchase of Paquetigos, Backtones, Give Me Balance",
      "startDate": "Sat, 30 Jun 2018 06:00:00 +0000",
      "endDate": "Sun, 01 Jul 2018 05:59:00 +0000",
      "denominations": "USD 14 and up",
      "localDenominations": "GTQ 100.80 and up"
    },
    {
      "promotionId": 3,
      "operatorId": 100,
      "title": " Movistar Costa Rica From 01 Jan 2018 00:00 To 01 Jul 2018 23:59 (GMT-06:00)",
      "title2": "Bonus 2x",
      "description": "&lt;br /&gt;- For Top Ups of 5 USD (5 EUR) or more, customers will receive double 2x balance.+ 7 days of Whatsapp.&lt;br /&gt;&lt;br /&gt;T&amp;eacute;rminos y Condiciones (Spanish version):&lt;br /&gt;- Por recargas desde 5 USD (5 EUR) o m&amp;aacute;s, el destinatario recibir&amp;aacute; doble saldo (2x) + 7 dias de WhatsApp.",
      "startDate": "Mon, 01 Jan 2018 06:00:00 +0000",
      "endDate": "Mon, 02 Jul 2018 05:59:00 +0000",
      "denominations": "USD 5 and up",
      "localDenominations": "CRC 5000 and up"
    }
  ],
  "pageable": {
    "sort": {
      "unsorted": true,
      "sorted": false
    },
    "pageSize": 3,
    "pageNumber": 0,
    "offset": 0,
    "paged": true,
    "unpaged": false
  },
  "totalPages": 15,
  "totalElements": 44,
  "last": false,
  "sort": {
    "unsorted": true,
    "sorted": false
  },
  "first": true,
  "numberOfElements": 3,
  "size": 3,
  "number": 0
}
</code></pre>
<h4>
<p>Body Schema</p>
</h4>

<h4 class="parameter-section col">
    <div class="row">
        <span class="col-5">
            <span class="name">content</span>
            <span class="tag color--pink">collection</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Collection of Promotions objects.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">first</span>
            <span class="tag color--pink">boolean</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">If this is the first page or not.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">last</span>
            <span class="tag color--pink">boolean</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">If this is the last page or not.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">number</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Current page number.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">numberOfElements</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Number of elements within this page's content.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">pageable</span>
            <span class="tag color--pink">object</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">A pagable object defining params to be used for paging.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">sort</span>
            <span class="tag color--pink">object</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">A Sort element to be used for sorting the collection.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">totalElements</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Total number of elements available.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">totalPages</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Total number of pages available.</span>
    </div>
</h4>
<h2 id='retrieve-topup-operator-promotion-by-id'>Retrieve topup operator promotion by id</h2>
<p>*Endpoint : <code>/promotions/{promotionId}</code></p>

<h4>
<p>Promotions Collection/Retrieve topup operator promotion by id</p>
</h4>
<pre class="highlight plaintext"><code>GET : https://topups.reloadly.com/promotions/5
</code></pre>
<h4>
<p>Parameters</p>
</h4>

<h4 class="parameter-section col">
    <div class="row">
        <span class="col-5">
            <span class="name">promotionId</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">The promotional ID.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">Authorization</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Endpoint requires Authentication token in header.</span>
    </div>
</h4>

<h4>
<p>Code Block</p>
</h4>
<pre class="highlight shell tab-shell"><code>curl --include <span class="se">\</span>
     --header <span class="s2">"Accept: application/com.reloadly.topups-v1+json"</span> <span class="se">\</span>
     --header <span class="s2">"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span> <span class="se">\</span>
  <span class="s1">'https://topups.reloadly.com/promotions/5'</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// Maven : Add these dependecies to your pom.xml (java6+)</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>

<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Client</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.ClientBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.Response</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.MediaType</span><span class="o">;</span>

<span class="n">Client</span> <span class="n">client</span> <span class="o">=</span> <span class="n">ClientBuilder</span><span class="o">.</span><span class="na">newClient</span><span class="o">();</span>
<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="s">"https://topups.reloadly.com/promotions/5
"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">request</span><span class="o">(</span><span class="n">MediaType</span><span class="o">.</span><span class="na">TEXT_PLAIN_TYPE</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">();</span>

<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"status: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getStatus</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"headers: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getHeaders</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"body:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">readEntity</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">));</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span> <span class="s1">'https://topups.reloadly.com/promotions/5'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Accept'</span><span class="p">,</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Authorization'</span><span class="p">,</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">===</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Status:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Headers:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAllResponseHeaders</span><span class="p">());</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Body:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">responseText</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">send</span><span class="p">();</span>
</code></pre><pre class="highlight julia tab-julia"><code><span class="n">var</span> <span class="n">request</span> <span class="o">=</span> <span class="n">require</span><span class="x">(</span><span class="err">'</span><span class="n">request</span><span class="err">'</span><span class="x">);</span>

<span class="n">request</span><span class="x">({</span>
  <span class="n">method</span><span class="x">:</span> <span class="err">'</span><span class="n">GET</span><span class="err">'</span><span class="x">,</span>
  <span class="n">url</span><span class="x">:</span> <span class="err">'</span><span class="n">https</span><span class="x">:</span><span class="o">//</span><span class="n">topups</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">promotions</span><span class="o">/</span><span class="mi">5</span>
<span class="err">'</span><span class="x">,</span>
  <span class="n">headers</span><span class="x">:</span> <span class="x">{</span>
    <span class="err">'</span><span class="n">Accept</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">application</span><span class="o">/</span><span class="n">com</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">topups</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="err">'</span><span class="x">,</span>
    <span class="err">'</span><span class="n">Authorization</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">Bearer</span> <span class="n">eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa</span><span class="err">'</span>
  <span class="x">}},</span> <span class="k">function</span><span class="nf"> </span><span class="o">(</span><span class="nb">error</span><span class="x">,</span> <span class="n">response</span><span class="x">,</span> <span class="n">body</span><span class="x">)</span> <span class="x">{</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Status</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">response</span><span class="o">.</span><span class="n">statusCode</span><span class="x">);</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Headers</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">JSON</span><span class="o">.</span><span class="n">stringify</span><span class="x">(</span><span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="x">));</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Response</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">body</span><span class="x">);</span>
<span class="x">});</span>
</code></pre><pre class="highlight perl tab-perl"><code><span class="nv">$ENV</span><span class="p">{</span><span class="s">'PERL_LWP_SSL_VERIFY_HOSTNAME'</span><span class="p">}</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">strict</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">warnings</span><span class="p">;</span>
<span class="k">use</span> <span class="mf">5.010</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">Cpanel::JSON::</span><span class="nv">XS</span> <span class="sx">qw(encode_json decode_json)</span><span class="p">;</span>

<span class="k">my</span> <span class="nv">$ua</span>   <span class="o">=</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="o">-&gt;</span><span class="k">new</span><span class="p">;</span>

<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Accept"</span> <span class="o">=&gt;</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>
<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Authorization"</span> <span class="o">=&gt;</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>

<span class="k">my</span> <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">get</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/promotions/5
"</span><span class="p">);</span>

<span class="k">print</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nv">as_string</span><span class="p">;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">urllib2</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="s">'https://topups.reloadly.com/promotions/5</span><span class="err">
</span><span class="s">'</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="n">response_body</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span> <span class="n">response_body</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="s2">"https://topups.reloadly.com/promotions/5
"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="k">TRUE</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="k">FALSE</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"Accept: application/com.reloadly.topups-v1+json"</span><span class="p">,</span>
  <span class="s2">"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$response</span><span class="p">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rubygems'</span> <span class="k">if</span> <span class="no">RUBY_VERSION</span> <span class="o">&lt;</span> <span class="s1">'1.9'</span>
<span class="nb">require</span> <span class="s1">'rest_client'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:accept</span> <span class="o">=&gt;</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="ss">:authorization</span> <span class="o">=&gt;</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="s1">'https://topups.reloadly.com/promotions/5
'</span><span class="p">,</span> <span class="n">headers</span>
<span class="nb">puts</span> <span class="n">response</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
    </span><span class="s">"fmt"</span><span class="x">
    </span><span class="s">"io/ioutil"</span><span class="x">
    </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">

    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://topups.reloadly.com/promotions/5
"</span><span class="p">,</span><span class="x"> </span><span class="no">nil</span><span class="p">)</span><span class="x">

    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"Accept"</span><span class="p">,</span><span class="x"> </span><span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"Authorization"</span><span class="p">,</span><span class="x"> </span><span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">)</span><span class="x">

    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">

    </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Errored when sending request to the server"</span><span class="p">)</span><span class="x">
        </span><span class="k">return</span><span class="x">
    </span><span class="p">}</span><span class="x">

    </span><span class="k">defer</span><span class="x"> </span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span><span class="x">
    </span><span class="n">resp_body</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span><span class="x">

    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Status</span><span class="p">)</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="kt">string</span><span class="p">(</span><span class="n">resp_body</span><span class="p">))</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="c1">//Common testing requirement. If you are consuming an API in a sandbox/test region, uncomment this line of code ONLY for non production uses.</span>
<span class="c1">//System.Net.ServicePointManager.ServerCertificateValidationCallback = delegate { return true; };</span>

<span class="c1">//Be sure to run "Install-Package Microsoft.Net.Http" from your nuget command line.</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Net.Http</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">baseAddress</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Uri</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/"</span><span class="p">);</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">httpClient</span> <span class="p">=</span> <span class="k">new</span> <span class="n">HttpClient</span><span class="p">{</span> <span class="n">BaseAddress</span> <span class="p">=</span> <span class="n">baseAddress</span> <span class="p">})</span>
<span class="p">{</span>

  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"accept"</span><span class="p">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>

  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>

  <span class="k">using</span><span class="p">(</span><span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">await</span> <span class="n">httpClient</span><span class="p">.</span><span class="nf">GetAsync</span><span class="p">(</span><span class="s">"promotions?page=1&amp;size=3"</span><span class="p">))</span>
  <span class="p">{</span>

        <span class="kt">string</span> <span class="n">responseData</span> <span class="p">=</span> <span class="k">await</span> <span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="nf">ReadAsStringAsync</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight vb tab-vb"><code><span class="k">Dim</span> <span class="nv">request</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">WebRequest</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/promotions/5
"</span><span class="p">),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebRequest</span><span class="p">)</span>

<span class="n">request</span><span class="p">.</span><span class="n">Method</span> <span class="o">=</span> <span class="s">"GET"</span>

<span class="n">request</span><span class="p">.</span><span class="n">Accept</span> <span class="o">=</span> <span class="s">"application/com.reloadly.topups-v1+json"</span>

<span class="n">request</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">)</span>

<span class="n">request</span><span class="p">.</span><span class="n">ContentLength</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">Dim</span> <span class="nv">responseContent</span> <span class="ow">As</span> <span class="kt">String</span>
<span class="k">Using</span> <span class="n">response</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">GetResponse</span><span class="p">(),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebResponse</span><span class="p">)</span>
  <span class="k">Using</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">New</span> <span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="n">StreamReader</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">GetResponseStream</span><span class="p">())</span>
    <span class="n">responseContent</span> <span class="o">=</span> <span class="n">reader</span><span class="p">.</span><span class="n">ReadToEnd</span><span class="p">()</span>
  <span class="k">End</span> <span class="k">Using</span>
<span class="k">End</span> <span class="k">Using</span>
</code></pre><pre class="highlight groovy tab-groovy"><code><span class="kn">import</span> <span class="nn">groovyx.net.http.RESTClient</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">groovyx</span><span class="o">.</span><span class="na">net</span><span class="o">.</span><span class="na">http</span><span class="o">.</span><span class="na">ContentType</span><span class="o">.</span><span class="na">JSON</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonSlurper</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonOutput</span>

<span class="nd">@Grab</span> <span class="o">(</span><span class="n">group</span> <span class="o">=</span> <span class="s1">'org.codehaus.groovy.modules.http-builder'</span><span class="o">,</span> <span class="n">module</span> <span class="o">=</span> <span class="s1">'http-builder'</span><span class="o">,</span> <span class="n">version</span> <span class="o">=</span> <span class="s1">'0.5.0'</span><span class="o">)</span>
<span class="kt">def</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RESTClient</span><span class="o">(</span><span class="s2">"https://topups.reloadly.com"</span><span class="o">)</span>

<span class="kt">def</span> <span class="n">emptyHeaders</span> <span class="o">=</span> <span class="o">[:]</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Accept"</span> <span class="o">=</span> <span class="s2">"application/com.reloadly.topups-v1+json"</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Authorization"</span> <span class="o">=</span> <span class="s2">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">get</span><span class="o">(</span> <span class="n">path</span> <span class="o">:</span> <span class="s2">"/promotions?page=1&amp;size=3"</span><span class="o">,</span> <span class="nl">headers:</span> <span class="n">emptyHeaders</span> <span class="o">)</span>

<span class="n">println</span><span class="o">(</span><span class="s2">"Status:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">status</span><span class="o">)</span>

<span class="k">if</span> <span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Content Type: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">contentType</span><span class="o">)</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Body:\n"</span> <span class="o">+</span> <span class="n">JsonOutput</span><span class="o">.</span><span class="na">prettyPrint</span><span class="o">(</span><span class="n">JsonOutput</span><span class="o">.</span><span class="na">toJson</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)))</span>
<span class="o">}</span>
</code></pre><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSURL</span> <span class="o">*</span><span class="n">URL</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURL</span> <span class="nf">URLWithString</span><span class="p">:</span><span class="s">@"https://topups.reloadly.com/promotions/5</span><span class="err">
</span><span class="s">"</span><span class="p">];</span>

<span class="n">NSMutableURLRequest</span> <span class="o">*</span><span class="n">request</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableURLRequest</span> <span class="nf">requestWithURL</span><span class="p">:</span><span class="n">URL</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setHTTPMethod</span><span class="p">:</span><span class="s">@"GET"</span><span class="p">];</span>

<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"application/com.reloadly.topups-v1+json"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Accept"</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Authorization"</span><span class="p">];</span>

<span class="n">NSURLSession</span> <span class="o">*</span><span class="n">session</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURLSession</span> <span class="nf">sharedSession</span><span class="p">];</span>
<span class="n">NSURLSessionDataTask</span> <span class="o">*</span><span class="n">task</span> <span class="o">=</span> <span class="p">[</span><span class="n">session</span> <span class="nf">dataTaskWithRequest</span><span class="p">:</span><span class="n">request</span>
                                        <span class="nf">completionHandler</span><span class="p">:</span>
                              <span class="o">^</span><span class="p">(</span><span class="n">NSData</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="n">NSURLResponse</span> <span class="o">*</span><span class="n">response</span><span class="p">,</span> <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>

                                  <span class="k">if</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
                                      <span class="c1">// Handle error...
</span>                                      <span class="k">return</span><span class="p">;</span>
                                  <span class="p">}</span>

                                  <span class="k">if</span> <span class="p">([</span><span class="n">response</span> <span class="nf">isKindOfClass</span><span class="p">:[</span><span class="n">NSHTTPURLResponse</span> <span class="nf">class</span><span class="p">]])</span> <span class="p">{</span>
                                      <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response HTTP Status code: %ld</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="p">(</span><span class="kt">long</span><span class="p">)[(</span><span class="n">NSHTTPURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="n">response</span> <span class="nf">statusCode</span><span class="p">]);</span>
                                      <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response HTTP Headers:</span><span class="se">\n</span><span class="s">%@</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="p">[(</span><span class="n">NSHTTPURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="n">response</span> <span class="nf">allHeaderFields</span><span class="p">]);</span>
                                  <span class="p">}</span>

                                  <span class="n">NSString</span><span class="o">*</span> <span class="n">body</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSString</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithData</span><span class="p">:</span><span class="n">data</span> <span class="nf">encoding</span><span class="p">:</span><span class="n">NSUTF8StringEncoding</span><span class="p">];</span>
                                  <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response Body:</span><span class="se">\n</span><span class="s">%@</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">);</span>
                              <span class="p">}];</span>
<span class="p">[</span><span class="n">task</span> <span class="nf">resume</span><span class="p">];</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="c1">// NOTE: Uncommment following two lines for use in a Playground</span>
<span class="c1">// import PlaygroundSupport</span>
<span class="c1">// PlaygroundPage.current.needsIndefiniteExecution = true</span>

<span class="k">let</span> <span class="nv">url</span> <span class="o">=</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"https://topups.reloadly.com/promotions/5
"</span><span class="p">)</span><span class="o">!</span>
<span class="k">var</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">URLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Accept"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Authorization"</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">task</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span><span class="p">)</span> <span class="p">{</span> <span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span> <span class="k">in</span>
  <span class="k">if</span> <span class="k">let</span> <span class="nv">response</span> <span class="o">=</span> <span class="n">response</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">if</span> <span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">,</span> <span class="k">let</span> <span class="nv">body</span> <span class="o">=</span> <span class="kt">String</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="n">data</span><span class="p">,</span> <span class="nv">encoding</span><span class="p">:</span> <span class="o">.</span><span class="n">utf8</span><span class="p">)</span> <span class="p">{</span>
      <span class="nf">print</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span> <span class="p">??</span> <span class="s">"Unknown error"</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">task</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
</code></pre>
<h4>
<p>Response</p>
</h4>
<pre class="highlight plaintext"><code>200
</code></pre>
<h4>
<p>Headers</p>
</h4>
<pre class="highlight plaintext"><code>Content-Type: application/json
</code></pre>
<h4>
<p>Body</p>
</h4>
<pre class="highlight plaintext"><code>{
  "promotionId": 5,
  "operatorId": 114,
  "title": " Movistar Ecuador From 01 Jan 2018 00:00 To 01 Jul 2018 23:59 (GMT-05:00)",
  "title2": "Bonus 2x",
  "description": "&lt;br /&gt;- For top ups of USD$2.00 (EUR 5) or more, customers will receive double bonus 2x + 5 days of Whatsapp.&lt;br /&gt;- Validity: 5 days&lt;br /&gt;- Applies for all prepaid plans.&lt;br /&gt;&lt;br /&gt;T&amp;eacute;rminos y Condiciones (Spanish version):&lt;br /&gt;- Por recarfas desde 2 USD (5 &amp;euro;) o m&amp;aacute;s, el destinatario recibir&amp;aacute; doble bono (2x) + 5 dias de WhatsApp&lt;br /&gt;- Vigencia 5 d&amp;iacute;as&amp;nbsp;&lt;br /&gt;- Aplica a todos los planes prepago",
  "startDate": "Mon, 01 Jan 2018 05:00:00 +0000",
  "endDate": "Mon, 02 Jul 2018 04:59:00 +0000",
  "denominations": "USD 2 and up",
  "localDenominations": null
}
</code></pre>
<h4>
<p>Body Schema</p>
</h4>

<h4 class="parameter-section col">
    <div class="row">
        <span class="col-5">
            <span class="name">promotionId</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Unique identifier for a given promotion.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">operatorId</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Id of operator to which the promotion applies.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">title</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Title of the promotion.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">title2</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">2nd title for the promotion if any.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">description</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Description of the promotion.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">startDate</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Date on which the promotion starts.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">endDate</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Date on which the promotion ends.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">denominations</span>
            <span class="tag color--green">string</span>
            <span class="require">(optional)</span>
        </span>
        <span class="col-7">Amounts for which the promotion applies.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">localDenominations</span>
            <span class="tag color--green">string</span>
            <span class="require">(optional)</span>
        </span>
        <span class="col-7">Amounts (in destination country currency) for which the promotion applies.</span>
    </div>
</h4>
<h2 id='retrieve-topup-operator-promotion-by-operator-id'>Retrieve topup operator promotion by operator id</h2>
<p>*Endpoint : <code>/promotions/operators/{operatorId}</code></p>

<h4>
<p>Promotions Collection/Retrieve topup operator promotion by operator id</p>
</h4>
<pre class="highlight plaintext"><code>GET : https://topups.reloadly.com/promotions/operators/129
</code></pre>
<h4>
<p>Parameters</p>
</h4>

<h4 class="parameter-section col">
    <div class="row">
        <span class="col-5">
            <span class="name">operatorId</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">The operator ID.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">Authorization</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Endpoint requires Authentication token in header.</span>
    </div>
</h4>

<h4>
<p>Code Block</p>
</h4>
<pre class="highlight shell tab-shell"><code>curl --include <span class="se">\</span>
     --header <span class="s2">"Accept: application/com.reloadly.topups-v1+json"</span> <span class="se">\</span>
     --header <span class="s2">"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span> <span class="se">\</span>
  <span class="s1">'https://topups.reloadly.com/promotions/operators/129
'</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// Maven : Add these dependecies to your pom.xml (java6+)</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>

<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Client</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.ClientBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.Response</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.MediaType</span><span class="o">;</span>

<span class="n">Client</span> <span class="n">client</span> <span class="o">=</span> <span class="n">ClientBuilder</span><span class="o">.</span><span class="na">newClient</span><span class="o">();</span>
<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="s">"https://topups.reloadly.com/promotions/operators/129
"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">request</span><span class="o">(</span><span class="n">MediaType</span><span class="o">.</span><span class="na">TEXT_PLAIN_TYPE</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">();</span>

<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"status: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getStatus</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"headers: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getHeaders</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"body:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">readEntity</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">));</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span> <span class="s1">'https://topups.reloadly.com/promotions/operators/129'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Accept'</span><span class="p">,</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Authorization'</span><span class="p">,</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">===</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Status:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Headers:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAllResponseHeaders</span><span class="p">());</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Body:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">responseText</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">send</span><span class="p">();</span>
</code></pre><pre class="highlight julia tab-julia"><code><span class="n">var</span> <span class="n">request</span> <span class="o">=</span> <span class="n">require</span><span class="x">(</span><span class="err">'</span><span class="n">request</span><span class="err">'</span><span class="x">);</span>

<span class="n">request</span><span class="x">({</span>
  <span class="n">method</span><span class="x">:</span> <span class="err">'</span><span class="n">GET</span><span class="err">'</span><span class="x">,</span>
  <span class="n">url</span><span class="x">:</span> <span class="err">'</span><span class="n">https</span><span class="x">:</span><span class="o">//</span><span class="n">topups</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">promotions</span><span class="o">/</span><span class="n">operators</span><span class="o">/</span><span class="mi">129</span>
<span class="err">'</span><span class="x">,</span>
  <span class="n">headers</span><span class="x">:</span> <span class="x">{</span>
    <span class="err">'</span><span class="n">Accept</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">application</span><span class="o">/</span><span class="n">com</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">topups</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="err">'</span><span class="x">,</span>
    <span class="err">'</span><span class="n">Authorization</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">Bearer</span> <span class="n">eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa</span><span class="err">'</span>
  <span class="x">}},</span> <span class="k">function</span><span class="nf"> </span><span class="o">(</span><span class="nb">error</span><span class="x">,</span> <span class="n">response</span><span class="x">,</span> <span class="n">body</span><span class="x">)</span> <span class="x">{</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Status</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">response</span><span class="o">.</span><span class="n">statusCode</span><span class="x">);</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Headers</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">JSON</span><span class="o">.</span><span class="n">stringify</span><span class="x">(</span><span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="x">));</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Response</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">body</span><span class="x">);</span>
<span class="x">});</span>
</code></pre><pre class="highlight perl tab-perl"><code><span class="nv">$ENV</span><span class="p">{</span><span class="s">'PERL_LWP_SSL_VERIFY_HOSTNAME'</span><span class="p">}</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">strict</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">warnings</span><span class="p">;</span>
<span class="k">use</span> <span class="mf">5.010</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">Cpanel::JSON::</span><span class="nv">XS</span> <span class="sx">qw(encode_json decode_json)</span><span class="p">;</span>

<span class="k">my</span> <span class="nv">$ua</span>   <span class="o">=</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="o">-&gt;</span><span class="k">new</span><span class="p">;</span>

<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Accept"</span> <span class="o">=&gt;</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>
<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Authorization"</span> <span class="o">=&gt;</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>

<span class="k">my</span> <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">get</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/promotions/operators/129
"</span><span class="p">);</span>

<span class="k">print</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nv">as_string</span><span class="p">;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">urllib2</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="s">'https://topups.reloadly.com/promotions/operators/129</span><span class="err">
</span><span class="s">'</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="n">response_body</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span> <span class="n">response_body</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="s2">"https://topups.reloadly.com/promotions/operators/129
"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="k">TRUE</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="k">FALSE</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"Accept: application/com.reloadly.topups-v1+json"</span><span class="p">,</span>
  <span class="s2">"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$response</span><span class="p">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rubygems'</span> <span class="k">if</span> <span class="no">RUBY_VERSION</span> <span class="o">&lt;</span> <span class="s1">'1.9'</span>
<span class="nb">require</span> <span class="s1">'rest_client'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:accept</span> <span class="o">=&gt;</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="ss">:authorization</span> <span class="o">=&gt;</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="s1">'https://topups.reloadly.com/promotions/operators/129
'</span><span class="p">,</span> <span class="n">headers</span>
<span class="nb">puts</span> <span class="n">response</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
    </span><span class="s">"fmt"</span><span class="x">
    </span><span class="s">"io/ioutil"</span><span class="x">
    </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">

    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://topups.reloadly.com/promotions/operators/129
"</span><span class="p">,</span><span class="x"> </span><span class="no">nil</span><span class="p">)</span><span class="x">

    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"Accept"</span><span class="p">,</span><span class="x"> </span><span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"Authorization"</span><span class="p">,</span><span class="x"> </span><span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">)</span><span class="x">

    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">

    </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Errored when sending request to the server"</span><span class="p">)</span><span class="x">
        </span><span class="k">return</span><span class="x">
    </span><span class="p">}</span><span class="x">

    </span><span class="k">defer</span><span class="x"> </span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span><span class="x">
    </span><span class="n">resp_body</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span><span class="x">

    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Status</span><span class="p">)</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="kt">string</span><span class="p">(</span><span class="n">resp_body</span><span class="p">))</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="c1">//Common testing requirement. If you are consuming an API in a sandbox/test region, uncomment this line of code ONLY for non production uses.</span>
<span class="c1">//System.Net.ServicePointManager.ServerCertificateValidationCallback = delegate { return true; };</span>

<span class="c1">//Be sure to run "Install-Package Microsoft.Net.Http" from your nuget command line.</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Net.Http</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">baseAddress</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Uri</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/"</span><span class="p">);</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">httpClient</span> <span class="p">=</span> <span class="k">new</span> <span class="n">HttpClient</span><span class="p">{</span> <span class="n">BaseAddress</span> <span class="p">=</span> <span class="n">baseAddress</span> <span class="p">})</span>
<span class="p">{</span>

  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"accept"</span><span class="p">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>

  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>

  <span class="k">using</span><span class="p">(</span><span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">await</span> <span class="n">httpClient</span><span class="p">.</span><span class="nf">GetAsync</span><span class="p">(</span><span class="s">"promotions?page=1&amp;size=3"</span><span class="p">))</span>
  <span class="p">{</span>

        <span class="kt">string</span> <span class="n">responseData</span> <span class="p">=</span> <span class="k">await</span> <span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="nf">ReadAsStringAsync</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight vb tab-vb"><code><span class="k">Dim</span> <span class="nv">request</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">WebRequest</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/promotions/operators/129
"</span><span class="p">),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebRequest</span><span class="p">)</span>

<span class="n">request</span><span class="p">.</span><span class="n">Method</span> <span class="o">=</span> <span class="s">"GET"</span>

<span class="n">request</span><span class="p">.</span><span class="n">Accept</span> <span class="o">=</span> <span class="s">"application/com.reloadly.topups-v1+json"</span>

<span class="n">request</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">)</span>

<span class="n">request</span><span class="p">.</span><span class="n">ContentLength</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">Dim</span> <span class="nv">responseContent</span> <span class="ow">As</span> <span class="kt">String</span>
<span class="k">Using</span> <span class="n">response</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">GetResponse</span><span class="p">(),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebResponse</span><span class="p">)</span>
  <span class="k">Using</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">New</span> <span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="n">StreamReader</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">GetResponseStream</span><span class="p">())</span>
    <span class="n">responseContent</span> <span class="o">=</span> <span class="n">reader</span><span class="p">.</span><span class="n">ReadToEnd</span><span class="p">()</span>
  <span class="k">End</span> <span class="k">Using</span>
<span class="k">End</span> <span class="k">Using</span>
</code></pre><pre class="highlight groovy tab-groovy"><code><span class="kn">import</span> <span class="nn">groovyx.net.http.RESTClient</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">groovyx</span><span class="o">.</span><span class="na">net</span><span class="o">.</span><span class="na">http</span><span class="o">.</span><span class="na">ContentType</span><span class="o">.</span><span class="na">JSON</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonSlurper</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonOutput</span>

<span class="nd">@Grab</span> <span class="o">(</span><span class="n">group</span> <span class="o">=</span> <span class="s1">'org.codehaus.groovy.modules.http-builder'</span><span class="o">,</span> <span class="n">module</span> <span class="o">=</span> <span class="s1">'http-builder'</span><span class="o">,</span> <span class="n">version</span> <span class="o">=</span> <span class="s1">'0.5.0'</span><span class="o">)</span>
<span class="kt">def</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RESTClient</span><span class="o">(</span><span class="s2">"https://topups.reloadly.com"</span><span class="o">)</span>

<span class="kt">def</span> <span class="n">emptyHeaders</span> <span class="o">=</span> <span class="o">[:]</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Accept"</span> <span class="o">=</span> <span class="s2">"application/com.reloadly.topups-v1+json"</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Authorization"</span> <span class="o">=</span> <span class="s2">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">get</span><span class="o">(</span> <span class="n">path</span> <span class="o">:</span> <span class="s2">"/promotions?page=1&amp;size=3"</span><span class="o">,</span> <span class="nl">headers:</span> <span class="n">emptyHeaders</span> <span class="o">)</span>

<span class="n">println</span><span class="o">(</span><span class="s2">"Status:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">status</span><span class="o">)</span>

<span class="k">if</span> <span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Content Type: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">contentType</span><span class="o">)</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Body:\n"</span> <span class="o">+</span> <span class="n">JsonOutput</span><span class="o">.</span><span class="na">prettyPrint</span><span class="o">(</span><span class="n">JsonOutput</span><span class="o">.</span><span class="na">toJson</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)))</span>
<span class="o">}</span>
</code></pre><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSURL</span> <span class="o">*</span><span class="n">URL</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURL</span> <span class="nf">URLWithString</span><span class="p">:</span><span class="s">@"https://topups.reloadly.com/promotions/operators/129</span><span class="err">
</span><span class="s">"</span><span class="p">];</span>

<span class="n">NSMutableURLRequest</span> <span class="o">*</span><span class="n">request</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableURLRequest</span> <span class="nf">requestWithURL</span><span class="p">:</span><span class="n">URL</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setHTTPMethod</span><span class="p">:</span><span class="s">@"GET"</span><span class="p">];</span>

<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"application/com.reloadly.topups-v1+json"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Accept"</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Authorization"</span><span class="p">];</span>

<span class="n">NSURLSession</span> <span class="o">*</span><span class="n">session</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURLSession</span> <span class="nf">sharedSession</span><span class="p">];</span>
<span class="n">NSURLSessionDataTask</span> <span class="o">*</span><span class="n">task</span> <span class="o">=</span> <span class="p">[</span><span class="n">session</span> <span class="nf">dataTaskWithRequest</span><span class="p">:</span><span class="n">request</span>
                                        <span class="nf">completionHandler</span><span class="p">:</span>
                              <span class="o">^</span><span class="p">(</span><span class="n">NSData</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="n">NSURLResponse</span> <span class="o">*</span><span class="n">response</span><span class="p">,</span> <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>

                                  <span class="k">if</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
                                      <span class="c1">// Handle error...
</span>                                      <span class="k">return</span><span class="p">;</span>
                                  <span class="p">}</span>

                                  <span class="k">if</span> <span class="p">([</span><span class="n">response</span> <span class="nf">isKindOfClass</span><span class="p">:[</span><span class="n">NSHTTPURLResponse</span> <span class="nf">class</span><span class="p">]])</span> <span class="p">{</span>
                                      <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response HTTP Status code: %ld</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="p">(</span><span class="kt">long</span><span class="p">)[(</span><span class="n">NSHTTPURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="n">response</span> <span class="nf">statusCode</span><span class="p">]);</span>
                                      <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response HTTP Headers:</span><span class="se">\n</span><span class="s">%@</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="p">[(</span><span class="n">NSHTTPURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="n">response</span> <span class="nf">allHeaderFields</span><span class="p">]);</span>
                                  <span class="p">}</span>

                                  <span class="n">NSString</span><span class="o">*</span> <span class="n">body</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSString</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithData</span><span class="p">:</span><span class="n">data</span> <span class="nf">encoding</span><span class="p">:</span><span class="n">NSUTF8StringEncoding</span><span class="p">];</span>
                                  <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response Body:</span><span class="se">\n</span><span class="s">%@</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">);</span>
                              <span class="p">}];</span>
<span class="p">[</span><span class="n">task</span> <span class="nf">resume</span><span class="p">];</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="c1">// NOTE: Uncommment following two lines for use in a Playground</span>
<span class="c1">// import PlaygroundSupport</span>
<span class="c1">// PlaygroundPage.current.needsIndefiniteExecution = true</span>

<span class="k">let</span> <span class="nv">url</span> <span class="o">=</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"https://topups.reloadly.com/promotions/operators/129
"</span><span class="p">)</span><span class="o">!</span>
<span class="k">var</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">URLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Accept"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Authorization"</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">task</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span><span class="p">)</span> <span class="p">{</span> <span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span> <span class="k">in</span>
  <span class="k">if</span> <span class="k">let</span> <span class="nv">response</span> <span class="o">=</span> <span class="n">response</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">if</span> <span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">,</span> <span class="k">let</span> <span class="nv">body</span> <span class="o">=</span> <span class="kt">String</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="n">data</span><span class="p">,</span> <span class="nv">encoding</span><span class="p">:</span> <span class="o">.</span><span class="n">utf8</span><span class="p">)</span> <span class="p">{</span>
      <span class="nf">print</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span> <span class="p">??</span> <span class="s">"Unknown error"</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">task</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
</code></pre>
<h4>
<p>Response</p>
</h4>
<pre class="highlight plaintext"><code>200
</code></pre>
<h4>
<p>Headers</p>
</h4>
<pre class="highlight plaintext"><code>Content-Type: application/json
</code></pre>
<h4>
<p>Body</p>
</h4>
<pre class="highlight plaintext"><code>[
  {
    "promotionId": 1,
    "operatorId": 129,
    "title": " Tigo El Salvador From 25 Jun 2018 00:00 To 25 Jun 2018 23:59 (GMT-06:00)",
    "title2": "Get 500 MB and 150 minutes for USA or Canada",
    "description": "&lt;br /&gt;- For top ups of $10 or more, customers in El Salvador receive the top up plus&amp;nbsp;500 MBs + 150 Minutes for USA/CAN for 15 days.&lt;br /&gt;- The benefits are applied when the top up is received by the user in El Salvador.&lt;br /&gt;- Promotional minutes are valid to call any phone number in the USA.&lt;br /&gt;- The promotional benefits&amp;nbsp;will be available for use during a period of 360 hours after the top up was received. (15 days)",
    "startDate": "Mon, 25 Jun 2018 06:00:00 +0000",
    "endDate": "Tue, 26 Jun 2018 05:59:00 +0000",
    "denominations": "USD 10 and up",
    "localDenominations": null
  },
  {
    "promotionId": 6,
    "operatorId": 129,
    "title": " Tigo El Salvador From 25 Jun 2018 00:00 To 25 Jun 2018 23:59 (GMT-06:00)",
    "title2": "Get 300 MB and 60 minutes for USA or Canada",
    "description": "&lt;br /&gt;- For top ups between USD $7 and up, customers will receive 300 additional MBs + 60 Minutes for USA/CAN&lt;br /&gt;- Promotional balance will expire in 5 days",
    "startDate": "Mon, 25 Jun 2018 06:00:00 +0000",
    "endDate": "Tue, 26 Jun 2018 05:59:00 +0000",
    "denominations": "USD 7 and up",
    "localDenominations": null
  },
  {
    "promotionId": 9,
    "operatorId": 129,
    "title": " Tigo El Salvador From 29 Jun 2018 00:00 To 29 Jun 2018 23:59 (GMT-06:00)",
    "title2": "Get 300 MB and 60 minutes for USA or Canada",
    "description": "&lt;br /&gt;- For top ups between USD $7 and up, customers will receive 300 additional MBs + 60 Minutes for USA/CAN&lt;br /&gt;- Promotional balance will expire in 5 days",
    "startDate": "Fri, 29 Jun 2018 06:00:00 +0000",
    "endDate": "Sat, 30 Jun 2018 05:59:00 +0000",
    "denominations": "USD 7 and up",
    "localDenominations": null
  }
]
</code></pre>
<h4>
<p>Body Schema</p>
</h4>

<h4 class="parameter-section col">
    <div class="row">
        <span class="col-5">
            <span class="name">promotionId</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">The Promotion Id.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">operatorId</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">The Operator Id.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">title</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Title of the promotion.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">title2</span>
            <span class="tag color--green">string</span>
            <span class="require">(optional)</span>
        </span>
        <span class="col-7">2nd title for the promotion if any.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">description</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Description of the promotion.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">startDate</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Date on which the promotion starts.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">endDate</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Date on which the promotion ends.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">denominations</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Amounts for which the promotion applies.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">localDenominations</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Amounts (in destination country currency) for which the promotion applies.</span>
    </div>
</h4>
<h1 id='topup-a-phone'>Topup a phone</h1><h2 id='send-topup'>Send Topup</h2>
<p>*Endpoint : <code>/topups</code></p>

<h4>
<p>Topup a phone/Send Topup</p>
</h4>
<pre class="highlight plaintext"><code>POST : https://topups.reloadly.com/topups
</code></pre>
<h4>
<p>Parameters</p>
</h4>

<h4 class="parameter-section col">
    <div class="row">
        <span class="col-5">
            <span class="name">operatorId</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">The operator ID.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">amount</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">The amount of topup.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">customIdentifier</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Custom Identifier for the transaction.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">recipientPhone</span>
            <span class="tag color--pink">object</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">The recipient's Phone object.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">senderPhone</span>
            <span class="tag color--pink">object</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">The sender's Phone object.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">Authorization</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Endpoint requires Authentication token in header.</span>
    </div>
</h4>

<h4>
<p>Code Block</p>
</h4>
<pre class="highlight shell tab-shell"><code>curl --include <span class="se">\</span>
     --request POST <span class="se">\</span>
     --header <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
     --header <span class="s2">"Accept: application/com.reloadly.topups-v1+json"</span> <span class="se">\</span>
     --header <span class="s2">"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span> <span class="se">\</span>
     --data-binary <span class="s2">"{
  </span><span class="se">\"</span><span class="s2">recipientPhone</span><span class="se">\"</span><span class="s2">: {
    </span><span class="se">\"</span><span class="s2">countryCode</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">HT</span><span class="se">\"</span><span class="s2">,
    </span><span class="se">\"</span><span class="s2">number</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">+50936377111</span><span class="se">\"</span><span class="s2"> //(Note the </span><span class="se">\"</span><span class="s2">+509</span><span class="se">\"</span><span class="s2"> country dialing code for Haiti)
  },
  </span><span class="se">\"</span><span class="s2">senderPhone</span><span class="se">\"</span><span class="s2">: {
    </span><span class="se">\"</span><span class="s2">countryCode</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">US</span><span class="se">\"</span><span class="s2">,
    </span><span class="se">\"</span><span class="s2">number</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">+13059547862</span><span class="se">\"</span><span class="s2"> //(Note the </span><span class="se">\"</span><span class="s2">+1</span><span class="se">\"</span><span class="s2"> country dialing code for USA)
  },
  </span><span class="se">\"</span><span class="s2">operatorId</span><span class="se">\"</span><span class="s2">: 173,
  </span><span class="se">\"</span><span class="s2">amount</span><span class="se">\"</span><span class="s2">: 15,
  </span><span class="se">\"</span><span class="s2">customIdentifier</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">transaction by john@example.com</span><span class="se">\"</span><span class="s2">
}"</span> <span class="se">\</span>
<span class="s1">'https://topups.reloadly.com/topups'</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// Maven : Add these dependecies to your pom.xml (java6+)</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>

<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Client</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.ClientBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.Response</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.MediaType</span><span class="o">;</span>

<span class="n">Client</span> <span class="n">client</span> <span class="o">=</span> <span class="n">ClientBuilder</span><span class="o">.</span><span class="na">newClient</span><span class="o">();</span>
<span class="n">Entity</span> <span class="n">payload</span> <span class="o">=</span> <span class="n">Entity</span><span class="o">.</span><span class="na">json</span><span class="o">(</span><span class="s">"{
  \"recipientPhone\": {
    \"countryCode\": \"HT\",
    \"number\": \"+50936377111\" //(Note the \"+509\" country dialing code for Haiti)
  },
  \"senderPhone\": {
    \"countryCode\": \"US\",
    \"number\": \"+13059547862\" //(Note the \"+1\" country dialing code for USA)
  },
  \"operatorId\": 173,
  \"amount\": 15,
  \"customIdentifier\": \"transaction by john@example.com\"
}"</span><span class="o">);</span>
<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="s">"https://topups.reloadly.com/topups
"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">request</span><span class="o">(</span><span class="n">MediaType</span><span class="o">.</span><span class="na">APPLICATION_JSON_TYPE</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">payload</span><span class="o">);</span>

<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"status: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getStatus</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"headers: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getHeaders</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"body:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">readEntity</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">));</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">,</span> <span class="s1">'https://topups.reloadly.com/topups'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Content-Type'</span><span class="p">,</span> <span class="s1">'application/json'</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Accept'</span><span class="p">,</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Authorization'</span><span class="p">,</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">===</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Status:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Headers:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAllResponseHeaders</span><span class="p">());</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Body:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">responseText</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'recipientPhone'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'countryCode'</span><span class="p">:</span> <span class="s1">'HT'</span><span class="p">,</span>
    <span class="s1">'number'</span><span class="p">:</span> <span class="s1">'+50936377111'</span> <span class="c1">//(Note the '+509' country dialing code for Haiti)</span>
  <span class="p">},</span>
  <span class="s1">'senderPhone'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'countryCode'</span><span class="p">:</span> <span class="s1">'US'</span><span class="p">,</span>
    <span class="s1">'number'</span><span class="p">:</span> <span class="s1">'+13059547862'</span> <span class="c1">//(Note the '+1' country dialing code for USA)</span>
  <span class="p">},</span>
  <span class="s1">'operatorId'</span><span class="p">:</span> <span class="mi">173</span><span class="p">,</span>
  <span class="s1">'amount'</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span>
  <span class="s1">'customIdentifier'</span><span class="p">:</span> <span class="s1">'transaction by john@example.com'</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">body</span><span class="p">));</span>
</code></pre><pre class="highlight julia tab-julia"><code><span class="n">var</span> <span class="n">request</span> <span class="o">=</span> <span class="n">require</span><span class="x">(</span><span class="err">'</span><span class="n">request</span><span class="err">'</span><span class="x">);</span>

<span class="n">request</span><span class="x">({</span>
  <span class="n">method</span><span class="x">:</span> <span class="err">'</span><span class="n">POST</span><span class="err">'</span><span class="x">,</span>
  <span class="n">url</span><span class="x">:</span> <span class="err">'</span><span class="n">https</span><span class="x">:</span><span class="o">//</span><span class="n">topups</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">topups</span>
<span class="err">'</span><span class="x">,</span>
  <span class="n">headers</span><span class="x">:</span> <span class="x">{</span>
    <span class="err">'</span><span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">application</span><span class="o">/</span><span class="n">json</span><span class="err">'</span><span class="x">,</span>
    <span class="err">'</span><span class="n">Accept</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">application</span><span class="o">/</span><span class="n">com</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">topups</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="err">'</span><span class="x">,</span>
    <span class="err">'</span><span class="n">Authorization</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">Bearer</span> <span class="n">eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa</span><span class="err">'</span>
  <span class="x">},</span>
  <span class="n">body</span><span class="x">:</span> <span class="s">"{
  </span><span class="se">\"</span><span class="s">recipientPhone</span><span class="se">\"</span><span class="s">: {
    </span><span class="se">\"</span><span class="s">countryCode</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">HT</span><span class="se">\"</span><span class="s">,
    </span><span class="se">\"</span><span class="s">number</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">+50936377111</span><span class="se">\"</span><span class="s"> //(Note the </span><span class="se">\"</span><span class="s">+509</span><span class="se">\"</span><span class="s"> country dialing code for Haiti)
  },
  </span><span class="se">\"</span><span class="s">senderPhone</span><span class="se">\"</span><span class="s">: {
    </span><span class="se">\"</span><span class="s">countryCode</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">US</span><span class="se">\"</span><span class="s">,
    </span><span class="se">\"</span><span class="s">number</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">+13059547862</span><span class="se">\"</span><span class="s"> //(Note the </span><span class="se">\"</span><span class="s">+1</span><span class="se">\"</span><span class="s"> country dialing code for USA)
  },
  </span><span class="se">\"</span><span class="s">operatorId</span><span class="se">\"</span><span class="s">: 173,
  </span><span class="se">\"</span><span class="s">amount</span><span class="se">\"</span><span class="s">: 15,
  </span><span class="se">\"</span><span class="s">customIdentifier</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">transaction by john@example.com</span><span class="se">\"</span><span class="s">
}"</span>
<span class="x">},</span> <span class="k">function</span><span class="nf"> </span><span class="o">(</span><span class="nb">error</span><span class="x">,</span> <span class="n">response</span><span class="x">,</span> <span class="n">body</span><span class="x">)</span> <span class="x">{</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Status</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">response</span><span class="o">.</span><span class="n">statusCode</span><span class="x">);</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Headers</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">JSON</span><span class="o">.</span><span class="n">stringify</span><span class="x">(</span><span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="x">));</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Response</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">body</span><span class="x">);</span>
<span class="x">});</span>
</code></pre><pre class="highlight perl tab-perl"><code><span class="nv">$ENV</span><span class="p">{</span><span class="s">'PERL_LWP_SSL_VERIFY_HOSTNAME'</span><span class="p">}</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">strict</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">warnings</span><span class="p">;</span>
<span class="k">use</span> <span class="mf">5.010</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">Cpanel::JSON::</span><span class="nv">XS</span> <span class="sx">qw(encode_json decode_json)</span><span class="p">;</span>

<span class="k">my</span> <span class="nv">$ua</span>   <span class="o">=</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="o">-&gt;</span><span class="k">new</span><span class="p">;</span>
<span class="k">my</span> <span class="nv">$jsonData</span> <span class="o">=</span> <span class="s">'{
  "recipientPhone": {
    "countryCode": "HT",
    "number": "+50936377111" //(Note the "+509" country dialing code for Haiti)
  },
  "senderPhone": {
    "countryCode": "US",
    "number": "+13059547862" //(Note the "+1" country dialing code for USA)
  },
  "operatorId": 173,
  "amount": 15,
  "customIdentifier": "transaction by john@example.com"
}'</span><span class="p">;</span>
<span class="k">my</span> <span class="nv">$data</span> <span class="o">=</span> <span class="nv">decode_json</span> <span class="nv">$jsonData</span><span class="p">;</span>

<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Content-Type"</span> <span class="o">=&gt;</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Accept"</span> <span class="o">=&gt;</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>
<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Authorization"</span> <span class="o">=&gt;</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>

<span class="k">my</span> <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">post</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/topups
"</span><span class="p">,</span> <span class="nv">Content</span> <span class="o">=&gt;</span> <span class="nv">$data</span><span class="p">);</span>

<span class="k">print</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nv">as_string</span><span class="p">;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">urllib2</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>

<span class="n">values</span> <span class="o">=</span> <span class="s">"""
{
  "recipientPhone": {
    "countryCode": "HT",
    "number": "+50936377111" //(Note the "+509" country dialing code for Haiti)
  },
  "senderPhone": {
    "countryCode": "US",
    "number": "+13059547862" //(Note the "+1" country dialing code for USA)
  },
  "operatorId": 173,
  "amount": 15,
  "customIdentifier": "transaction by john@example.com"
}"""</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="s">'https://topups.reloadly.com/topups</span><span class="err">
</span><span class="s">'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">values</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="n">response_body</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span> <span class="n">response_body</span>
</code></pre><pre class="highlight php tab-php"><code>

<span class="cp">&lt;?php</span>
<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="s2">"https://topups.reloadly.com/topups"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="k">TRUE</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="k">FALSE</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="k">TRUE</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">\</span><span class="s2">"recipientPhone</span><span class="se">\"</span><span class="s2">: {
    </span><span class="se">\"</span><span class="s2">countryCode</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">HT</span><span class="se">\"</span><span class="s2">,
    </span><span class="se">\"</span><span class="s2">number</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">+50936377111</span><span class="se">\"</span><span class="s2"> //(Note the </span><span class="se">\"</span><span class="s2">+509</span><span class="se">\"</span><span class="s2"> country dialing code for Haiti)
  },
  </span><span class="se">\"</span><span class="s2">senderPhone</span><span class="se">\"</span><span class="s2">: {
    </span><span class="se">\"</span><span class="s2">countryCode</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">US</span><span class="se">\"</span><span class="s2">,
    </span><span class="se">\"</span><span class="s2">number</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">+13059547862</span><span class="se">\"</span><span class="s2"> //(Note the </span><span class="se">\"</span><span class="s2">+1</span><span class="se">\"</span><span class="s2"> country dialing code for USA)
  },
  </span><span class="se">\"</span><span class="s2">operatorId</span><span class="se">\"</span><span class="s2">: 173,
  </span><span class="se">\"</span><span class="s2">amount</span><span class="se">\"</span><span class="s2">: 15,
  </span><span class="se">\"</span><span class="s2">customIdentifier</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">transaction by john@example.com</span><span class="se">\"</span><span class="s2">
});

curl_setopt(</span><span class="nv">$ch</span><span class="s2">, CURLOPT_HTTPHEADER, array(
  "</span><span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="o">:</span> <span class="nx">application</span><span class="o">/</span><span class="nx">json</span><span class="s2">",
  "</span><span class="nx">Accept</span><span class="o">:</span> <span class="nx">application</span><span class="o">/</span><span class="nx">com</span><span class="o">.</span><span class="nx">reloadly</span><span class="o">.</span><span class="nx">topups</span><span class="o">-</span><span class="nx">v1</span><span class="o">+</span><span class="nx">json</span><span class="s2">",
  "</span><span class="nx">Authorization</span><span class="o">:</span> <span class="nx">Bearer</span> <span class="nx">eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa</span><span class="s2">"
));

</span><span class="nv">$response</span><span class="s2"> = curl_exec(</span><span class="nv">$ch</span><span class="s2">);
curl_close(</span><span class="nv">$ch</span><span class="s2">);

var_dump(</span><span class="nv">$response</span><span class="s2">);

</span></code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rubygems'</span> <span class="k">if</span> <span class="no">RUBY_VERSION</span> <span class="o">&lt;</span> <span class="s1">'1.9'</span>
<span class="nb">require</span> <span class="s1">'rest_client'</span>

<span class="n">values</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"recipientPhone"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"countryCode"</span><span class="p">:</span> <span class="s2">"HT"</span><span class="p">,</span>
    <span class="s2">"number"</span><span class="p">:</span> <span class="s2">"+50936377111"</span> <span class="o">/</span><span class="sr">/(Note the "+509" country dialing code for Haiti)
  },
  "senderPhone": {
    "countryCode": "US",
    "number": "+13059547862" /</span><span class="o">/</span><span class="p">(</span><span class="no">Note</span> <span class="n">the</span> <span class="s2">"+1"</span> <span class="n">country</span> <span class="n">dialing</span> <span class="n">code</span> <span class="k">for</span> <span class="no">USA</span><span class="p">)</span>
  <span class="p">},</span>
  <span class="s2">"operatorId"</span><span class="p">:</span> <span class="mi">173</span><span class="p">,</span>
  <span class="s2">"amount"</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span>
  <span class="s2">"customIdentifier"</span><span class="p">:</span> <span class="s2">"transaction by john@example.com"</span>
<span class="p">}</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:content_type</span> <span class="o">=&gt;</span> <span class="s1">'application/json'</span><span class="p">,</span>
  <span class="ss">:accept</span> <span class="o">=&gt;</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="ss">:authorization</span> <span class="o">=&gt;</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">post</span> <span class="s1">'https://topups.reloadly.com/topups
'</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="n">headers</span>
<span class="nb">puts</span> <span class="n">response</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
    </span><span class="s">"bytes"</span><span class="x">
    </span><span class="s">"fmt"</span><span class="x">
    </span><span class="s">"io/ioutil"</span><span class="x">
    </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">

    </span><span class="n">body</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="p">[]</span><span class="kt">byte</span><span class="p">({</span><span class="err">\</span><span class="n">n</span><span class="x">  </span><span class="err">\</span><span class="s">"recipientPhone</span><span class="se">\"</span><span class="s">: {</span><span class="se">\n</span><span class="s">    </span><span class="se">\"</span><span class="s">countryCode</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">HT</span><span class="se">\"</span><span class="s">,</span><span class="se">\n</span><span class="s">    </span><span class="se">\"</span><span class="s">number</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">+50936377111</span><span class="se">\"</span><span class="s"> //(Note the </span><span class="se">\"</span><span class="s">+509</span><span class="se">\"</span><span class="s"> country dialing code for Haiti)</span><span class="se">\n</span><span class="s">  },</span><span class="se">\n</span><span class="s">  </span><span class="se">\"</span><span class="s">senderPhone</span><span class="se">\"</span><span class="s">: {</span><span class="se">\n</span><span class="s">    </span><span class="se">\"</span><span class="s">countryCode</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">US</span><span class="se">\"</span><span class="s">,</span><span class="se">\n</span><span class="s">    </span><span class="se">\"</span><span class="s">number</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">+13059547862</span><span class="se">\"</span><span class="s"> //(Note the </span><span class="se">\"</span><span class="s">+1</span><span class="se">\"</span><span class="s"> country dialing code for USA)</span><span class="se">\n</span><span class="s">  },</span><span class="se">\n</span><span class="s">  </span><span class="se">\"</span><span class="s">operatorId</span><span class="se">\"</span><span class="s">: 173,</span><span class="se">\n</span><span class="s">  </span><span class="se">\"</span><span class="s">amount</span><span class="se">\"</span><span class="s">: 15,</span><span class="se">\n</span><span class="s">  </span><span class="se">\"</span><span class="s">customIdentifier</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">transaction by john@example.com</span><span class="se">\"\n</span><span class="s">})

    req, _ := http.NewRequest("</span><span class="n">POST</span><span class="s">", "</span><span class="n">https</span><span class="o">:</span><span class="c">//topups.reloadly.com/topups</span><span class="x">
</span><span class="s">", bytes.NewBuffer(body))

    req.Header.Add("</span><span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="s">", "</span><span class="n">application</span><span class="o">/</span><span class="n">json</span><span class="s">")
    req.Header.Add("</span><span class="n">Accept</span><span class="s">", "</span><span class="n">application</span><span class="o">/</span><span class="n">com</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">topups</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="s">")
    req.Header.Add("</span><span class="n">Authorization</span><span class="s">", "</span><span class="n">Bearer</span><span class="x"> </span><span class="n">eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa</span><span class="s">")

    resp, err := client.Do(req)

    if err != nil {
        fmt.Println("</span><span class="n">Errored</span><span class="x"> </span><span class="n">when</span><span class="x"> </span><span class="n">sending</span><span class="x"> </span><span class="n">request</span><span class="x"> </span><span class="n">to</span><span class="x"> </span><span class="n">the</span><span class="x"> </span><span class="n">server</span><span class="s">")
        return
    }

    defer resp.Body.Close()
    resp_body, _ := ioutil.ReadAll(resp.Body)

    fmt.Println(resp.Status)
    fmt.Println(string(resp_body))
}
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="c1">//Common testing requirement. If you are consuming an API in a sandbox/test region, uncomment this line of code ONLY for non production uses.</span>
<span class="c1">//System.Net.ServicePointManager.ServerCertificateValidationCallback = delegate { return true; };</span>

<span class="c1">//Be sure to run "Install-Package Microsoft.Net.Http" from your nuget command line.</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Net.Http</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">baseAddress</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Uri</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/"</span><span class="p">);</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">httpClient</span> <span class="p">=</span> <span class="k">new</span> <span class="n">HttpClient</span><span class="p">{</span> <span class="n">BaseAddress</span> <span class="p">=</span> <span class="n">baseAddress</span> <span class="p">})</span>
<span class="p">{</span>


  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"accept"</span><span class="p">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>

  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>

    <span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">content</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StringContent</span><span class="p">(</span><span class="s">"{
</span>  <span class="err">\</span><span class="s">"recipientPhone\": {
</span>    <span class="err">\</span><span class="s">"countryCode\": \"HT\",
</span>    <span class="err">\</span><span class="s">"number\": \"+50936377111\" //(Note the \"+509\" country dialing code for Haiti)
</span>  <span class="p">},</span>
  <span class="err">\</span><span class="s">"senderPhone\": {
</span>    <span class="err">\</span><span class="s">"countryCode\": \"US\",
</span>    <span class="err">\</span><span class="s">"number\": \"+13059547862\" //(Note the \"+1\" country dialing code for USA)
</span>  <span class="p">},</span>
  <span class="err">\</span><span class="s">"operatorId\": 173,
</span>  <span class="err">\</span><span class="s">"amount\": 15,
</span>  <span class="err">\</span><span class="s">"customIdentifier\": \"transaction by john@example.com\"
</span><span class="p">}</span><span class="s">", System.Text.Encoding.Default, "</span><span class="n">application</span><span class="p">/</span><span class="n">json</span><span class="s">"))
</span>    <span class="p">{</span>
      <span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">await</span> <span class="n">httpClient</span><span class="p">.</span><span class="nf">PostAsync</span><span class="p">(</span><span class="s">"topups"</span><span class="p">,</span> <span class="n">content</span><span class="p">))</span>
      <span class="p">{</span>
        <span class="kt">string</span> <span class="n">responseData</span> <span class="p">=</span> <span class="k">await</span> <span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="nf">ReadAsStringAsync</span><span class="p">();</span>
      <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight vb tab-vb"><code><span class="k">Dim</span> <span class="nv">request</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">WebRequest</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/topups
"</span><span class="p">),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebRequest</span><span class="p">)</span>

<span class="n">request</span><span class="p">.</span><span class="n">Method</span> <span class="o">=</span> <span class="s">"POST"</span>

<span class="n">request</span><span class="p">.</span><span class="n">ContentType</span> <span class="o">=</span> <span class="s">"application/json"</span>
<span class="n">request</span><span class="p">.</span><span class="n">Accept</span> <span class="o">=</span> <span class="s">"application/com.reloadly.topups-v1+json"</span>

<span class="n">request</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">)</span>

<span class="k">Using</span> <span class="n">writer</span> <span class="o">=</span> <span class="k">New</span> <span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="n">StreamWriter</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">GetRequestStream</span><span class="p">())</span>
  <span class="k">Dim</span> <span class="nv">byteArray</span> <span class="ow">As</span> <span class="kt">Byte</span><span class="p">()</span> <span class="o">=</span> <span class="n">System</span><span class="p">.</span><span class="n">Text</span><span class="p">.</span><span class="n">Encoding</span><span class="p">.</span><span class="n">UTF8</span><span class="p">.</span><span class="n">GetBytes</span><span class="p">(</span><span class="s">"
  \</span><span class="se">""</span><span class="s">recipientPhone\</span><span class="se">""</span><span class="s">: {
    \</span><span class="se">""</span><span class="s">countryCode\</span><span class="se">""</span><span class="s">: \</span><span class="se">""</span><span class="s">HT\</span><span class="se">""</span><span class="s">,
    \</span><span class="se">""</span><span class="s">number\</span><span class="se">""</span><span class="s">: \</span><span class="se">""</span><span class="s">+50936377111\</span><span class="se">""</span><span class="s"> //(Note the \</span><span class="se">""</span><span class="s">+509\</span><span class="se">""</span><span class="s"> country dialing code for Haiti)
  },
  \</span><span class="se">""</span><span class="s">senderPhone\</span><span class="se">""</span><span class="s">: {
    \</span><span class="se">""</span><span class="s">countryCode\</span><span class="se">""</span><span class="s">: \</span><span class="se">""</span><span class="s">US\</span><span class="se">""</span><span class="s">,
    \</span><span class="se">""</span><span class="s">number\</span><span class="se">""</span><span class="s">: \</span><span class="se">""</span><span class="s">+13059547862\</span><span class="se">""</span><span class="s"> //(Note the \</span><span class="se">""</span><span class="s">+1\</span><span class="se">""</span><span class="s"> country dialing code for USA)
  },
  \</span><span class="se">""</span><span class="s">operatorId\</span><span class="se">""</span><span class="s">: 173,
  \</span><span class="se">""</span><span class="s">amount\</span><span class="se">""</span><span class="s">: 15,
  \</span><span class="se">""</span><span class="s">customIdentifier\</span><span class="se">""</span><span class="s">: \</span><span class="se">""</span><span class="s">transaction by john@example.com\</span><span class="se">""</span><span class="s">
"</span><span class="p">)</span>
  <span class="n">request</span><span class="p">.</span><span class="n">ContentLength</span> <span class="o">=</span> <span class="n">byteArray</span><span class="p">.</span><span class="n">Length</span>
  <span class="n">writer</span><span class="p">.</span><span class="n">Write</span><span class="p">(</span><span class="n">byteArray</span><span class="p">)</span>
  <span class="n">writer</span><span class="p">.</span><span class="n">Close</span><span class="p">()</span>
<span class="k">End</span> <span class="k">Using</span>
<span class="k">Dim</span> <span class="nv">responseContent</span> <span class="ow">As</span> <span class="kt">String</span>
<span class="k">Using</span> <span class="n">response</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">GetResponse</span><span class="p">(),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebResponse</span><span class="p">)</span>
  <span class="k">Using</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">New</span> <span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="n">StreamReader</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">GetResponseStream</span><span class="p">())</span>
    <span class="n">responseContent</span> <span class="o">=</span> <span class="n">reader</span><span class="p">.</span><span class="n">ReadToEnd</span><span class="p">()</span>
  <span class="k">End</span> <span class="k">Using</span>
<span class="k">End</span> <span class="k">Using</span>
</code></pre><pre class="highlight groovy tab-groovy"><code><span class="kn">import</span> <span class="nn">groovyx.net.http.RESTClient</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">groovyx</span><span class="o">.</span><span class="na">net</span><span class="o">.</span><span class="na">http</span><span class="o">.</span><span class="na">ContentType</span><span class="o">.</span><span class="na">JSON</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonSlurper</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonOutput</span>

<span class="nd">@Grab</span> <span class="o">(</span><span class="n">group</span> <span class="o">=</span> <span class="s1">'org.codehaus.groovy.modules.http-builder'</span><span class="o">,</span> <span class="n">module</span> <span class="o">=</span> <span class="s1">'http-builder'</span><span class="o">,</span> <span class="n">version</span> <span class="o">=</span> <span class="s1">'0.5.0'</span><span class="o">)</span>
<span class="kt">def</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RESTClient</span><span class="o">(</span><span class="s2">"https://topups.reloadly.com"</span><span class="o">)</span>

<span class="kt">def</span> <span class="n">emptyHeaders</span> <span class="o">=</span> <span class="o">[:]</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Content-Type"</span> <span class="o">=</span> <span class="s2">"application/json"</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Accept"</span> <span class="o">=</span> <span class="s2">"application/com.reloadly.topups-v1+json"</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Authorization"</span> <span class="o">=</span> <span class="s2">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span>

<span class="kt">def</span> <span class="n">jsonObj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JsonSlurper</span><span class="o">().</span><span class="na">parseText</span><span class="o">({</span>
  <span class="s2">"recipientPhone"</span><span class="o">:</span> <span class="o">{</span>
    <span class="s2">"countryCode"</span><span class="o">:</span> <span class="s2">"HT"</span><span class="o">,</span>
    <span class="s2">"number"</span><span class="o">:</span> <span class="s2">"+50936377111"</span> <span class="c1">//(Note the "+509" country dialing code for Haiti)</span>
  <span class="o">},</span>
  <span class="s2">"senderPhone"</span><span class="o">:</span> <span class="o">{</span>
    <span class="s2">"countryCode"</span><span class="o">:</span> <span class="s2">"US"</span><span class="o">,</span>
    <span class="s2">"number"</span><span class="o">:</span> <span class="s2">"+13059547862"</span> <span class="c1">//(Note the "+1" country dialing code for USA)</span>
  <span class="o">},</span>
  <span class="s2">"operatorId"</span><span class="o">:</span> <span class="mi">173</span><span class="o">,</span>
  <span class="s2">"amount"</span><span class="o">:</span> <span class="mi">15</span><span class="o">,</span>
  <span class="s2">"customIdentifier"</span><span class="o">:</span> <span class="s2">"transaction by john@example.com"</span>
<span class="o">})</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">post</span><span class="o">(</span> <span class="n">path</span> <span class="o">:</span> <span class="s2">"/topups"</span><span class="o">,</span>
                        <span class="n">body</span> <span class="o">:</span> <span class="n">jsonObj</span><span class="o">,</span>
                        <span class="nl">headers:</span> <span class="n">emptyHeaders</span><span class="o">,</span>
                        <span class="n">contentType</span> <span class="o">:</span> <span class="n">JSON</span> <span class="o">)</span>

<span class="n">println</span><span class="o">(</span><span class="s2">"Status:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">status</span><span class="o">)</span>

<span class="k">if</span> <span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Content Type: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">contentType</span><span class="o">)</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Body:\n"</span> <span class="o">+</span> <span class="n">JsonOutput</span><span class="o">.</span><span class="na">prettyPrint</span><span class="o">(</span><span class="n">JsonOutput</span><span class="o">.</span><span class="na">toJson</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)))</span>
<span class="o">}</span>
</code></pre><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSURL</span> <span class="o">*</span><span class="n">URL</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURL</span> <span class="nf">URLWithString</span><span class="p">:</span><span class="s">@"https://topups.reloadly.com/topups</span><span class="err">
</span><span class="s">"</span><span class="p">];</span>

<span class="n">NSMutableURLRequest</span> <span class="o">*</span><span class="n">request</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableURLRequest</span> <span class="nf">requestWithURL</span><span class="p">:</span><span class="n">URL</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setHTTPMethod</span><span class="p">:</span><span class="s">@"POST"</span><span class="p">];</span>

<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"application/json"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Content-Type"</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"application/com.reloadly.topups-v1+json"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Accept"</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Authorization"</span><span class="p">];</span>

<span class="p">[</span><span class="n">request</span> <span class="nf">setHTTPBody</span><span class="p">:[@{</span>
  <span class="err">\</span><span class="s">"recipientPhone</span><span class="se">\"</span><span class="s">: {</span><span class="err">
</span><span class="s">    </span><span class="se">\"</span><span class="s">countryCode</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">HT</span><span class="se">\"</span><span class="s">,</span><span class="err">
</span><span class="s">    </span><span class="se">\"</span><span class="s">number</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">+50936377111</span><span class="se">\"</span><span class="s"> //(Note the </span><span class="se">\"</span><span class="s">+509</span><span class="se">\"</span><span class="s"> country dialing code for Haiti)</span><span class="err">
</span><span class="s">  },</span><span class="err">
</span><span class="s">  </span><span class="se">\"</span><span class="s">senderPhone</span><span class="se">\"</span><span class="s">: {</span><span class="err">
</span><span class="s">    </span><span class="se">\"</span><span class="s">countryCode</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">US</span><span class="se">\"</span><span class="s">,</span><span class="err">
</span><span class="s">    </span><span class="se">\"</span><span class="s">number</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">+13059547862</span><span class="se">\"</span><span class="s"> //(Note the </span><span class="se">\"</span><span class="s">+1</span><span class="se">\"</span><span class="s"> country dialing code for USA)</span><span class="err">
</span><span class="s">  },</span><span class="err">
</span><span class="s">  </span><span class="se">\"</span><span class="s">operatorId</span><span class="se">\"</span><span class="s">: 173,</span><span class="err">
</span><span class="s">  </span><span class="se">\"</span><span class="s">amount</span><span class="se">\"</span><span class="s">: 15,</span><span class="err">
</span><span class="s">  </span><span class="se">\"</span><span class="s">customIdentifier</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">transaction by john@example.com</span><span class="se">\"</span><span class="err">
</span><span class="s">} dataUsingEncoding:NSUTF8StringEncoding]];</span><span class="err">

</span><span class="s">NSURLSession *session = [NSURLSession sharedSession];</span><span class="err">
</span><span class="s">NSURLSessionDataTask *task = [session dataTaskWithRequest:request</span><span class="err">
</span><span class="s">                                        completionHandler:</span><span class="err">
</span><span class="s">                              ^(NSData *data, NSURLResponse *response, NSError *error) {</span><span class="err">

</span><span class="s">                                  if (error) {</span><span class="err">
</span><span class="s">                                      // Handle error...</span><span class="err">
</span><span class="s">                                      return;</span><span class="err">
</span><span class="s">                                  }</span><span class="err">

</span><span class="s">                                  if ([response isKindOfClass:[NSHTTPURLResponse class]]) {</span><span class="err">
</span><span class="s">                                      NSLog(@"</span><span class="n">Response</span> <span class="n">HTTP</span> <span class="n">Status</span> <span class="n">code</span><span class="o">:</span> <span class="o">%</span><span class="n">ld</span><span class="err">\</span><span class="n">n</span><span class="s">", (long)[(NSHTTPURLResponse *)response statusCode]);</span><span class="err">
</span><span class="s">                                      NSLog(@"</span><span class="n">Response</span> <span class="n">HTTP</span> <span class="n">Headers</span><span class="o">:</span><span class="err">\</span><span class="n">n</span><span class="o">%</span><span class="err">@\</span><span class="n">n</span><span class="s">", [(NSHTTPURLResponse *)response allHeaderFields]);</span><span class="err">
</span><span class="s">                                  }</span><span class="err">

</span><span class="s">                                  NSString* body = [[NSString alloc] initWithData:data encoding:NSUTF8StringEncoding];</span><span class="err">
</span><span class="s">                                  NSLog(@"</span><span class="n">Response</span> <span class="n">Body</span><span class="o">:</span><span class="err">\</span><span class="n">n</span><span class="o">%</span><span class="err">@\</span><span class="n">n</span><span class="s">", body);</span><span class="err">
</span><span class="s">                              }];</span><span class="err">
</span><span class="s">[task resume];</span><span class="err">
</span></code></pre><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="c1">// NOTE: Uncommment following two lines for use in a Playground</span>
<span class="c1">// import PlaygroundSupport</span>
<span class="c1">// PlaygroundPage.current.needsIndefiniteExecution = true</span>

<span class="k">let</span> <span class="nv">url</span> <span class="o">=</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"https://topups.reloadly.com/topups
"</span><span class="p">)</span><span class="o">!</span>
<span class="k">var</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">URLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">httpMethod</span> <span class="o">=</span> <span class="s">"POST"</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Content-Type"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Accept"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Authorization"</span><span class="p">)</span>

<span class="n">request</span><span class="o">.</span><span class="n">httpBody</span> <span class="o">=</span> <span class="s">"""
{
  </span><span class="se">\"</span><span class="s">recipientPhone</span><span class="se">\"</span><span class="s">: {
    </span><span class="se">\"</span><span class="s">countryCode</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">HT</span><span class="se">\"</span><span class="s">,
    </span><span class="se">\"</span><span class="s">number</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">+50936377111</span><span class="se">\"</span><span class="s"> //(Note the </span><span class="se">\"</span><span class="s">+509</span><span class="se">\"</span><span class="s"> country dialing code for Haiti)
  },
  </span><span class="se">\"</span><span class="s">senderPhone</span><span class="se">\"</span><span class="s">: {
    </span><span class="se">\"</span><span class="s">countryCode</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">US</span><span class="se">\"</span><span class="s">,
    </span><span class="se">\"</span><span class="s">number</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">+13059547862</span><span class="se">\"</span><span class="s"> //(Note the </span><span class="se">\"</span><span class="s">+1</span><span class="se">\"</span><span class="s"> country dialing code for USA)
  },
  </span><span class="se">\"</span><span class="s">operatorId</span><span class="se">\"</span><span class="s">: 173,
  </span><span class="se">\"</span><span class="s">amount</span><span class="se">\"</span><span class="s">: 15,
  </span><span class="se">\"</span><span class="s">customIdentifier</span><span class="se">\"</span><span class="s">: </span><span class="se">\"</span><span class="s">transaction by john@example.com</span><span class="se">\"</span><span class="s">
}
"""</span><span class="o">.</span><span class="nf">data</span><span class="p">(</span><span class="nv">using</span><span class="p">:</span> <span class="o">.</span><span class="n">utf8</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">task</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span><span class="p">)</span> <span class="p">{</span> <span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span> <span class="k">in</span>
  <span class="k">if</span> <span class="k">let</span> <span class="nv">response</span> <span class="o">=</span> <span class="n">response</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">if</span> <span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">,</span> <span class="k">let</span> <span class="nv">body</span> <span class="o">=</span> <span class="kt">String</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="n">data</span><span class="p">,</span> <span class="nv">encoding</span><span class="p">:</span> <span class="o">.</span><span class="n">utf8</span><span class="p">)</span> <span class="p">{</span>
      <span class="nf">print</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span> <span class="p">??</span> <span class="s">"Unknown error"</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">task</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
</code></pre>
<h4>
<p>Response</p>
</h4>
<pre class="highlight plaintext"><code>200
</code></pre>
<h4>
<p>Headers</p>
</h4>
<pre class="highlight plaintext"><code>Content-Type: application/json
</code></pre>
<h4>
<p>Body</p>
</h4>
<pre class="highlight plaintext"><code>{
  "transactionId": 1,
  "recipientPhone": "50936377111",
  "senderPhone": "13059547862",
  "countryCode": "HT",
  "operatorId": 173,
  "requestedAmount": 15,
  "requestedAmountCurrencyCode": "USD",
  "deliveredAmount": 997.2,
  "deliveredAmountCurrencyCode": "HTG",
  "customIdentifier": "transaction by john@example.com",
  "transactionDate": "2018-06-26 07:43:36"
}
</code></pre>
<h4>
<p>Body Schema</p>
</h4>

<h4 class="parameter-section col">
    <div class="row">
        <span class="col-5">
            <span class="name">transactionId</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">The Transaction Id.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">recipientPhone</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">The phone number of recipient.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">senderPhone</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">The phone number of sender.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">countryCode</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">ISO 3166-1 alpha-2 country code of topup destination country.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">operatorId</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Topup operator id.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">requestedAmount</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Topup amount that was requested by sender.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">requestedAmountCurrencyCode</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">ISO-4217 3 letter currency code of requestedAmount field.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">deliveredAmount</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Amount that was delivered in local currency.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">deliveredAmountCurrencyCode</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">ISO-4217 3 letter currency code of deliveredAmount field.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">customIdentifier</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Value of the custom identifier field sent in the topup request.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">transactionDate</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Time stamp recorded for this transaction.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">pinDetail</span>
            <span class="tag color--pink">object</span>
            <span class="require">(optional)</span>
        </span>
        <span class="col-7">PIN detail info.</span>
    </div>
</h4>
<h1 id='transaction-history'>Transaction History</h1><h2 id='retrieve-topup-transactions'>Retrieve topup transactions</h2>
<ul>
<li>Endpoint : <code>/topups/reports/transactions?page=1&amp;size=1&amp;startTime=2018-06-01 00:00:00&amp;endTime=2018-06-26 23:59:59</code></li>
</ul>

<h4>
<p>Transaction History/Retrieve topup transactions</p>
</h4>
<pre class="highlight plaintext"><code>GET : https://topups.reloadly.com/topups/reports/transactions?page=1&amp;size=1&amp;startTime=2018-06-01 00:00:00&amp;endTime=2018-06-26 23:59:59
</code></pre>
<h4>
<p>Parameters</p>
</h4>

<h4 class="parameter-section col">
    <div class="row">
        <span class="col-5">
            <span class="name">page</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(optional)</span>
        </span>
        <span class="col-7">The page number. Default : 1</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">size</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(optional)</span>
        </span>
        <span class="col-7">Total number of elements to show on a page. Default : 100</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">Authorization</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Endpoint requires Authentication token in header.</span>
    </div>
</h4>

<h4>
<p>Code Block</p>
</h4>
<pre class="highlight shell tab-shell"><code>curl --include <span class="se">\</span>
     --header <span class="s2">"Accept: application/com.reloadly.topups-v1+json"</span> <span class="se">\</span>
     --header <span class="s2">"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span> <span class="se">\</span>
  <span class="s1">'https://topups.reloadly.com/topups/reports/transactions?page=1&amp;size=1&amp;startTime=2018-06-01 00:00:00&amp;endTime=2018-06-26 23:59:59'</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// Maven : Add these dependecies to your pom.xml (java6+)</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>

<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Client</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.ClientBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.Response</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.MediaType</span><span class="o">;</span>

<span class="n">Client</span> <span class="n">client</span> <span class="o">=</span> <span class="n">ClientBuilder</span><span class="o">.</span><span class="na">newClient</span><span class="o">();</span>
<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="s">"https://topups.reloadly.com/topups/reports/transactions?page=1&amp;size=1&amp;startTime=2018-06-01 00:00:00&amp;endTime=2018-06-26 23:59:59"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">request</span><span class="o">(</span><span class="n">MediaType</span><span class="o">.</span><span class="na">TEXT_PLAIN_TYPE</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">();</span>

<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"status: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getStatus</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"headers: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getHeaders</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"body:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">readEntity</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">));</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span> <span class="s1">'https://topups.reloadly.com/topups/reports/transactions?page=1&amp;size=1&amp;startTime=2018-06-01 00:00:00&amp;endTime=2018-06-26 23:59:59'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Accept'</span><span class="p">,</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Authorization'</span><span class="p">,</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">===</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Status:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Headers:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAllResponseHeaders</span><span class="p">());</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Body:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">responseText</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">send</span><span class="p">();</span>
</code></pre><pre class="highlight julia tab-julia"><code><span class="n">var</span> <span class="n">request</span> <span class="o">=</span> <span class="n">require</span><span class="x">(</span><span class="err">'</span><span class="n">request</span><span class="err">'</span><span class="x">);</span>

<span class="n">request</span><span class="x">({</span>
  <span class="n">method</span><span class="x">:</span> <span class="err">'</span><span class="n">GET</span><span class="err">'</span><span class="x">,</span>
  <span class="n">url</span><span class="x">:</span> <span class="err">'</span><span class="n">https</span><span class="x">:</span><span class="o">//</span><span class="n">topups</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">topups</span><span class="o">/</span><span class="n">reports</span><span class="o">/</span><span class="n">transactions</span><span class="o">?</span><span class="n">page</span><span class="o">=</span><span class="mi">1</span><span class="o">&amp;</span><span class="n">size</span><span class="o">=</span><span class="mi">1</span><span class="o">&amp;</span><span class="n">startTime</span><span class="o">=</span><span class="mi">2018</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">01</span> <span class="mi">00</span><span class="x">:</span><span class="mi">00</span><span class="x">:</span><span class="mi">00</span><span class="o">&amp;</span><span class="n">endTime</span><span class="o">=</span><span class="mi">2018</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">26</span> <span class="mi">23</span><span class="x">:</span><span class="mi">59</span><span class="x">:</span><span class="mi">59</span><span class="err">'</span><span class="x">,</span>
  <span class="n">headers</span><span class="x">:</span> <span class="x">{</span>
    <span class="err">'</span><span class="n">Accept</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">application</span><span class="o">/</span><span class="n">com</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">topups</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="err">'</span><span class="x">,</span>
    <span class="err">'</span><span class="n">Authorization</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">Bearer</span> <span class="n">eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa</span><span class="err">'</span>
  <span class="x">}},</span> <span class="k">function</span><span class="nf"> </span><span class="o">(</span><span class="nb">error</span><span class="x">,</span> <span class="n">response</span><span class="x">,</span> <span class="n">body</span><span class="x">)</span> <span class="x">{</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Status</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">response</span><span class="o">.</span><span class="n">statusCode</span><span class="x">);</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Headers</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">JSON</span><span class="o">.</span><span class="n">stringify</span><span class="x">(</span><span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="x">));</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Response</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">body</span><span class="x">);</span>
<span class="x">});</span>
</code></pre><pre class="highlight perl tab-perl"><code><span class="nv">$ENV</span><span class="p">{</span><span class="s">'PERL_LWP_SSL_VERIFY_HOSTNAME'</span><span class="p">}</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">strict</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">warnings</span><span class="p">;</span>
<span class="k">use</span> <span class="mf">5.010</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">Cpanel::JSON::</span><span class="nv">XS</span> <span class="sx">qw(encode_json decode_json)</span><span class="p">;</span>

<span class="k">my</span> <span class="nv">$ua</span>   <span class="o">=</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="o">-&gt;</span><span class="k">new</span><span class="p">;</span>

<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Accept"</span> <span class="o">=&gt;</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>
<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Authorization"</span> <span class="o">=&gt;</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>

<span class="k">my</span> <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">get</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/topups/reports/transactions?page=1&amp;size=1&amp;startTime=2018-06-01 00:00:00&amp;endTime=2018-06-26 23:59:59"</span><span class="p">);</span>

<span class="k">print</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nv">as_string</span><span class="p">;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">urllib2</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="s">'https://topups.reloadly.com/topups/reports/transactions?page=1&amp;size=1&amp;startTime=2018-06-01 00:00:00&amp;endTime=2018-06-26 23:59:59'</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="n">response_body</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span> <span class="n">response_body</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="s2">"https://topups.reloadly.com/topups/reports/transactions?page=1&amp;size=1&amp;startTime=2018-06-01 00:00:00&amp;endTime=2018-06-26 23:59:59"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="k">TRUE</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="k">FALSE</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"Accept: application/com.reloadly.topups-v1+json"</span><span class="p">,</span>
  <span class="s2">"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$response</span><span class="p">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rubygems'</span> <span class="k">if</span> <span class="no">RUBY_VERSION</span> <span class="o">&lt;</span> <span class="s1">'1.9'</span>
<span class="nb">require</span> <span class="s1">'rest_client'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:accept</span> <span class="o">=&gt;</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="ss">:authorization</span> <span class="o">=&gt;</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="s1">'https://topups.reloadly.com/topups/reports/transactions?page=1&amp;size=1&amp;startTime=2018-06-01 00:00:00&amp;endTime=2018-06-26 23:59:59'</span><span class="p">,</span> <span class="n">headers</span>
<span class="nb">puts</span> <span class="n">response</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
    </span><span class="s">"fmt"</span><span class="x">
    </span><span class="s">"io/ioutil"</span><span class="x">
    </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">

    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://topups.reloadly.com/topups/reports/transactions?page=1&amp;size=1&amp;startTime=2018-06-01 00:00:00&amp;endTime=2018-06-26 23:59:59"</span><span class="p">,</span><span class="x"> </span><span class="no">nil</span><span class="p">)</span><span class="x">

    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"Accept"</span><span class="p">,</span><span class="x"> </span><span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"Authorization"</span><span class="p">,</span><span class="x"> </span><span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">)</span><span class="x">

    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">

    </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Errored when sending request to the server"</span><span class="p">)</span><span class="x">
        </span><span class="k">return</span><span class="x">
    </span><span class="p">}</span><span class="x">

    </span><span class="k">defer</span><span class="x"> </span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span><span class="x">
    </span><span class="n">resp_body</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span><span class="x">

    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Status</span><span class="p">)</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="kt">string</span><span class="p">(</span><span class="n">resp_body</span><span class="p">))</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="c1">//Common testing requirement. If you are consuming an API in a sandbox/test region, uncomment this line of code ONLY for non production uses.</span>
<span class="c1">//System.Net.ServicePointManager.ServerCertificateValidationCallback = delegate { return true; };</span>

<span class="c1">//Be sure to run "Install-Package Microsoft.Net.Http" from your nuget command line.</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Net.Http</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">baseAddress</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Uri</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/"</span><span class="p">);</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">httpClient</span> <span class="p">=</span> <span class="k">new</span> <span class="n">HttpClient</span><span class="p">{</span> <span class="n">BaseAddress</span> <span class="p">=</span> <span class="n">baseAddress</span> <span class="p">})</span>
<span class="p">{</span>

  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"accept"</span><span class="p">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>

  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>

  <span class="k">using</span><span class="p">(</span><span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">await</span> <span class="n">httpClient</span><span class="p">.</span><span class="nf">GetAsync</span><span class="p">(</span><span class="s">"topups/reports/transactions?page=1&amp;size=1&amp;startTime=2018-06-01 00:00:00&amp;endTime=2018-06-26 23:59:59"</span><span class="p">))</span>
  <span class="p">{</span>

        <span class="kt">string</span> <span class="n">responseData</span> <span class="p">=</span> <span class="k">await</span> <span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="nf">ReadAsStringAsync</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight vb tab-vb"><code><span class="k">Dim</span> <span class="nv">request</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">WebRequest</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/topups/reports/transactions?page=1&amp;size=1&amp;startTime=2018-06-01 00:00:00&amp;endTime=2018-06-26 23:59:59"</span><span class="p">),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebRequest</span><span class="p">)</span>

<span class="n">request</span><span class="p">.</span><span class="n">Method</span> <span class="o">=</span> <span class="s">"GET"</span>

<span class="n">request</span><span class="p">.</span><span class="n">Accept</span> <span class="o">=</span> <span class="s">"application/com.reloadly.topups-v1+json"</span>

<span class="n">request</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">)</span>

<span class="n">request</span><span class="p">.</span><span class="n">ContentLength</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">Dim</span> <span class="nv">responseContent</span> <span class="ow">As</span> <span class="kt">String</span>
<span class="k">Using</span> <span class="n">response</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">GetResponse</span><span class="p">(),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebResponse</span><span class="p">)</span>
  <span class="k">Using</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">New</span> <span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="n">StreamReader</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">GetResponseStream</span><span class="p">())</span>
    <span class="n">responseContent</span> <span class="o">=</span> <span class="n">reader</span><span class="p">.</span><span class="n">ReadToEnd</span><span class="p">()</span>
  <span class="k">End</span> <span class="k">Using</span>
<span class="k">End</span> <span class="k">Using</span>
</code></pre><pre class="highlight groovy tab-groovy"><code><span class="kn">import</span> <span class="nn">groovyx.net.http.RESTClient</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">groovyx</span><span class="o">.</span><span class="na">net</span><span class="o">.</span><span class="na">http</span><span class="o">.</span><span class="na">ContentType</span><span class="o">.</span><span class="na">JSON</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonSlurper</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonOutput</span>

<span class="nd">@Grab</span> <span class="o">(</span><span class="n">group</span> <span class="o">=</span> <span class="s1">'org.codehaus.groovy.modules.http-builder'</span><span class="o">,</span> <span class="n">module</span> <span class="o">=</span> <span class="s1">'http-builder'</span><span class="o">,</span> <span class="n">version</span> <span class="o">=</span> <span class="s1">'0.5.0'</span><span class="o">)</span>
<span class="kt">def</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RESTClient</span><span class="o">(</span><span class="s2">"https://topups.reloadly.com"</span><span class="o">)</span>

<span class="kt">def</span> <span class="n">emptyHeaders</span> <span class="o">=</span> <span class="o">[:]</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Accept"</span> <span class="o">=</span> <span class="s2">"application/com.reloadly.topups-v1+json"</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Authorization"</span> <span class="o">=</span> <span class="s2">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">get</span><span class="o">(</span> <span class="n">path</span> <span class="o">:</span> <span class="s2">"/topups/reports/transactions?page=1&amp;size=1&amp;startTime=2018-06-01 00:00:00&amp;endTime=2018-06-26 23:59:59"</span><span class="o">,</span> <span class="nl">headers:</span> <span class="n">emptyHeaders</span> <span class="o">)</span>

<span class="n">println</span><span class="o">(</span><span class="s2">"Status:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">status</span><span class="o">)</span>

<span class="k">if</span> <span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Content Type: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">contentType</span><span class="o">)</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Body:\n"</span> <span class="o">+</span> <span class="n">JsonOutput</span><span class="o">.</span><span class="na">prettyPrint</span><span class="o">(</span><span class="n">JsonOutput</span><span class="o">.</span><span class="na">toJson</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)))</span>
<span class="o">}</span>
</code></pre><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSURL</span> <span class="o">*</span><span class="n">URL</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURL</span> <span class="nf">URLWithString</span><span class="p">:</span><span class="s">@"https://topups.reloadly.com/topups/reports/transactions?page=1&amp;size=1&amp;startTime=2018-06-01 00:00:00&amp;endTime=2018-06-26 23:59:59"</span><span class="p">];</span>

<span class="n">NSMutableURLRequest</span> <span class="o">*</span><span class="n">request</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableURLRequest</span> <span class="nf">requestWithURL</span><span class="p">:</span><span class="n">URL</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setHTTPMethod</span><span class="p">:</span><span class="s">@"GET"</span><span class="p">];</span>

<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"application/com.reloadly.topups-v1+json"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Accept"</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Authorization"</span><span class="p">];</span>

<span class="n">NSURLSession</span> <span class="o">*</span><span class="n">session</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURLSession</span> <span class="nf">sharedSession</span><span class="p">];</span>
<span class="n">NSURLSessionDataTask</span> <span class="o">*</span><span class="n">task</span> <span class="o">=</span> <span class="p">[</span><span class="n">session</span> <span class="nf">dataTaskWithRequest</span><span class="p">:</span><span class="n">request</span>
                                        <span class="nf">completionHandler</span><span class="p">:</span>
                              <span class="o">^</span><span class="p">(</span><span class="n">NSData</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="n">NSURLResponse</span> <span class="o">*</span><span class="n">response</span><span class="p">,</span> <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>

                                  <span class="k">if</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
                                      <span class="c1">// Handle error...
</span>                                      <span class="k">return</span><span class="p">;</span>
                                  <span class="p">}</span>

                                  <span class="k">if</span> <span class="p">([</span><span class="n">response</span> <span class="nf">isKindOfClass</span><span class="p">:[</span><span class="n">NSHTTPURLResponse</span> <span class="nf">class</span><span class="p">]])</span> <span class="p">{</span>
                                      <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response HTTP Status code: %ld</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="p">(</span><span class="kt">long</span><span class="p">)[(</span><span class="n">NSHTTPURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="n">response</span> <span class="nf">statusCode</span><span class="p">]);</span>
                                      <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response HTTP Headers:</span><span class="se">\n</span><span class="s">%@</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="p">[(</span><span class="n">NSHTTPURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="n">response</span> <span class="nf">allHeaderFields</span><span class="p">]);</span>
                                  <span class="p">}</span>

                                  <span class="n">NSString</span><span class="o">*</span> <span class="n">body</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSString</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithData</span><span class="p">:</span><span class="n">data</span> <span class="nf">encoding</span><span class="p">:</span><span class="n">NSUTF8StringEncoding</span><span class="p">];</span>
                                  <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response Body:</span><span class="se">\n</span><span class="s">%@</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">);</span>
                              <span class="p">}];</span>
<span class="p">[</span><span class="n">task</span> <span class="nf">resume</span><span class="p">];</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="c1">// NOTE: Uncommment following two lines for use in a Playground</span>
<span class="c1">// import PlaygroundSupport</span>
<span class="c1">// PlaygroundPage.current.needsIndefiniteExecution = true</span>

<span class="k">let</span> <span class="nv">url</span> <span class="o">=</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"https://topups.reloadly.com/topups/reports/transactions?page=1&amp;size=1&amp;startTime=2018-06-01 00:00:00&amp;endTime=2018-06-26 23:59:59"</span><span class="p">)</span><span class="o">!</span>
<span class="k">var</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">URLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Accept"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Authorization"</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">task</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span><span class="p">)</span> <span class="p">{</span> <span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span> <span class="k">in</span>
  <span class="k">if</span> <span class="k">let</span> <span class="nv">response</span> <span class="o">=</span> <span class="n">response</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">if</span> <span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">,</span> <span class="k">let</span> <span class="nv">body</span> <span class="o">=</span> <span class="kt">String</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="n">data</span><span class="p">,</span> <span class="nv">encoding</span><span class="p">:</span> <span class="o">.</span><span class="n">utf8</span><span class="p">)</span> <span class="p">{</span>
      <span class="nf">print</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span> <span class="p">??</span> <span class="s">"Unknown error"</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">task</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
</code></pre>
<h4>
<p>Response</p>
</h4>
<pre class="highlight plaintext"><code>200
</code></pre>
<h4>
<p>Headers</p>
</h4>
<pre class="highlight plaintext"><code>Content-Type: application/json
</code></pre>
<h4>
<p>Body</p>
</h4>
<pre class="highlight plaintext"><code>{
  "content": [
    {
      "transactionId": 1,
      "recipientPhone": "50936377111",
      "senderPhone": "13059547862",
      "countryCode": "HT",
      "operatorId": 173,
      "requestedAmount": 15,
      "requestedAmountCurrencyCode": "USD",
      "deliveredAmount": 997.2,
      "deliveredAmountCurrencyCode": "HTG",
      "customIdentifier": "transaction by john@example.com",
      "transactionDate": "2018-06-26 07:43:36"
    }
  ],
  "pageable": {
    "sort": {
      "unsorted": false,
      "sorted": true
    },
    "pageSize": 100,
    "pageNumber": 0,
    "offset": 0,
    "paged": true,
    "unpaged": false
  },
  "totalPages": 1,
  "totalElements": 1,
  "last": true,
  "sort": {
    "unsorted": false,
    "sorted": true
  },
  "first": true,
  "numberOfElements": 1,
  "size": 100,
  "number": 0
}
</code></pre>
<h4>
<p>Body Schema</p>
</h4>

<h4 class="parameter-section col">
    <div class="row">
        <span class="col-5">
            <span class="name">content</span>
            <span class="tag color--pink">Collection</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Collection of transaction objects.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">first</span>
            <span class="tag color--pink">boolean</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">If this is the first page or not.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">last</span>
            <span class="tag color--pink">boolean</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">If this is the last page or not.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">number</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">The current page number.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">numberOfElements</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Number of elements on this page.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">pageable</span>
            <span class="tag color--pink">object</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">A pagable object to be used for paging.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">sort</span>
            <span class="tag color--pink">object</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">A sort object to be used for generating sorted results.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">totalElements</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Total elements available for the query.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">totalPages</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Total pages available for the query.</span>
    </div>
</h4>
<h2 id='retrieve-topup-transaction-by-transaction-id'>Retrieve topup transaction by transaction id</h2>
<h4>
<p>Transaction History/Retrieve topup transaction by transaction id</p>
</h4>
<pre class="highlight plaintext"><code>GET : https://topups.reloadly.com/topups/reports/transactions/{transactionId}
</code></pre>
<h4>
<p>Parameters</p>
</h4>

<h4 class="parameter-section col">
    <div class="row">
        <span class="col-5">
            <span class="name">transactionId</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">The transaction Id to be retrieved.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">Authorization</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Endpoint requires Authentication token in header.</span>
    </div>
</h4>

<h4>
<p>Code Block</p>
</h4>
<pre class="highlight shell tab-shell"><code>curl --include <span class="se">\</span>
     --header <span class="s2">"Accept: application/com.reloadly.topups-v1+json"</span> <span class="se">\</span>
     --header <span class="s2">"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span> <span class="se">\</span>
  <span class="s1">'https://topups.reloadly.com/topups/reports/transactions/0'</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// Maven : Add these dependecies to your pom.xml (java6+)</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>
<span class="c1">// &lt;dependency&gt;</span>
<span class="c1">//     &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;</span>
<span class="c1">//     &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;</span>
<span class="c1">//     &lt;version&gt;2.8&lt;/version&gt;</span>
<span class="c1">// &lt;/dependency&gt;</span>

<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Client</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.ClientBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Entity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.Response</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.MediaType</span><span class="o">;</span>

<span class="n">Client</span> <span class="n">client</span> <span class="o">=</span> <span class="n">ClientBuilder</span><span class="o">.</span><span class="na">newClient</span><span class="o">();</span>
<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="s">"https://topups.reloadly.com/topups/reports/transactions/0"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">request</span><span class="o">(</span><span class="n">MediaType</span><span class="o">.</span><span class="na">TEXT_PLAIN_TYPE</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">();</span>

<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"status: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getStatus</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"headers: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getHeaders</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"body:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">readEntity</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">));</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span> <span class="s1">'https://topups.reloadly.com/topups/reports/transactions/0'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Accept'</span><span class="p">,</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Authorization'</span><span class="p">,</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">===</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Status:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Headers:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAllResponseHeaders</span><span class="p">());</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Body:'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">responseText</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">.</span><span class="nx">send</span><span class="p">();</span>
</code></pre><pre class="highlight julia tab-julia"><code><span class="n">var</span> <span class="n">request</span> <span class="o">=</span> <span class="n">require</span><span class="x">(</span><span class="err">'</span><span class="n">request</span><span class="err">'</span><span class="x">);</span>

<span class="n">request</span><span class="x">({</span>
  <span class="n">method</span><span class="x">:</span> <span class="err">'</span><span class="n">GET</span><span class="err">'</span><span class="x">,</span>
  <span class="n">url</span><span class="x">:</span> <span class="err">'</span><span class="n">https</span><span class="x">:</span><span class="o">//</span><span class="n">topups</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">topups</span><span class="o">/</span><span class="n">reports</span><span class="o">/</span><span class="n">transactions</span><span class="o">/</span><span class="mi">0</span><span class="err">'</span><span class="x">,</span>
  <span class="n">headers</span><span class="x">:</span> <span class="x">{</span>
    <span class="err">'</span><span class="n">Accept</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">application</span><span class="o">/</span><span class="n">com</span><span class="o">.</span><span class="n">reloadly</span><span class="o">.</span><span class="n">topups</span><span class="o">-</span><span class="n">v1</span><span class="o">+</span><span class="n">json</span><span class="err">'</span><span class="x">,</span>
    <span class="err">'</span><span class="n">Authorization</span><span class="err">'</span><span class="x">:</span> <span class="err">'</span><span class="n">Bearer</span> <span class="n">eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa</span><span class="err">'</span>
  <span class="x">}},</span> <span class="k">function</span><span class="nf"> </span><span class="o">(</span><span class="nb">error</span><span class="x">,</span> <span class="n">response</span><span class="x">,</span> <span class="n">body</span><span class="x">)</span> <span class="x">{</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Status</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">response</span><span class="o">.</span><span class="n">statusCode</span><span class="x">);</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Headers</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">JSON</span><span class="o">.</span><span class="n">stringify</span><span class="x">(</span><span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="x">));</span>
  <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="x">(</span><span class="err">'</span><span class="n">Response</span><span class="x">:</span><span class="err">'</span><span class="x">,</span> <span class="n">body</span><span class="x">);</span>
<span class="x">});</span>
</code></pre><pre class="highlight perl tab-perl"><code><span class="nv">$ENV</span><span class="p">{</span><span class="s">'PERL_LWP_SSL_VERIFY_HOSTNAME'</span><span class="p">}</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">strict</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">warnings</span><span class="p">;</span>
<span class="k">use</span> <span class="mf">5.010</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">Cpanel::JSON::</span><span class="nv">XS</span> <span class="sx">qw(encode_json decode_json)</span><span class="p">;</span>

<span class="k">my</span> <span class="nv">$ua</span>   <span class="o">=</span> <span class="nn">LWP::</span><span class="nv">UserAgent</span><span class="o">-&gt;</span><span class="k">new</span><span class="p">;</span>

<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Accept"</span> <span class="o">=&gt;</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>
<span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">default_header</span><span class="p">(</span><span class="s">"Authorization"</span> <span class="o">=&gt;</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>

<span class="k">my</span> <span class="nv">$response</span> <span class="o">=</span> <span class="nv">$ua</span><span class="o">-&gt;</span><span class="nv">get</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/topups/reports/transactions/0"</span><span class="p">);</span>

<span class="k">print</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="nv">as_string</span><span class="p">;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">urllib2</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Accept'</span><span class="p">:</span> <span class="s">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="s">'Authorization'</span><span class="p">:</span> <span class="s">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="s">'https://topups.reloadly.com/topups/reports/transactions/0'</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

<span class="n">response_body</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">print</span> <span class="n">response_body</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="s2">"https://topups.reloadly.com/topups/reports/transactions/0"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="k">TRUE</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="k">FALSE</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"Accept: application/com.reloadly.topups-v1+json"</span><span class="p">,</span>
  <span class="s2">"Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span>
<span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$response</span><span class="p">);</span>
</code></pre><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'rubygems'</span> <span class="k">if</span> <span class="no">RUBY_VERSION</span> <span class="o">&lt;</span> <span class="s1">'1.9'</span>
<span class="nb">require</span> <span class="s1">'rest_client'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:accept</span> <span class="o">=&gt;</span> <span class="s1">'application/com.reloadly.topups-v1+json'</span><span class="p">,</span>
  <span class="ss">:authorization</span> <span class="o">=&gt;</span> <span class="s1">'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa'</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">RestClient</span><span class="p">.</span><span class="nf">get</span> <span class="s1">'https://topups.reloadly.com/topups/reports/transactions/0'</span><span class="p">,</span> <span class="n">headers</span>
<span class="nb">puts</span> <span class="n">response</span>
</code></pre><pre class="highlight go tab-go"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
    </span><span class="s">"fmt"</span><span class="x">
    </span><span class="s">"io/ioutil"</span><span class="x">
    </span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">

    </span><span class="n">req</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://topups.reloadly.com/topups/reports/transactions/0"</span><span class="p">,</span><span class="x"> </span><span class="no">nil</span><span class="p">)</span><span class="x">

    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"Accept"</span><span class="p">,</span><span class="x"> </span><span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">)</span><span class="x">
    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"Authorization"</span><span class="p">,</span><span class="x"> </span><span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">)</span><span class="x">

    </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="x">

    </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Errored when sending request to the server"</span><span class="p">)</span><span class="x">
        </span><span class="k">return</span><span class="x">
    </span><span class="p">}</span><span class="x">

    </span><span class="k">defer</span><span class="x"> </span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span><span class="x">
    </span><span class="n">resp_body</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span><span class="x">

    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Status</span><span class="p">)</span><span class="x">
    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="kt">string</span><span class="p">(</span><span class="n">resp_body</span><span class="p">))</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="c1">//Common testing requirement. If you are consuming an API in a sandbox/test region, uncomment this line of code ONLY for non production uses.</span>
<span class="c1">//System.Net.ServicePointManager.ServerCertificateValidationCallback = delegate { return true; };</span>

<span class="c1">//Be sure to run "Install-Package Microsoft.Net.Http" from your nuget command line.</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Net.Http</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">baseAddress</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Uri</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/"</span><span class="p">);</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">httpClient</span> <span class="p">=</span> <span class="k">new</span> <span class="n">HttpClient</span><span class="p">{</span> <span class="n">BaseAddress</span> <span class="p">=</span> <span class="n">baseAddress</span> <span class="p">})</span>
<span class="p">{</span>

  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"accept"</span><span class="p">,</span> <span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">);</span>

  <span class="n">httpClient</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="nf">TryAddWithoutValidation</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">);</span>

  <span class="k">using</span><span class="p">(</span><span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">await</span> <span class="n">httpClient</span><span class="p">.</span><span class="nf">GetAsync</span><span class="p">(</span><span class="s">"topups/reports/transactions/0"</span><span class="p">))</span>
  <span class="p">{</span>

        <span class="kt">string</span> <span class="n">responseData</span> <span class="p">=</span> <span class="k">await</span> <span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="nf">ReadAsStringAsync</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><pre class="highlight vb tab-vb"><code><span class="k">Dim</span> <span class="nv">request</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">WebRequest</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="s">"https://topups.reloadly.com/topups/reports/transactions/0"</span><span class="p">),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebRequest</span><span class="p">)</span>

<span class="n">request</span><span class="p">.</span><span class="n">Method</span> <span class="o">=</span> <span class="s">"GET"</span>

<span class="n">request</span><span class="p">.</span><span class="n">Accept</span> <span class="o">=</span> <span class="s">"application/com.reloadly.topups-v1+json"</span>

<span class="n">request</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"authorization"</span><span class="p">,</span> <span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">)</span>

<span class="n">request</span><span class="p">.</span><span class="n">ContentLength</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">Dim</span> <span class="nv">responseContent</span> <span class="ow">As</span> <span class="kt">String</span>
<span class="k">Using</span> <span class="n">response</span> <span class="o">=</span> <span class="k">TryCast</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">GetResponse</span><span class="p">(),</span> <span class="n">System</span><span class="p">.</span><span class="n">Net</span><span class="p">.</span><span class="n">HttpWebResponse</span><span class="p">)</span>
  <span class="k">Using</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">New</span> <span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="n">StreamReader</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">GetResponseStream</span><span class="p">())</span>
    <span class="n">responseContent</span> <span class="o">=</span> <span class="n">reader</span><span class="p">.</span><span class="n">ReadToEnd</span><span class="p">()</span>
  <span class="k">End</span> <span class="k">Using</span>
<span class="k">End</span> <span class="k">Using</span>
</code></pre><pre class="highlight groovy tab-groovy"><code><span class="kn">import</span> <span class="nn">groovyx.net.http.RESTClient</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">groovyx</span><span class="o">.</span><span class="na">net</span><span class="o">.</span><span class="na">http</span><span class="o">.</span><span class="na">ContentType</span><span class="o">.</span><span class="na">JSON</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonSlurper</span>
<span class="kn">import</span> <span class="nn">groovy.json.JsonOutput</span>

<span class="nd">@Grab</span> <span class="o">(</span><span class="n">group</span> <span class="o">=</span> <span class="s1">'org.codehaus.groovy.modules.http-builder'</span><span class="o">,</span> <span class="n">module</span> <span class="o">=</span> <span class="s1">'http-builder'</span><span class="o">,</span> <span class="n">version</span> <span class="o">=</span> <span class="s1">'0.5.0'</span><span class="o">)</span>
<span class="kt">def</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RESTClient</span><span class="o">(</span><span class="s2">"https://topups.reloadly.com"</span><span class="o">)</span>

<span class="kt">def</span> <span class="n">emptyHeaders</span> <span class="o">=</span> <span class="o">[:]</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Accept"</span> <span class="o">=</span> <span class="s2">"application/com.reloadly.topups-v1+json"</span>
<span class="n">emptyHeaders</span><span class="o">.</span><span class="s2">"Authorization"</span> <span class="o">=</span> <span class="s2">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">get</span><span class="o">(</span> <span class="n">path</span> <span class="o">:</span> <span class="s2">"/topups/reports/transactions/0"</span><span class="o">,</span> <span class="nl">headers:</span> <span class="n">emptyHeaders</span> <span class="o">)</span>

<span class="n">println</span><span class="o">(</span><span class="s2">"Status:"</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">status</span><span class="o">)</span>

<span class="k">if</span> <span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Content Type: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">contentType</span><span class="o">)</span>
  <span class="n">println</span><span class="o">(</span><span class="s2">"Body:\n"</span> <span class="o">+</span> <span class="n">JsonOutput</span><span class="o">.</span><span class="na">prettyPrint</span><span class="o">(</span><span class="n">JsonOutput</span><span class="o">.</span><span class="na">toJson</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">)))</span>
<span class="o">}</span>
</code></pre><pre class="highlight objective_c tab-objective_c"><code><span class="n">NSURL</span> <span class="o">*</span><span class="n">URL</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURL</span> <span class="nf">URLWithString</span><span class="p">:</span><span class="s">@"https://topups.reloadly.com/topups/reports/transactions/0"</span><span class="p">];</span>

<span class="n">NSMutableURLRequest</span> <span class="o">*</span><span class="n">request</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableURLRequest</span> <span class="nf">requestWithURL</span><span class="p">:</span><span class="n">URL</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setHTTPMethod</span><span class="p">:</span><span class="s">@"GET"</span><span class="p">];</span>

<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"application/com.reloadly.topups-v1+json"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Accept"</span><span class="p">];</span>
<span class="p">[</span><span class="n">request</span> <span class="nf">setValue</span><span class="p">:</span><span class="s">@"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span> <span class="nf">forHTTPHeaderField</span><span class="p">:</span><span class="s">@"Authorization"</span><span class="p">];</span>

<span class="n">NSURLSession</span> <span class="o">*</span><span class="n">session</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURLSession</span> <span class="nf">sharedSession</span><span class="p">];</span>
<span class="n">NSURLSessionDataTask</span> <span class="o">*</span><span class="n">task</span> <span class="o">=</span> <span class="p">[</span><span class="n">session</span> <span class="nf">dataTaskWithRequest</span><span class="p">:</span><span class="n">request</span>
                                        <span class="nf">completionHandler</span><span class="p">:</span>
                              <span class="o">^</span><span class="p">(</span><span class="n">NSData</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="n">NSURLResponse</span> <span class="o">*</span><span class="n">response</span><span class="p">,</span> <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>

                                  <span class="k">if</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
                                      <span class="c1">// Handle error...
</span>                                      <span class="k">return</span><span class="p">;</span>
                                  <span class="p">}</span>

                                  <span class="k">if</span> <span class="p">([</span><span class="n">response</span> <span class="nf">isKindOfClass</span><span class="p">:[</span><span class="n">NSHTTPURLResponse</span> <span class="nf">class</span><span class="p">]])</span> <span class="p">{</span>
                                      <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response HTTP Status code: %ld</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="p">(</span><span class="kt">long</span><span class="p">)[(</span><span class="n">NSHTTPURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="n">response</span> <span class="nf">statusCode</span><span class="p">]);</span>
                                      <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response HTTP Headers:</span><span class="se">\n</span><span class="s">%@</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="p">[(</span><span class="n">NSHTTPURLResponse</span> <span class="o">*</span><span class="p">)</span><span class="n">response</span> <span class="nf">allHeaderFields</span><span class="p">]);</span>
                                  <span class="p">}</span>

                                  <span class="n">NSString</span><span class="o">*</span> <span class="n">body</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSString</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithData</span><span class="p">:</span><span class="n">data</span> <span class="nf">encoding</span><span class="p">:</span><span class="n">NSUTF8StringEncoding</span><span class="p">];</span>
                                  <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Response Body:</span><span class="se">\n</span><span class="s">%@</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">);</span>
                              <span class="p">}];</span>
<span class="p">[</span><span class="n">task</span> <span class="nf">resume</span><span class="p">];</span>
</code></pre><pre class="highlight swift tab-swift"><code><span class="kd">import</span> <span class="kt">Foundation</span>

<span class="c1">// NOTE: Uncommment following two lines for use in a Playground</span>
<span class="c1">// import PlaygroundSupport</span>
<span class="c1">// PlaygroundPage.current.needsIndefiniteExecution = true</span>

<span class="k">let</span> <span class="nv">url</span> <span class="o">=</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="s">"https://topups.reloadly.com/topups/reports/transactions/0"</span><span class="p">)</span><span class="o">!</span>
<span class="k">var</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">URLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">url</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"application/com.reloadly.topups-v1+json"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Accept"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="nf">addValue</span><span class="p">(</span><span class="s">"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik0wWXpRa"</span><span class="p">,</span> <span class="nv">forHTTPHeaderField</span><span class="p">:</span> <span class="s">"Authorization"</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">task</span> <span class="o">=</span> <span class="kt">URLSession</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">dataTask</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">request</span><span class="p">)</span> <span class="p">{</span> <span class="n">data</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">error</span> <span class="k">in</span>
  <span class="k">if</span> <span class="k">let</span> <span class="nv">response</span> <span class="o">=</span> <span class="n">response</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">if</span> <span class="k">let</span> <span class="nv">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">,</span> <span class="k">let</span> <span class="nv">body</span> <span class="o">=</span> <span class="kt">String</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="n">data</span><span class="p">,</span> <span class="nv">encoding</span><span class="p">:</span> <span class="o">.</span><span class="n">utf8</span><span class="p">)</span> <span class="p">{</span>
      <span class="nf">print</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">error</span> <span class="p">??</span> <span class="s">"Unknown error"</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">task</span><span class="o">.</span><span class="nf">resume</span><span class="p">()</span>
</code></pre>
<h4>
<p>Response</p>
</h4>
<pre class="highlight plaintext"><code>200
</code></pre>
<h4>
<p>Headers</p>
</h4>
<pre class="highlight plaintext"><code>Content-Type: application/json
</code></pre>
<h4>
<p>Body</p>
</h4>
<pre class="highlight plaintext"><code>{
  "transactionId": 0,
  "recipientPhone": "string",
  "senderPhone": "string",
  "countryCode": "string",
  "operatorId": 0,
  "requestedAmount": 0,
  "requestedAmountCurrencyCode": "string",
  "deliveredAmount": 0,
  "deliveredAmountCurrencyCode": "string",
  "customIdentifier": "string",
  "transactionDate": "2019-04-27T12:47:22.186Z",
  "pinDetail": {
    "code": "string",
    "info1": "string",
    "info2": "string",
    "info3": "string",
    "ivr": "string",
    "serial": "string",
    "validity": "string",
    "value": 0
  }
}
</code></pre>
<h4>
<p>Body Schema</p>
</h4>

<h4 class="parameter-section col">
    <div class="row">
        <span class="col-5">
            <span class="name">transactionId</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Uniquely identifying ID of the transaction.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">recipientPhone</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Topup recipient phone number (with country prefix).</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">senderPhone</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Topup sender phone number.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">countryCode</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">ISO 3166-1 alpha-2 country code of topup destination country.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">operatorId</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Topup operator id.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">requestedAmount</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Topup amount that was requested by sender.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">requestedAmountCurrencyCode</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">ISO-4217 3 letter currency code of requestedAmount field.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">deliveredAmount</span>
            <span class="tag color--yellow">number</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Amount that was delivered in local currency.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">deliveredAmountCurrencyCode</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">ISO-4217 3 letter currency code of deliveredAmount field.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">customIdentifier</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Value of the custom identifier field sent in the topup request.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">transactionDate</span>
            <span class="tag color--green">string</span>
            <span class="require">(required)</span>
        </span>
        <span class="col-7">Time stamp recorded for this transaction.</span>
    </div>
    <div class="row">
        <span class="col-5">
            <span class="name">pinDetail</span>
            <span class="tag color--pink">object</span>
            <span class="require">(optional)</span>
        </span>
        <span class="col-7">PIN detail info.</span>
    </div>
</h4>

             	</div> <!--end of row-->
            </div>
              
        <!--<div class="loader"></div>-->
        <a class="back-to-top inner-link" href="#start" data-scroll-class="100vh:active">
            <i class="stack-interface stack-up-open-big"></i>
        </a>
        <script src="js/jquery-3.1.1.min.js"></script>
        <script src="js/flickity.min.js"></script>
        <script src="js/easypiechart.min.js"></script>
        <script src="js/parallax.js"></script>
        <script src="js/typed.min.js"></script>
        <script src="js/datepicker.js"></script>
        <script src="js/isotope.min.js"></script>
        <script src="js/ytplayer.min.js"></script>
        <script src="js/lightbox.min.js"></script>
        <script src="js/granim.min.js"></script>
        <script src="js/jquery.steps.min.js"></script>
        <script src="js/countdown.min.js"></script>
        <script src="js/twitterfetcher.min.js"></script>
        <script src="js/spectragram.min.js"></script>
        <script src="js/smooth-scroll.min.js"></script>
        <script src="js/scripts.js"></script>
        <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
        <script>
        var divinfo = document.getElementById('mydiv');
   		divinfo.style.display = 'none';
    	function show(){ divinfo.style.display = 'block';}
    	function hide(){divinfo.style.display = 'none';}
        </script>
 </body>
</html>